/*
 * This file is generated by Entity Class Compiler, (c) CroTeam 1997-98
 */

#line 2 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"

#include "StdH.h"
#include "GameMP/SEColors.h"
  
#include <Engine/Build.h>

#include "EntitiesMP/Player.h"
#include "EntitiesMP/Bullet.h"
#include "Models/Weapons/Knife/Knife.h"
#include "Models/Weapons/Knife/KnifeItem.h"
#include "Models/Weapons/Colt/Colt.h"
#include "Models/Weapons/Colt/ColtMain.h"
#include "Models/Weapons/SingleShotgun/SingleShotgun.h"
#include "Models/Weapons/SingleShotgun/Barrels.h"
#include "Models/Weapons/DoubleShotgun/DoubleShotgun.h"
#include "Models/Weapons/DoubleShotgun/Dshotgunbarrels.h"
#include "Models/Weapons/DoubleShotgun/HandWithAmmo.h"
#include "Models/Weapons/TommyGun/TommyGun.h"
#include "Models/Weapons/TommyGun/Body.h"
#include "Models/Weapons/MiniGun/MiniGun.h"
#include "Models/Weapons/MiniGun/Body.h"
#include "Models/Weapons/GrenadeLauncher/GrenadeLauncher.h"
#include "Models/Weapons/RocketLauncher/RocketLauncher.h"
#include "Models/Weapons/Laser/Laser.h"
#include "Models/Weapons/Laser/Barrel.h"
#include "Models/Weapons/Cannon/Cannon.h"
#include "Models/Weapons/Cannon/Body.h"
// Mission Pack weapons
#include "ModelsMP/Weapons/Sniper/Sniper.h"
#include "ModelsMP/Weapons/Sniper/Body.h"
#include "ModelsMP/Weapons/Flamer/Flamer.h"
#include "ModelsMP/Weapons/Flamer/Body.h"
#include "ModelsMP/Weapons/Flamer/FuelReservoir.h"
#include "ModelsMP/Weapons/Flamer/Flame.h"  
#include "ModelsMP/Weapons/Chainsaw/Chainsaw.h"
#include "ModelsMP/Weapons/Chainsaw/ChainSawForPlayer.h"
#include "ModelsMP/Weapons/Chainsaw/Body.h"
#include "ModelsMP/Weapons/Chainsaw/Blade.h"
#include "ModelsMP/Weapons/Chainsaw/Teeth.h"

// Mission Pack player body instead of the old one
#include "ModelsMP/Player/SeriousSam/Body.h"
#include "ModelsMP/Player/SeriousSam/Player.h"

#include "EntitiesMP/Switch.h"
#include "EntitiesMP/PlayerView.h"
#include "EntitiesMP/PlayerAnimator.h"
#include "EntitiesMP/MovingBrush.h"
#include "EntitiesMP/MessageHolder.h"
#include "EntitiesMP/EnemyBase.h"
extern INDEX hud_bShowWeapon;

extern const INDEX aiWeaponsRemap[19] = { 0,  1,  10,  2,  3,  4,  5,  6,  7,
                                          8,  9,  11, 13, 12, 14, 15, 16, 17, 18 };


#include <EntitiesMP/PlayerWeapons.h>
#include <EntitiesMP/PlayerWeapons_tables.h>
CEntityEvent *EWeaponsInit::MakeCopy(void) { CEntityEvent *peeCopy = new EWeaponsInit(*this); return peeCopy;}
EWeaponsInit::EWeaponsInit() : CEntityEvent(EVENTCODE_EWeaponsInit) {;
 ClearToDefault(penOwner);
};
CEntityEvent *ESelectWeapon::MakeCopy(void) { CEntityEvent *peeCopy = new ESelectWeapon(*this); return peeCopy;}
ESelectWeapon::ESelectWeapon() : CEntityEvent(EVENTCODE_ESelectWeapon) {;
 ClearToDefault(iWeapon);
};
CEntityEvent *EBoringWeapon::MakeCopy(void) { CEntityEvent *peeCopy = new EBoringWeapon(*this); return peeCopy;}
EBoringWeapon::EBoringWeapon() : CEntityEvent(EVENTCODE_EBoringWeapon) {;
};
CEntityEvent *EFireWeapon::MakeCopy(void) { CEntityEvent *peeCopy = new EFireWeapon(*this); return peeCopy;}
EFireWeapon::EFireWeapon() : CEntityEvent(EVENTCODE_EFireWeapon) {;
};
CEntityEvent *EReleaseWeapon::MakeCopy(void) { CEntityEvent *peeCopy = new EReleaseWeapon(*this); return peeCopy;}
EReleaseWeapon::EReleaseWeapon() : CEntityEvent(EVENTCODE_EReleaseWeapon) {;
};
CEntityEvent *EReloadWeapon::MakeCopy(void) { CEntityEvent *peeCopy = new EReloadWeapon(*this); return peeCopy;}
EReloadWeapon::EReloadWeapon() : CEntityEvent(EVENTCODE_EReloadWeapon) {;
};
CEntityEvent *EWeaponChanged::MakeCopy(void) { CEntityEvent *peeCopy = new EWeaponChanged(*this); return peeCopy;}
EWeaponChanged::EWeaponChanged() : CEntityEvent(EVENTCODE_EWeaponChanged) {;
};
#line 115 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"

// AVAILABLE WEAPON MASK
#define WEAPONS_ALLAVAILABLEMASK 0x3FFF

/*
#if BUILD_TEST
  #define WEAPONS_DISABLEDMASK (\
    (1<<(WEAPON_TOMMYGUN       -1))|\
    (1<<(WEAPON_GRENADELAUNCHER-1))|\
    (1<<(WEAPON_PIPEBOMB       -1))|\
    (1<<(WEAPON_FLAMER         -1))|\
    (1<<(WEAPON_LASER          -1))|\
    (1<<(WEAPON_GHOSTBUSTER    -1))|\
    (1<<(WEAPON_IRONCANNON     -1))|\
    (1<<(WEAPON_NUKECANNON     -1)))
#else 
  #define WEAPONS_DISABLEDMASK (0)
#endif
  */

#define MAX_WEAPONS 30


// MiniGun specific
#define MINIGUN_STATIC      0
#define MINIGUN_FIRE        1
#define MINIGUN_SPINUP      2
#define MINIGUN_SPINDOWN    3

#define MINIGUN_SPINUPTIME      0.5f
#define MINIGUN_SPINDNTIME      3.0f
#define MINIGUN_SPINUPSOUND     0.5f
#define MINIGUN_SPINDNSOUND     1.5f
#define MINIGUN_FULLSPEED       500.0f
#define MINIGUN_SPINUPACC       (MINIGUN_FULLSPEED/MINIGUN_SPINUPTIME)
#define MINIGUN_SPINDNACC       (MINIGUN_FULLSPEED/MINIGUN_SPINDNTIME)
#define MINIGUN_TICKTIME        (_pTimer->TickQuantum)

// chainsaw specific
#define CHAINSAW_UPDATETIME     0.05f

// fire flare specific
#define FLARE_REMOVE 1
#define FLARE_ADD 2

// animation light specific
#define LIGHT_ANIM_MINIGUN 2
#define LIGHT_ANIM_TOMMYGUN 3
#define LIGHT_ANIM_COLT_SHOTGUN 4
#define LIGHT_ANIM_NONE 5


// mana for ammo adjustment (multiplier)
#define MANA_AMMO (0.1f)

// position of weapon model -- weapon 0 is never used
static FLOAT wpn_fH[MAX_WEAPONS+1];
static FLOAT wpn_fP[MAX_WEAPONS+1];
static FLOAT wpn_fB[MAX_WEAPONS+1];
static FLOAT wpn_fX[MAX_WEAPONS+1];
static FLOAT wpn_fY[MAX_WEAPONS+1];
static FLOAT wpn_fZ[MAX_WEAPONS+1];
static FLOAT wpn_fFOV[MAX_WEAPONS+1];
static FLOAT wpn_fClip[MAX_WEAPONS+1];
static FLOAT wpn_fFX[MAX_WEAPONS+1];  // firing source
static FLOAT wpn_fFY[MAX_WEAPONS+1];
//static FLOAT wpn_fFZ[MAX_WEAPONS+1];
static INDEX wpn_iCurrent;
extern FLOAT hud_tmWeaponsOnScreen;
extern FLOAT wpn_fRecoilSpeed[17];
extern FLOAT wpn_fRecoilLimit[17];
extern FLOAT wpn_fRecoilDampUp[17];
extern FLOAT wpn_fRecoilDampDn[17];
extern FLOAT wpn_fRecoilOffset[17];
extern FLOAT wpn_fRecoilFactorP[17];
extern FLOAT wpn_fRecoilFactorZ[17];

// bullet positions
static FLOAT afSingleShotgunPellets[] =
{     -0.3f,+0.1f,    +0.0f,+0.1f,   +0.3f,+0.1f,
  -0.4f,-0.1f,  -0.1f,-0.1f,  +0.1f,-0.1f,  +0.4f,-0.1f
};
static FLOAT afDoubleShotgunPellets[] =
{
      -0.3f,+0.15f, +0.0f,+0.15f, +0.3f,+0.15f,
  -0.4f,+0.05f, -0.1f,+0.05f, +0.1f,+0.05f, +0.4f,+0.05f,
      -0.3f,-0.05f, +0.0f,-0.05f, +0.3f,-0.05f,
  -0.4f,-0.15f, -0.1f,-0.15f, +0.1f,-0.15f, +0.4f,-0.15f
};

// sniper discrete zoom values - 4 (1x,2x,4x,6x)
// synchronize this with sniper properties (properties 233-237)
static INDEX iSniperDiscreteZoomLevels = 4;
static FLOAT afSniperZoom[] =
{
      90.0f,1.0f, 53.1f, 2.0f, 28.0f,4.0f, 14.2f,6.0f, 
       //7.2f,8.0f, 3.56f,10.0f ,1.8f,12.0f
};

// crosshair console variables
static INDEX hud_bCrosshairFixed    = FALSE;
static INDEX hud_bCrosshairColoring = TRUE;
static FLOAT hud_fCrosshairScale    = 1.0f;
static FLOAT hud_fCrosshairOpacity  = 1.0f;
static FLOAT hud_fCrosshairRatio    = 0.5f;  // max distance size ratio
// misc HUD vars
static INDEX hud_bShowPlayerName = TRUE;
static INDEX hud_bShowCoords     = FALSE;
static FLOAT plr_tmSnoopingDelay = 1.0f; // seconds 
extern FLOAT plr_tmSnoopingTime  = 1.0f; // seconds 

// some static vars
static INDEX _iLastCrosshairType=-1;
static CTextureObject _toCrosshair;

// must do this to keep dependency catcher happy
CTFileName fn1 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair1.tex");
CTFileName fn2 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair2.tex");
CTFileName fn3 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair3.tex");
CTFileName fn4 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair4.tex");
CTFileName fn5 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair5.tex");
CTFileName fn6 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair6.tex");
CTFileName fn7 = CTFILENAME("Textures\\Interface\\Crosshairs\\Crosshair7.tex");

void CPlayerWeapons_Precache(ULONG ulAvailable)
{
  CDLLEntityClass *pdec = &CPlayerWeapons_DLLClass;

  // precache general stuff always
  pdec->PrecacheTexture(TEX_REFL_BWRIPLES01      );
  pdec->PrecacheTexture(TEX_REFL_BWRIPLES02      );
  pdec->PrecacheTexture(TEX_REFL_LIGHTMETAL01    );
  pdec->PrecacheTexture(TEX_REFL_LIGHTBLUEMETAL01);
  pdec->PrecacheTexture(TEX_REFL_DARKMETAL       );
  pdec->PrecacheTexture(TEX_REFL_PURPLE01        );
  pdec->PrecacheTexture(TEX_SPEC_WEAK            );
  pdec->PrecacheTexture(TEX_SPEC_MEDIUM          );
  pdec->PrecacheTexture(TEX_SPEC_STRONG          );
  pdec->PrecacheTexture(TEXTURE_HAND             );
  pdec->PrecacheTexture(TEXTURE_FLARE01          );
  pdec->PrecacheModel(MODEL_FLARE01);
  pdec->PrecacheClass(CLASS_BULLET);
  pdec->PrecacheSound(SOUND_SILENCE);

  // precache other weapons if available
  if ( ulAvailable&(1<<(WEAPON_KNIFE-1)) ) {
    pdec->PrecacheModel(MODEL_KNIFE                 );
    pdec->PrecacheModel(MODEL_KNIFEITEM             );
    pdec->PrecacheTexture(TEXTURE_KNIFEITEM         );
    pdec->PrecacheSound(SOUND_KNIFE_BACK            );
    pdec->PrecacheSound(SOUND_KNIFE_HIGH            );
    pdec->PrecacheSound(SOUND_KNIFE_LONG            );
    pdec->PrecacheSound(SOUND_KNIFE_LOW             );
  }

  if ( ulAvailable&(1<<(WEAPON_COLT-1)) ) {
    pdec->PrecacheModel(MODEL_COLT                  );
    pdec->PrecacheModel(MODEL_COLTCOCK              );
    pdec->PrecacheModel(MODEL_COLTMAIN              );
    pdec->PrecacheModel(MODEL_COLTBULLETS           );
    pdec->PrecacheTexture(TEXTURE_COLTMAIN          );  
    pdec->PrecacheTexture(TEXTURE_COLTCOCK          );  
    pdec->PrecacheTexture(TEXTURE_COLTBULLETS       );  
    pdec->PrecacheSound(SOUND_COLT_FIRE             );
    pdec->PrecacheSound(SOUND_COLT_RELOAD           );
  }

  if ( ulAvailable&(1<<(WEAPON_SINGLESHOTGUN-1)) ) {
    pdec->PrecacheModel(MODEL_SINGLESHOTGUN     );    
    pdec->PrecacheModel(MODEL_SS_SLIDER         );    
    pdec->PrecacheModel(MODEL_SS_HANDLE         );    
    pdec->PrecacheModel(MODEL_SS_BARRELS        );    
    pdec->PrecacheTexture(TEXTURE_SS_HANDLE     );    
    pdec->PrecacheTexture(TEXTURE_SS_BARRELS    );    
    pdec->PrecacheSound(SOUND_SINGLESHOTGUN_FIRE);    
  }

  if ( ulAvailable&(1<<(WEAPON_DOUBLESHOTGUN-1)) ) {
    pdec->PrecacheModel(MODEL_DOUBLESHOTGUN        ); 
    pdec->PrecacheModel(MODEL_DS_HANDLE            ); 
    pdec->PrecacheModel(MODEL_DS_BARRELS           ); 
    pdec->PrecacheModel(MODEL_DS_AMMO              ); 
    pdec->PrecacheModel(MODEL_DS_SWITCH            ); 
    pdec->PrecacheModel(MODEL_DS_HANDWITHAMMO      ); 
    pdec->PrecacheTexture(TEXTURE_DS_HANDLE        );   
    pdec->PrecacheTexture(TEXTURE_DS_BARRELS       );   
    pdec->PrecacheTexture(TEXTURE_DS_AMMO          );   
    pdec->PrecacheTexture(TEXTURE_DS_SWITCH        );   
    pdec->PrecacheSound(SOUND_DOUBLESHOTGUN_FIRE   ); 
    pdec->PrecacheSound(SOUND_DOUBLESHOTGUN_RELOAD ); 
  }

  if ( ulAvailable&(1<<(WEAPON_TOMMYGUN-1)) ) {
    pdec->PrecacheModel(MODEL_TOMMYGUN              );
    pdec->PrecacheModel(MODEL_TG_BODY               );
    pdec->PrecacheModel(MODEL_TG_SLIDER             );
    pdec->PrecacheTexture(TEXTURE_TG_BODY           );  
    pdec->PrecacheSound(SOUND_TOMMYGUN_FIRE         );
  }

  if ( ulAvailable&(1<<(WEAPON_SNIPER-1)) ) {
    pdec->PrecacheModel(MODEL_SNIPER          ); 
    pdec->PrecacheModel(MODEL_SNIPER_BODY     ); 
    pdec->PrecacheTexture(TEXTURE_SNIPER_BODY );   
    pdec->PrecacheSound(SOUND_SNIPER_FIRE     ); 
  }

  if ( ulAvailable&(1<<(WEAPON_MINIGUN-1)) ) {
    pdec->PrecacheModel(MODEL_MINIGUN          );     
    pdec->PrecacheModel(MODEL_MG_BARRELS       );     
    pdec->PrecacheModel(MODEL_MG_BODY          );     
    pdec->PrecacheModel(MODEL_MG_ENGINE        );     
    pdec->PrecacheTexture(TEXTURE_MG_BODY      );       
    pdec->PrecacheTexture(TEXTURE_MG_BARRELS   );       
    pdec->PrecacheSound(SOUND_MINIGUN_FIRE     );     
    pdec->PrecacheSound(SOUND_MINIGUN_ROTATE   );     
    pdec->PrecacheSound(SOUND_MINIGUN_SPINUP   );     
    pdec->PrecacheSound(SOUND_MINIGUN_SPINDOWN );     
    pdec->PrecacheSound(SOUND_MINIGUN_CLICK    );     
  }
                                         
  if ( ulAvailable&(1<<(WEAPON_ROCKETLAUNCHER-1)) ) {
    pdec->PrecacheModel(MODEL_ROCKETLAUNCHER     );   
    pdec->PrecacheModel(MODEL_RL_BODY            );   
    pdec->PrecacheModel(MODEL_RL_ROTATINGPART    );   
    pdec->PrecacheModel(MODEL_RL_ROCKET          );   
    pdec->PrecacheTexture(TEXTURE_RL_BODY        );     
    pdec->PrecacheTexture(TEXTURE_RL_ROCKET      );     
    pdec->PrecacheSound(SOUND_ROCKETLAUNCHER_FIRE);   
    pdec->PrecacheClass(CLASS_PROJECTILE, PRT_ROCKET);
  }                                        

  if ( ulAvailable&(1<<(WEAPON_GRENADELAUNCHER-1)) ) {
    pdec->PrecacheModel(MODEL_GRENADELAUNCHER       ); 
    pdec->PrecacheModel(MODEL_GL_BODY               ); 
    pdec->PrecacheModel(MODEL_GL_MOVINGPART         ); 
    pdec->PrecacheModel(MODEL_GL_GRENADE            ); 
    pdec->PrecacheTexture(TEXTURE_GL_BODY           );   
    pdec->PrecacheTexture(TEXTURE_GL_MOVINGPART     );
    pdec->PrecacheSound(SOUND_GRENADELAUNCHER_FIRE ); 
    pdec->PrecacheClass(CLASS_PROJECTILE, PRT_GRENADE);
  }

/*
  if ( ulAvailable&(1<<(WEAPON_PIPEBOMB-1)) ) {
    pdec->PrecacheModel(MODEL_PIPEBOMB_STICK        );
    pdec->PrecacheModel(MODEL_PIPEBOMB_HAND         );
    pdec->PrecacheModel(MODEL_PB_BUTTON             );
    pdec->PrecacheModel(MODEL_PB_SHIELD             );
    pdec->PrecacheModel(MODEL_PB_STICK              );
    pdec->PrecacheModel(MODEL_PB_BOMB               );
    pdec->PrecacheTexture(TEXTURE_PB_STICK          );  
    pdec->PrecacheTexture(TEXTURE_PB_BOMB           );  
    pdec->PrecacheSound(SOUND_PIPEBOMB_FIRE         );
    pdec->PrecacheSound(SOUND_PIPEBOMB_OPEN         );
    pdec->PrecacheSound(SOUND_PIPEBOMB_THROW        );
    pdec->PrecacheClass(CLASS_PIPEBOMB);
  }
*/
  if ( ulAvailable&(1<<(WEAPON_CHAINSAW-1))) {
    pdec->PrecacheModel(MODEL_CHAINSAW     );
    pdec->PrecacheModel(MODEL_CS_BODY      );
    pdec->PrecacheModel(MODEL_CS_BLADE     );
    pdec->PrecacheModel(MODEL_CS_TEETH     );
    pdec->PrecacheTexture(TEXTURE_CS_BODY  );  
    pdec->PrecacheTexture(TEXTURE_CS_BLADE );  
    pdec->PrecacheTexture(TEXTURE_CS_TEETH );              
    pdec->PrecacheSound(SOUND_CS_FIRE      );
    pdec->PrecacheSound(SOUND_CS_BEGINFIRE );
    pdec->PrecacheSound(SOUND_CS_ENDFIRE   );
    pdec->PrecacheSound(SOUND_CS_BRINGUP   );
    pdec->PrecacheSound(SOUND_CS_BRINGDOWN );
    pdec->PrecacheSound(SOUND_CS_IDLE      );
  }

  if ( ulAvailable&(1<<(WEAPON_FLAMER-1)) ) {
    pdec->PrecacheModel(MODEL_FLAMER      );
    pdec->PrecacheModel(MODEL_FL_BODY     );
    pdec->PrecacheModel(MODEL_FL_RESERVOIR);
    pdec->PrecacheModel(MODEL_FL_FLAME    );
    pdec->PrecacheTexture(TEXTURE_FL_BODY );  
    pdec->PrecacheTexture(TEXTURE_FL_FLAME);  
    pdec->PrecacheTexture(TEXTURE_FL_FUELRESERVOIR);  
    pdec->PrecacheSound(SOUND_FL_FIRE     );
    pdec->PrecacheSound(SOUND_FL_START    );
    pdec->PrecacheSound(SOUND_FL_STOP     );
    pdec->PrecacheClass(CLASS_PROJECTILE, PRT_FLAME);
  }


  if ( ulAvailable&(1<<(WEAPON_LASER-1)) ) {
    pdec->PrecacheModel(MODEL_LASER     );
    pdec->PrecacheModel(MODEL_LS_BODY   );
    pdec->PrecacheModel(MODEL_LS_BARREL );
    pdec->PrecacheTexture(TEXTURE_LS_BODY  );  
    pdec->PrecacheTexture(TEXTURE_LS_BARREL);  
    pdec->PrecacheSound(SOUND_LASER_FIRE);
    pdec->PrecacheClass(CLASS_PROJECTILE, PRT_LASER_RAY);
  }
/*
  if ( ulAvailable&(1<<(WEAPON_GHOSTBUSTER-1)) ) {
    pdec->PrecacheModel(MODEL_GHOSTBUSTER     );
    pdec->PrecacheModel(MODEL_GB_BODY         );
    pdec->PrecacheModel(MODEL_GB_ROTATOR      );
    pdec->PrecacheModel(MODEL_GB_EFFECT1      );
    pdec->PrecacheModel(MODEL_GB_EFFECT1FLARE );
    pdec->PrecacheTexture(TEXTURE_GB_ROTATOR  );  
    pdec->PrecacheTexture(TEXTURE_GB_BODY     );  
    pdec->PrecacheTexture(TEXTURE_GB_LIGHTNING);  
    pdec->PrecacheTexture(TEXTURE_GB_FLARE    );  
    pdec->PrecacheSound(SOUND_GB_FIRE         );
    pdec->PrecacheClass(CLASS_GHOSTBUSTERRAY);
  }
  */
  if ( ulAvailable&(1<<(WEAPON_IRONCANNON-1)) /*||
       ulAvailable&(1<<(WEAPON_NUKECANNON-1))*/ ) {
    pdec->PrecacheModel(MODEL_CANNON    );
    pdec->PrecacheModel(MODEL_CN_BODY   );
//    pdec->PrecacheModel(MODEL_CN_NUKEBOX);
    pdec->PrecacheTexture(TEXTURE_CANNON);
    pdec->PrecacheSound(SOUND_CANNON    );
    pdec->PrecacheSound(SOUND_CANNON_PREPARE);
    pdec->PrecacheClass(CLASS_CANNONBALL);
  }

  // precache animator too
  extern void CPlayerAnimator_Precache(ULONG ulAvailable);
  CPlayerAnimator_Precache(ulAvailable);
}

void CPlayerWeapons_Init(void) {
  // declare weapon position controls
  _pShell->DeclareSymbol("user INDEX wpn_iCurrent;", &wpn_iCurrent);

  #include "Common/WeaponPositions.h"
  
  // declare crosshair and its coordinates
  _pShell->DeclareSymbol("persistent user INDEX hud_bCrosshairFixed;",    &hud_bCrosshairFixed);
  _pShell->DeclareSymbol("persistent user INDEX hud_bCrosshairColoring;", &hud_bCrosshairColoring);
  _pShell->DeclareSymbol("persistent user FLOAT hud_fCrosshairScale;",    &hud_fCrosshairScale);
  _pShell->DeclareSymbol("persistent user FLOAT hud_fCrosshairRatio;",    &hud_fCrosshairRatio);
  _pShell->DeclareSymbol("persistent user FLOAT hud_fCrosshairOpacity;",  &hud_fCrosshairOpacity);
                                  
  _pShell->DeclareSymbol("persistent user INDEX hud_bShowPlayerName;", &hud_bShowPlayerName);
  _pShell->DeclareSymbol("persistent user INDEX hud_bShowCoords;",     &hud_bShowCoords);

  _pShell->DeclareSymbol("persistent user FLOAT plr_tmSnoopingTime;",  &plr_tmSnoopingTime);
  _pShell->DeclareSymbol("persistent user FLOAT plr_tmSnoopingDelay;", &plr_tmSnoopingDelay);

  // precache base weapons
  CPlayerWeapons_Precache(0x03);
}

// weapons positions for raycasting and firing
/*
static FLOAT afKnifePos[4] = { -0.01f, 0.25f, 0.0f};
static FLOAT afColtPos[4] = { -0.01f, 0.1f, 0.0f};
static FLOAT afDoubleColtPos[4] = { -0.01f, 0.1f, 0.0f};
static FLOAT afSingleShotgunPos[4] = { 0.0f, 0.1f, 0.0f};
static FLOAT afDoubleShotgunPos[4] = {  0.0f, 0.1f, 0.0f};
static FLOAT afTommygunPos[4] = { 0.0f, 0.1f, 0.0f};
static FLOAT afMinigunPos[4] = { 0.0f, -0.075f, 0.0f};
static FLOAT afRocketLauncherPos[4] = { -0.175f, 0.19f, -0.23f};
static FLOAT afGrenadeLauncherPos[4] = { 0.0f, 0.16f, -1.42f};
static FLOAT afPipebombPos[4] = { 0.01f, 0.04f, -0.44f};
static FLOAT afFlamerPos[4] = { 0.0f, 0.18f, -0.62f};
static FLOAT afLaserPos[4] = {  0.0f, -0.095f, -0.65f};
static FLOAT afGhostBusterPos[4] = { 0.0f, 0.0f, -0.74f};
static FLOAT afCannonPos[4] = { 0.0f, 0.0f, -0.74f};
*/

// extra weapon positions for shells dropout
static FLOAT afSingleShotgunShellPos[3] = { 0.2f, 0.0f, -0.31f};
static FLOAT afDoubleShotgunShellPos[3] = { 0.0f, 0.0f, -0.5f};
static FLOAT afTommygunShellPos[3] = { 0.2f, 0.0f, -0.31f};
static FLOAT afMinigunShellPos[3] = { 0.2f, 0.0f, -0.31f};
static FLOAT afMinigunShellPos3rdView[3] = { 0.2f, 0.2f, -0.31f};
static FLOAT afSniperShellPos[3] = { 0.2f, 0.0f, -0.15f};

static FLOAT afRightColtPipe[3] = { 0.07f, -0.05f, -0.26f};
static FLOAT afSingleShotgunPipe[3] = { 0.2f, 0.0f, -1.25f};
static FLOAT afDoubleShotgunPipe[3] = { 0.2f, 0.0f, -1.25f};
static FLOAT afTommygunPipe[3] = { -0.06f, 0.1f, -0.6f};
static FLOAT afMinigunPipe[3] = { -0.06f, 0.0f, -0.6f};
static FLOAT afMinigunPipe3rdView[3] = { 0.25f, 0.3f, -2.5f};

//static FLOAT afLaserPos[4] = {  0.0f, -0.095f, -0.65f};
//static FLOAT afLaser1Pos[4] = { -0.115f, -0.05f, -0.65f};
//static FLOAT afLaser2Pos[4] = {  0.115f, -0.05f, -0.65f};
//static FLOAT afLaser3Pos[4] = { -0.145f, -0.14f, -0.8f};
//static FLOAT afLaser4Pos[4] = {  0.145f, -0.14f, -0.8f};

#define TM_START m_aMiniGun
#define F_OFFSET_CHG m_aMiniGunLast
#define F_TEMP m_aMiniGunSpeed

// decrement ammo taking infinite ammo options in account
void DecAmmo(INDEX &ctAmmo, INDEX iDec = 1)
{
  if (!GetSP()->sp_bInfiniteAmmo) {
    ctAmmo-=iDec;
  }
}

void CPlayerWeapons::SetDefaultProperties(void) {
  m_penPlayer = NULL;
  m_bFireWeapon = FALSE ;
  m_bHasAmmo = FALSE ;
  m_iCurrentWeapon = WEAPON_KNIFE ;
  m_iWantedWeapon = WEAPON_KNIFE ;
  m_iPreviousWeapon = WEAPON_KNIFE ;
  m_iAvailableWeapons = 0x01;
  m_bChangeWeapon = FALSE ;
  m_bReloadWeapon = FALSE ;
  m_bMirrorFire = FALSE ;
  m_iAnim = 0;
  m_fAnimWaitTime = 0.0f;
  m_tmRangeSoundSpawned = 0.0f;
  m_bSniperZoom = FALSE ;
  m_fSniperFOV = 90.0f;
  m_fSniperFOVlast = 90.0f;
  m_strLastTarget = "";
  m_tmTargetingStarted = -99.0f;
  m_tmLastTarget = -99.0f;
  m_tmSnoopingStarted = -99.0f;
  m_penTargeting = NULL;
  m_moWeapon.SetData(NULL);
m_moWeapon.mo_toTexture.SetData(NULL);
  m_moWeaponSecond.SetData(NULL);
m_moWeaponSecond.mo_toTexture.SetData(NULL);
  m_tmWeaponChangeRequired = 0.0f;
  m_penRayHit = NULL;
  m_fRayHitDistance = 100.0f;
  m_fEnemyHealth = 0.0f;
  m_vRayHit = FLOAT3D(0 , 0 , 0);
  m_vRayHitLast = FLOAT3D(0 , 0 , 0);
  m_vBulletSource = FLOAT3D(0 , 0 , 0);
  m_vBulletTarget = FLOAT3D(0 , 0 , 0);
  m_iBullets = 0;
  m_iMaxBullets = MAX_BULLETS ;
  m_iShells = 0;
  m_iMaxShells = MAX_SHELLS ;
  m_iRockets = 0;
  m_iMaxRockets = MAX_ROCKETS ;
  m_iGrenades = 0;
  m_iMaxGrenades = MAX_GRENADES ;
  m_iNapalm = 0;
  m_iMaxNapalm = MAX_NAPALM ;
  m_iElectricity = 0;
  m_iMaxElectricity = MAX_ELECTRICITY ;
  m_iIronBalls = 0;
  m_iMaxIronBalls = MAX_IRONBALLS ;
  m_iSniperBullets = 0;
  m_iMaxSniperBullets = MAX_SNIPERBULLETS ;
  m_iKnifeStand = 1;
  m_iColtBullets = 6;
  m_aMiniGun = 0.0f;
  m_aMiniGunLast = 0.0f;
  m_aMiniGunSpeed = 0.0f;
  m_iLastBulletPosition = FLOAT3D(32000.0f , 32000.0f , 32000.0f);
  m_iBulletsOnFireStart = 0;
  m_fSniperMaxFOV = 90.0f;
  m_fSniperMinFOV = 14.2f;
  m_fSnipingZoomSpeed = 2.0f;
  m_bSniping = FALSE ;
  m_fMinimumZoomFOV = 53.1f;
  m_tmLastSniperFire = 0.0f;
  m_penFlame = NULL;
  m_iLaserBarrel = 0;
  m_iFlare = FLARE_REMOVE ;
  m_iSecondFlare = FLARE_REMOVE ;
  m_fWeaponDrawPowerOld = 0;
  m_fWeaponDrawPower = 0;
  m_tmDrawStartTime = 0.0f;
  m_tmFlamerStart = 1e6;
  m_tmFlamerStop = 1e9;
  m_tmLastChainsawSpray = 0.0f;
  m_penPrediction = NULL;
  CRationalEntity::SetDefaultProperties();
}
  
#line 828 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::AddDependentsToPrediction(void) 
#line 829 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 830 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_penPlayer  -> AddToPrediction  ();
#line 833 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_penFlame  -> AddToPrediction  ();
#line 834 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 835 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::Precache(void) 
#line 836 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 837 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayerWeapons_Precache  (m_iAvailableWeapons );
#line 838 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 839 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer * CPlayerWeapons::GetPlayer(void) 
#line 840 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 841 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERT  (m_penPlayer  != NULL );
#line 842 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return (CPlayer  *) & * m_penPlayer ;
#line 843 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 844 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayerAnimator * CPlayerWeapons::GetAnimator(void) 
#line 845 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 846 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERT  (m_penPlayer  != NULL );
#line 847 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return ((CPlayerAnimator  *) & * ((CPlayer  &) * m_penPlayer ) . m_penAnimator );
#line 848 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 850 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * CPlayerWeapons::GetChainSawTeeth(void) 
#line 851 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 852 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  * ppl  = GetPlayer  ();
#line 853 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(ppl  == NULL ){return NULL ;}
#line 854 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmoPlayer  = ppl  -> GetModelObject  ();
#line 855 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pmoPlayer  == NULL ){return NULL ;}
#line 856 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamoTorso  = pmoPlayer  -> GetAttachmentModel  (PLAYER_ATTACHMENT_TORSO );
#line 857 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pamoTorso  == NULL ){return NULL ;}
#line 858 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamoChainSaw  = pamoTorso  -> amo_moModelObject  . GetAttachmentModel  (BODY_ATTACHMENT_MINIGUN );
#line 859 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pamoChainSaw  == NULL ){return NULL ;}
#line 860 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamoBlade  = pamoChainSaw  -> amo_moModelObject  . GetAttachmentModel  (CHAINSAWFORPLAYER_ATTACHMENT_BLADE );
#line 861 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pamoBlade  == NULL ){return NULL ;}
#line 862 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamoTeeth  = pamoBlade  -> amo_moModelObject  . GetAttachmentModel  (BLADE_ATTACHMENT_TEETH );
#line 863 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pamoTeeth  == NULL ){return NULL ;}
#line 864 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return & pamoTeeth  -> amo_moModelObject ;
#line 865 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 868 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::DoRecoil(void) 
#line 869 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 872 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 875 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::HoldingFire(void) 
#line 876 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 877 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_bFireWeapon  && ! m_bChangeWeapon ;
#line 878 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 882 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::RenderWeaponModel(CPerspectiveProjection3D & prProjection,CDrawPort * pdp,
#line 883 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vViewerLightDirection,COLOR colViewerLight,COLOR colViewerAmbient,
#line 884 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL bRender,INDEX iEye) 
#line 885 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 886 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
_mrpModelRenderPrefs  . SetRenderType  (RT_TEXTURE  | RT_SHADING_PHONG );
#line 889 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ControlFlareAttachment  ();
#line 891 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! bRender  || m_iCurrentWeapon  == WEAPON_NONE  
#line 892 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
|| GetPlayer  () -> GetSettings  () -> ps_ulFlags  & PSF_HIDEWEAPON ){return ;}
#line 895 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iWeaponData  = m_iCurrentWeapon ;
#line 898 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT fFOV  = ((CPerspectiveProjection3D  &) prProjection ) . FOVL  ();
#line 899 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plView ;
#line 900 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plView  = ((CPlayer  &) * m_penPlayer ) . en_plViewpoint ;
#line 901 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plView  . RelativeToAbsolute  (m_penPlayer  -> GetPlacement  ());
#line 904 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plWeapon ;
#line 905 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iCurrentWeapon  == WEAPON_CHAINSAW ){
#line 906 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  * plPlayer  = (CPlayer  *) & * m_penPlayer ;
#line 907 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plWeapon  = CPlacement3D (FLOAT3D (wpn_fX  [ iWeaponData  ] + plPlayer  -> m_fChainsawShakeDX  * 0.35f , 
#line 908 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wpn_fY  [ iWeaponData  ] + plPlayer  -> m_fChainsawShakeDY  * 0.35f , 
#line 909 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ iWeaponData  ]) , 
#line 910 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ANGLE3D (AngleDeg  (wpn_fH  [ iWeaponData  ]) , 
#line 911 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AngleDeg  (wpn_fP  [ iWeaponData  ]) , 
#line 912 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AngleDeg  (wpn_fB  [ iWeaponData  ])));
#line 913 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 914 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plWeapon  = CPlacement3D (FLOAT3D (wpn_fX  [ iWeaponData  ] , 
#line 915 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wpn_fY  [ iWeaponData  ] , 
#line 916 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ iWeaponData  ]) , 
#line 917 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ANGLE3D (AngleDeg  (wpn_fH  [ iWeaponData  ]) , 
#line 918 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AngleDeg  (wpn_fP  [ iWeaponData  ]) , 
#line 919 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AngleDeg  (wpn_fB  [ iWeaponData  ])));
#line 920 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 923 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
UBYTE  ubLR  , ubLG  , ubLB  , ubAR  , ubAG  , ubAB ;
#line 924 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ColorToRGB  (colViewerLight  , ubLR  , ubLG  , ubLB );
#line 925 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ColorToRGB  (colViewerAmbient  , ubAR  , ubAG  , ubAB );
#line 926 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iMinDL  = Min  (Min  (ubLR  , ubLG ) , ubLB ) - 32;
#line 927 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iMinDA  = Min  (Min  (ubAR  , ubAG ) , ubAB ) - 32;
#line 928 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iMinDL  < 0){
#line 929 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ubLR  = ClampUp  (ubLR  - iMinDL  , (INDEX) 255);
#line 930 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ubLG  = ClampUp  (ubLG  - iMinDL  , (INDEX) 255);
#line 931 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ubLB  = ClampUp  (ubLB  - iMinDL  , (INDEX) 255);
#line 932 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 933 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iMinDA  < 0){
#line 934 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ubAR  = ClampUp  (ubAR  - iMinDA  , (INDEX) 255);
#line 935 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ubAG  = ClampUp  (ubAG  - iMinDA  , (INDEX) 255);
#line 936 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ubAB  = ClampUp  (ubAB  - iMinDA  , (INDEX) 255);
#line 937 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 938 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const COLOR colLight  = RGBToColor  (ubLR  , ubLG  , ubLB );
#line 939 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const COLOR colAmbient  = RGBToColor  (ubAR  , ubAG  , ubAB );
#line 940 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT tmNow  = _pTimer  -> GetLerpedCurrentTick  ();
#line 942 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
UBYTE  ubBlend  = INVISIBILITY_ALPHA_LOCAL ;
#line 943 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT tmInvisibility  = ((CPlayer  *) & * m_penPlayer ) -> m_tmInvisibility ;
#line 946 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(tmInvisibility  > tmNow ){
#line 947 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fIntensity  = 0.0f;
#line 948 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if((tmInvisibility  - tmNow ) < 3.0f)
#line 949 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 950 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fIntensity  = 0.5f - 0.5f * cos  ((tmInvisibility  - tmNow ) * (6.0f * 3.1415927f / 3.0f));
#line 951 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ubBlend  = (INDEX) (INVISIBILITY_ALPHA_LOCAL  + (FLOAT) (254 - INVISIBILITY_ALPHA_LOCAL ) * fIntensity );
#line 952 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 953 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 958 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iWeaponData  == WEAPON_DOUBLECOLT  || iWeaponData  == WEAPON_DOUBLESHOTGUN )
#line 959 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 961 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CRenderModel  rmMain ;
#line 962 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPerspectiveProjection3D  prMirror  = prProjection ;
#line 963 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
prMirror  . ViewerPlacementL  () = plView ;
#line 964 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
prMirror  . FrontClipDistanceL  () = wpn_fClip  [ iWeaponData  ];
#line 965 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
prMirror  . DepthBufferNearL  () = 0.0f;
#line 966 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
prMirror  . DepthBufferFarL  () = 0.1f;
#line 967 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plWeaponMirror  (FLOAT3D (wpn_fX  [ iWeaponData  ] , wpn_fY  [ iWeaponData  ] , wpn_fZ  [ iWeaponData  ]) , 
#line 968 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ANGLE3D (AngleDeg  (wpn_fH  [ iWeaponData  ]) , AngleDeg  (wpn_fP  [ iWeaponData  ]) , 
#line 969 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AngleDeg  (wpn_fB  [ iWeaponData  ])));
#line 970 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iWeaponData  == WEAPON_DOUBLECOLT ){
#line 971 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D mRotation ;
#line 972 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (mRotation  , plView  . pl_OrientationAngle );
#line 973 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plWeaponMirror  . pl_PositionVector  (1) = - plWeaponMirror  . pl_PositionVector  (1);
#line 974 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plWeaponMirror  . pl_OrientationAngle  (1) = - plWeaponMirror  . pl_OrientationAngle  (1);
#line 975 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plWeaponMirror  . pl_OrientationAngle  (3) = - plWeaponMirror  . pl_OrientationAngle  (3);
#line 976 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 977 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPerspectiveProjection3D  &) prMirror ) . FOVL  () = AngleDeg  (wpn_fFOV  [ iWeaponData  ]);
#line 978 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CAnyProjection3D  apr ;
#line 979 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
apr  = prMirror ;
#line 980 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Stereo_AdjustProjection  (* apr  , iEye  , 0.1f);
#line 981 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BeginModelRenderingView  (apr  , pdp );
#line 983 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponMovingOffset  (plWeaponMirror  . pl_PositionVector );
#line 984 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plWeaponMirror  . RelativeToAbsoluteSmooth  (plView );
#line 985 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
rmMain  . SetObjectPlacement  (plWeaponMirror );
#line 987 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
rmMain  . rm_colLight  = colLight ;
#line 988 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
rmMain  . rm_colAmbient  = colAmbient ;
#line 989 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
rmMain  . rm_vLightDirection  = vViewerLightDirection ;
#line 990 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
rmMain  . rm_ulFlags  |= RMF_WEAPON ;
#line 991 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(tmInvisibility  > tmNow ){
#line 992 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
rmMain  . rm_colBlend  = (rmMain  . rm_colBlend  & 0xffffff00) | ubBlend ;
#line 993 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 995 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeaponSecond  . SetupModelRendering  (rmMain );
#line 996 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeaponSecond  . RenderModel  (rmMain );
#line 997 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EndModelRenderingView  ();
#line 998 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1001 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iWeaponData  == WEAPON_MINIGUN ){RotateMinigun  ();}
#line 1004 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CRenderModel  rmMain ;
#line 1005 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
prProjection  . ViewerPlacementL  () = plView ;
#line 1006 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
prProjection  . FrontClipDistanceL  () = wpn_fClip  [ iWeaponData  ];
#line 1007 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
prProjection  . DepthBufferNearL  () = 0.0f;
#line 1008 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
prProjection  . DepthBufferFarL  () = 0.1f;
#line 1009 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPerspectiveProjection3D  &) prProjection ) . FOVL  () = AngleDeg  (wpn_fFOV  [ iWeaponData  ]);
#line 1011 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CAnyProjection3D  apr ;
#line 1012 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
apr  = prProjection ;
#line 1013 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Stereo_AdjustProjection  (* apr  , iEye  , 0.1f);
#line 1014 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BeginModelRenderingView  (apr  , pdp );
#line 1016 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponMovingOffset  (plWeapon  . pl_PositionVector );
#line 1017 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plWeapon  . RelativeToAbsoluteSmooth  (plView );
#line 1018 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
rmMain  . SetObjectPlacement  (plWeapon );
#line 1020 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
rmMain  . rm_colLight  = colLight ;
#line 1021 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
rmMain  . rm_colAmbient  = colAmbient ;
#line 1022 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
rmMain  . rm_vLightDirection  = vViewerLightDirection ;
#line 1023 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
rmMain  . rm_ulFlags  |= RMF_WEAPON ;
#line 1024 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(tmInvisibility  > tmNow ){
#line 1025 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
rmMain  . rm_colBlend  = (rmMain  . rm_colBlend  & 0xffffff00) | ubBlend ;
#line 1026 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1028 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . SetupModelRendering  (rmMain );
#line 1029 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . RenderModel  (rmMain );
#line 1048 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EndModelRenderingView  ();
#line 1051 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPerspectiveProjection3D  &) prProjection ) . FOVL  () = fFOV ;
#line 1052 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1056 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::WeaponMovingOffset(FLOAT3D & plPos) 
#line 1057 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1058 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayerAnimator  & plan  = (CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ;
#line 1059 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fXOffset  = Lerp  (plan  . m_fMoveLastBanking  , plan  . m_fMoveBanking  , _pTimer  -> GetLerpFactor  ()) * - 0.02f;
#line 1060 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fYOffset  = Lerp  (plan  . m_fWeaponYLastOffset  , plan  . m_fWeaponYOffset  , _pTimer  -> GetLerpFactor  ()) * 0.15f;
#line 1061 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fYOffset  += (fXOffset  * fXOffset ) * 30.0f;
#line 1062 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  (1) += fXOffset ;
#line 1063 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  (2) += fYOffset ;
#line 1065 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iCurrentWeapon  == WEAPON_GRENADELAUNCHER )
#line 1066 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1068 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * amo  = m_moWeapon  . GetAttachmentModel  (GRENADELAUNCHER_ATTACHMENT_MOVING_PART );
#line 1069 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fLerpedMovement  = Lerp  (m_fWeaponDrawPowerOld  , m_fWeaponDrawPower  , _pTimer  -> GetLerpFactor  ());
#line 1070 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
amo  -> amo_plRelative  . pl_PositionVector  (3) = fLerpedMovement ;
#line 1071 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  (3) += fLerpedMovement  / 2.0f;
#line 1072 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_tmDrawStartTime  != 0.0f)
#line 1073 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1074 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT tmPassed  = _pTimer  -> GetLerpedCurrentTick  () - m_tmDrawStartTime ;
#line 1075 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  (1) += Sin  (tmPassed  * 360.0f * 10) * 0.0125f * tmPassed  / 6.0f;
#line 1076 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  (2) += Sin  (tmPassed  * 270.0f * 8) * 0.01f * tmPassed  / 6.0f;
#line 1077 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1078 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1080 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else if((m_iCurrentWeapon  == WEAPON_IRONCANNON )
#line 1081 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
)
#line 1082 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1083 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fLerpedMovement  = Lerp  (m_fWeaponDrawPowerOld  , m_fWeaponDrawPower  , _pTimer  -> GetLerpFactor  ());
#line 1084 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  (3) += fLerpedMovement ;
#line 1085 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_tmDrawStartTime  != 0.0f)
#line 1086 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1087 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT tmPassed  = _pTimer  -> GetLerpedCurrentTick  () - m_tmDrawStartTime ;
#line 1088 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  (1) += Sin  (tmPassed  * 360.0f * 10) * 0.0125f * tmPassed  / 2.0f;
#line 1089 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  (2) += Sin  (tmPassed  * 270.0f * 8) * 0.01f * tmPassed  / 2.0f;
#line 1090 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1091 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1092 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1095 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CheckTargetPrediction(CEntity * penTarget) 
#line 1096 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1098 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! penTarget  -> IsPredictable  ()){
#line 1100 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return ;
#line 1101 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1103 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
extern  FLOAT cli_tmPredictFoe ;
#line 1104 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
extern  FLOAT cli_tmPredictAlly ;
#line 1105 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
extern  FLOAT cli_tmPredictEnemy ;
#line 1108 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CEntity  * penMe  = GetPlayer  ();
#line 1109 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsPredictor  ()){
#line 1110 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penMe  = penMe  -> GetPredicted  ();
#line 1111 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1112 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CEntity  * penYou  = penTarget ;
#line 1113 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(penYou  -> IsPredictor  ()){
#line 1114 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penYou  = penYou  -> GetPredicted  ();
#line 1115 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1118 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (penYou  , "Player")){
#line 1120 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(GetSP  () -> sp_bCooperative ){
#line 1122 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(cli_tmPredictAlly  > 0 && _pNetwork  -> IsPlayerLocal  (penMe )){
#line 1124 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penYou  -> SetPredictionTime  (cli_tmPredictAlly );
#line 1125 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1127 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 1129 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(cli_tmPredictFoe  > 0){
#line 1131 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (penMe )){
#line 1133 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penYou  -> SetPredictionTime  (cli_tmPredictFoe );
#line 1134 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1136 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (penYou )){
#line 1138 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penMe  -> SetPredictionTime  (cli_tmPredictFoe );
#line 1139 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1140 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1141 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1142 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 1144 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(cli_tmPredictEnemy  > 0 && IsDerivedFromClass  (penYou  , "Enemy Base")){
#line 1146 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (penMe )){
#line 1148 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penYou  -> SetPredictionTime  (cli_tmPredictEnemy );
#line 1149 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1150 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1151 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1152 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1155 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::UpdateTargetingInfo(void) 
#line 1156 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1158 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plCrosshair ;
#line 1159 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fFX  = wpn_fFX  [ m_iCurrentWeapon  ];
#line 1160 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fFY  = wpn_fFY  [ m_iCurrentWeapon  ];
#line 1161 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(GetPlayer  () -> m_iViewState  == PVT_3RDPERSONVIEW ){
#line 1162 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fFX  = fFY  = 0;
#line 1163 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1164 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fFX  , fFY  , 0) , plCrosshair  , FALSE );
#line 1166 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (m_penPlayer  , plCrosshair );
#line 1167 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bHitTranslucentPortals  = FALSE ;
#line 1168 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bPhysical  = FALSE ;
#line 1169 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_COLLISIONBOX ;
#line 1170 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 1172 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_vRayHitLast  = m_vRayHit ;
#line 1173 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_vRayHit  = crRay  . cr_vHit ;
#line 1174 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_penRayHit  = crRay  . cr_penHit ;
#line 1175 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fRayHitDistance  = crRay  . cr_fHitDistance ;
#line 1176 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fEnemyHealth  = 0.0f;
#line 1179 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
TIME  tmNow  = _pTimer  -> CurrentTick  ();
#line 1180 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_penRayHit  != NULL )
#line 1181 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1182 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CEntity  * pen  = m_penRayHit ;
#line 1184 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pen  -> GetFlags  () & ENF_ALIVE )
#line 1185 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1187 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CheckTargetPrediction  (pen );
#line 1190 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (pen  , "Player")){
#line 1192 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_tmTargetingStarted  == 0){
#line 1193 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_penTargeting  = pen ;
#line 1194 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmTargetingStarted  = tmNow ;
#line 1195 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1197 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fEnemyHealth  = ((CPlayer  *) pen ) -> GetHealth  () / ((CPlayer  *) pen ) -> m_fMaxHealth ;
#line 1198 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_strLastTarget  . PrintF  ("%s" , ((CPlayer  *) pen ) -> GetPlayerName  ());
#line 1199 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(GetSP  () -> sp_gmGameMode  == CSessionProperties  :: GM_SCOREMATCH ){
#line 1201 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CTString strMana  = "";
#line 1202 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
strMana  . PrintF  (" (%d)" , ((CPlayer  *) pen ) -> m_iMana );
#line 1203 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_strLastTarget  += strMana ;
#line 1204 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1205 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(hud_bShowPlayerName ){m_tmLastTarget  = tmNow  + 1.5f;}
#line 1206 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1208 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else {
#line 1210 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmTargetingStarted  = 0;
#line 1211 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1213 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsDerivedFromClass  (pen  , "Enemy Base")){
#line 1214 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fEnemyHealth  = ((CEnemyBase  *) pen ) -> GetHealth  () / ((CEnemyBase  *) pen ) -> m_fMaxHealth ;
#line 1215 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1217 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_bFireWeapon ){m_tmTargetingStarted  = 0;}
#line 1218 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1220 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else 
#line 1221 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1223 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmTargetingStarted  = 0;
#line 1226 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (pen  , "Moving Brush") && ((CMovingBrush  &) * pen ) . m_penSwitch  != NULL ){
#line 1227 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pen  = ((CMovingBrush  &) * pen ) . m_penSwitch ;
#line 1228 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1230 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (pen  , "Switch") && m_fRayHitDistance  < 2.0f){
#line 1231 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CSwitch  & enSwitch  = (CSwitch  &) * pen ;
#line 1233 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(enSwitch  . m_bUseable ){
#line 1235 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(enSwitch  . m_strMessage  != ""){m_strLastTarget  = enSwitch  . m_strMessage ;}
#line 1236 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else {m_strLastTarget  = TRANS  ("Use");}
#line 1237 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmLastTarget  = tmNow  + 0.5f;
#line 1238 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1239 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1241 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (pen  , "MessageHolder") 
#line 1242 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
&& m_fRayHitDistance  < ((CMessageHolder  *) & * pen ) -> m_fDistance  
#line 1243 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
&& ((CMessageHolder  *) & * pen ) -> m_bActive ){
#line 1244 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const CTFileName & fnmMessage  = ((CMessageHolder  *) & * pen ) -> m_fnmMessage ;
#line 1246 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 1247 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! pl  . HasMessage  (fnmMessage )){
#line 1249 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_strLastTarget  = TRANS  ("Analyze");
#line 1250 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmLastTarget  = tmNow  + 0.5f;
#line 1251 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1252 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1253 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1254 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1256 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else {
#line 1258 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmTargetingStarted  = 0;
#line 1260 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vDir  = crRay  . cr_vTarget  - crRay  . cr_vOrigin ;
#line 1261 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vDir  . Normalize  ();
#line 1262 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_vRayHit  = crRay  . cr_vOrigin  + vDir  * 50.0f;
#line 1263 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1266 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
TIME  tmDelta  = tmNow  - m_tmTargetingStarted ;
#line 1267 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_tmTargetingStarted  > 0 && plr_tmSnoopingDelay  > 0 && tmDelta  > plr_tmSnoopingDelay ){
#line 1268 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmSnoopingStarted  = tmNow ;
#line 1269 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1270 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1275 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::RenderCrosshair(CProjection3D & prProjection,CDrawPort * pdp,CPlacement3D & plViewSource) 
#line 1276 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1277 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iCrossHair  = GetPlayer  () -> GetSettings  () -> ps_iCrossHairType  + 1;
#line 1280 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iCrossHair  <= 0){
#line 1281 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iCrossHair  = 0;
#line 1282 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
_iLastCrosshairType  = 0;
#line 1283 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1286 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_iLastCrosshairType  != iCrossHair ){
#line 1287 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
_iLastCrosshairType  = iCrossHair ;
#line 1288 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CTString fnCrosshair ;
#line 1289 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fnCrosshair  . PrintF  ("Textures\\Interface\\Crosshairs\\Crosshair%d.tex" , iCrossHair );
#line 1290 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
try {
#line 1292 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
_toCrosshair  . SetData_t  (fnCrosshair );
#line 1293 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}catch  (char  * strError ){
#line 1295 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPrintF  (strError );
#line 1296 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iCrossHair  = 0;
#line 1297 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return ;
#line 1298 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1299 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1300 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
COLOR colCrosshair  = C_WHITE ;
#line 1301 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
TIME  tmNow  = _pTimer  -> CurrentTick  ();
#line 1304 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vOnScreen ;
#line 1305 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fDistance  = m_fRayHitDistance ;
#line 1307 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT3D vRayHit  = m_vRayHit ;
#line 1309 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_penRayHit  != NULL ){
#line 1311 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CEntity  * pen  = m_penRayHit ;
#line 1313 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
prProjection  . ViewerPlacementL  () = plViewSource ;
#line 1314 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
prProjection  . ObjectPlacementL  () = CPlacement3D (FLOAT3D (0.0f , 0.0f , 0.0f) , ANGLE3D (0 , 0 , 0));
#line 1315 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
prProjection  . Prepare  ();
#line 1316 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
prProjection  . ProjectCoordinate  (vRayHit  , vOnScreen );
#line 1318 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(hud_bCrosshairColoring  && m_fEnemyHealth  > 0){
#line 1319 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_fEnemyHealth  < 0.25f){colCrosshair  = C_RED ;}
#line 1320 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else if(m_fEnemyHealth  < 0.60f){colCrosshair  = C_YELLOW ;}
#line 1321 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else {colCrosshair  = C_GREEN ;}
#line 1322 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1323 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1325 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else 
#line 1326 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1328 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vOnScreen  (1) = (FLOAT) pdp  -> GetWidth  () * 0.5f;
#line 1329 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vOnScreen  (2) = (FLOAT) pdp  -> GetHeight  () * 0.5f;
#line 1330 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fDistance  = 100.0f;
#line 1331 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1334 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(hud_bCrosshairFixed  || GetPlayer  () -> m_iViewState  == PVT_3RDPERSONVIEW ){
#line 1336 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vOnScreen  (1) = (FLOAT) pdp  -> GetWidth  () * 0.5f;
#line 1337 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vOnScreen  (2) = (FLOAT) pdp  -> GetHeight  () * 0.5f;
#line 1339 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1342 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
hud_fCrosshairScale  = Clamp  (hud_fCrosshairScale  , 0.1f , 2.0f);
#line 1343 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
hud_fCrosshairRatio  = Clamp  (hud_fCrosshairRatio  , 0.1f , 1.0f);
#line 1344 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
hud_fCrosshairOpacity  = Clamp  (hud_fCrosshairOpacity  , 0.1f , 1.0f);
#line 1345 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const ULONG  ulAlpha  = NormFloatToByte  (hud_fCrosshairOpacity );
#line 1347 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iCrossHair  > 0){
#line 1349 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT fMinD  = 1.0f;
#line 1350 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT fMaxD  = 100.0f;
#line 1351 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fDistance  = Clamp  (fDistance  , fMinD  , fMaxD );
#line 1352 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT fRatio  = (fDistance  - fMinD ) / (fMaxD  - fMinD );
#line 1353 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT fMaxSize  = (FLOAT) pdp  -> GetWidth  () / 640.0f;
#line 1354 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT fMinSize  = fMaxSize  * hud_fCrosshairRatio ;
#line 1355 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT fSize  = 16 * Lerp  (fMaxSize  , fMinSize  , fRatio ) * hud_fCrosshairScale ;
#line 1357 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT fI0  = + (PIX ) vOnScreen  (1) - fSize ;
#line 1358 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT fI1  = + (PIX ) vOnScreen  (1) + fSize ;
#line 1359 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT fJ0  = - (PIX ) vOnScreen  (2) - fSize  + pdp  -> GetHeight  ();
#line 1360 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT fJ1  = - (PIX ) vOnScreen  (2) + fSize  + pdp  -> GetHeight  ();
#line 1361 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pdp  -> InitTexture  (& _toCrosshair );
#line 1362 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pdp  -> AddTexture  (fI0  , fJ0  , fI1  , fJ1  , colCrosshair  | ulAlpha );
#line 1363 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pdp  -> FlushRenderingQueue  ();
#line 1364 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1367 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
TIME  tmDelta  = m_tmLastTarget  - tmNow ;
#line 1368 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(tmDelta  > 0){
#line 1370 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SLONG  slDPWidth  = pdp  -> GetWidth  ();
#line 1371 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SLONG  slDPHeight  = pdp  -> GetHeight  ();
#line 1372 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fScaling  = (FLOAT) slDPWidth  / 640.0f;
#line 1374 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pdp  -> SetFont  (_pfdDisplayFont );
#line 1375 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pdp  -> SetTextScaling  (fScaling );
#line 1376 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pdp  -> SetTextAspect  (1.0f);
#line 1378 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ULONG  ulA  = (FLOAT) ulAlpha  * Clamp  (2 * tmDelta  , 0.0f , 1.0f);
#line 1379 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pdp  -> PutTextC  (m_strLastTarget  , slDPWidth  * 0.5f , slDPHeight  * 0.75f , SE_COL_BLUE_NEUTRAL  | ulA );
#line 1380 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1383 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(hud_bShowCoords ){
#line 1384 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CTString strCoords ;
#line 1385 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SLONG  slDPWidth  = pdp  -> GetWidth  ();
#line 1386 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SLONG  slDPHeight  = pdp  -> GetHeight  ();
#line 1388 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pdp  -> SetFont  (_pfdDisplayFont );
#line 1389 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pdp  -> SetTextAspect  (1.0f);
#line 1390 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pdp  -> SetTextScaling  ((FLOAT) slDPWidth  / 640.0f);
#line 1392 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT fMax  = Max  (Max  (vRayHit  (1) , vRayHit  (2)) , vRayHit  (3));
#line 1393 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT fMin  = Min  (Min  (vRayHit  (1) , vRayHit  (2)) , vRayHit  (3));
#line 1394 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(fMax  < + 100000 && fMin  > - 100000){
#line 1395 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
strCoords  . PrintF  ("%.0f,%.0f,%.0f" , vRayHit  (1) , vRayHit  (2) , vRayHit  (3));
#line 1396 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pdp  -> PutTextC  (strCoords  , slDPWidth  * 0.5f , slDPHeight  * 0.10f , C_WHITE  | CT_OPAQUE );
#line 1397 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1398 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1399 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1407 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::ShowFlare(CModelObject & moWeapon,INDEX iAttachObject,INDEX iAttachFlare,FLOAT fSize) {
#line 1408 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo  = & (moWeapon  . GetAttachmentModel  (iAttachObject ) -> amo_moModelObject );
#line 1409 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * pamo  = pmo  -> GetAttachmentModel  (iAttachFlare );
#line 1410 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pamo  -> amo_plRelative  . pl_OrientationAngle  (3) = (rand  () * 360.0f) / RAND_MAX ;
#line 1411 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmo  = & (pamo  -> amo_moModelObject );
#line 1412 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmo  -> StretchModel  (FLOAT3D (fSize  , fSize  , fSize ));
#line 1413 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1417 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::HideFlare(CModelObject & moWeapon,INDEX iAttachObject,INDEX iAttachFlare) {
#line 1418 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo  = & (moWeapon  . GetAttachmentModel  (iAttachObject ) -> amo_moModelObject );
#line 1419 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmo  = & (pmo  -> GetAttachmentModel  (iAttachFlare ) -> amo_moModelObject );
#line 1420 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmo  -> StretchModel  (FLOAT3D (0 , 0 , 0));
#line 1421 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1423 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::SetFlare(INDEX iFlare,INDEX iAction) 
#line 1424 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1426 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! IsPredictionHead  ()){
#line 1428 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return ;
#line 1429 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1432 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayerWeapons  * pen  = (CPlayerWeapons  *) GetPredictionTail  ();
#line 1433 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iFlare  == 0){
#line 1434 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pen  -> m_iFlare  = iAction ;
#line 1435 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pen  -> GetPlayer  () -> GetPlayerAnimator  () -> m_iFlare  = iAction ;
#line 1436 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 1437 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pen  -> m_iSecondFlare  = iAction ;
#line 1438 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pen  -> GetPlayer  () -> GetPlayerAnimator  () -> m_iSecondFlare  = iAction ;
#line 1439 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1440 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1443 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::ControlFlareAttachment(void) {
#line 1452 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayerWeapons  * pen  = (CPlayerWeapons  *) GetPredictionTail  ();
#line 1454 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iCurrentWeapon  == WEAPON_DOUBLECOLT ){
#line 1456 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pen  -> m_iSecondFlare  == FLARE_ADD ){
#line 1457 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pen  -> m_iSecondFlare  = FLARE_REMOVE ;
#line 1458 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShowFlare  (m_moWeaponSecond  , COLT_ATTACHMENT_COLT  , COLTMAIN_ATTACHMENT_FLARE  , 1.0f);
#line 1460 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(pen  -> m_iSecondFlare  == FLARE_REMOVE ){
#line 1461 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
HideFlare  (m_moWeaponSecond  , COLT_ATTACHMENT_COLT  , COLTMAIN_ATTACHMENT_FLARE );
#line 1462 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1463 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1466 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pen  -> m_iFlare  == FLARE_ADD ){
#line 1467 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pen  -> m_iFlare  = FLARE_REMOVE ;
#line 1468 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 1469 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLECOLT : case WEAPON_COLT : 
#line 1470 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShowFlare  (m_moWeapon  , COLT_ATTACHMENT_COLT  , COLTMAIN_ATTACHMENT_FLARE  , 0.75f);
#line 1471 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1472 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : 
#line 1473 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShowFlare  (m_moWeapon  , SINGLESHOTGUN_ATTACHMENT_BARRELS  , BARRELS_ATTACHMENT_FLARE  , 1.0f);
#line 1474 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1475 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLESHOTGUN : 
#line 1476 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShowFlare  (m_moWeapon  , DOUBLESHOTGUN_ATTACHMENT_BARRELS  , DSHOTGUNBARRELS_ATTACHMENT_FLARE  , 1.75f);
#line 1477 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1478 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : 
#line 1479 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShowFlare  (m_moWeapon  , TOMMYGUN_ATTACHMENT_BODY  , BODY_ATTACHMENT_FLARE  , 0.5f);
#line 1480 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1481 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SNIPER : 
#line 1482 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShowFlare  (m_moWeapon  , SNIPER_ATTACHMENT_BODY  , BODY_ATTACHMENT_FLARE  , 0.5f);
#line 1483 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1484 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_MINIGUN : 
#line 1485 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShowFlare  (m_moWeapon  , MINIGUN_ATTACHMENT_BODY  , BODY_ATTACHMENT_FLARE  , 1.25f);
#line 1486 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1487 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1489 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(pen  -> m_iFlare  == FLARE_REMOVE ){
#line 1490 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 1491 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLECOLT : case WEAPON_COLT : 
#line 1492 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
HideFlare  (m_moWeapon  , COLT_ATTACHMENT_COLT  , COLTMAIN_ATTACHMENT_FLARE );
#line 1493 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1494 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : 
#line 1495 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
HideFlare  (m_moWeapon  , SINGLESHOTGUN_ATTACHMENT_BARRELS  , BARRELS_ATTACHMENT_FLARE );
#line 1496 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1497 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLESHOTGUN : 
#line 1498 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
HideFlare  (m_moWeapon  , DOUBLESHOTGUN_ATTACHMENT_BARRELS  , DSHOTGUNBARRELS_ATTACHMENT_FLARE );
#line 1499 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1500 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : 
#line 1501 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
HideFlare  (m_moWeapon  , TOMMYGUN_ATTACHMENT_BODY  , BODY_ATTACHMENT_FLARE );
#line 1502 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1503 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SNIPER : 
#line 1504 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
HideFlare  (m_moWeapon  , SNIPER_ATTACHMENT_BODY  , BODY_ATTACHMENT_FLARE );
#line 1505 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1506 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_MINIGUN : 
#line 1507 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
HideFlare  (m_moWeapon  , MINIGUN_ATTACHMENT_BODY  , BODY_ATTACHMENT_FLARE );
#line 1508 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1509 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1510 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 1511 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERT  (FALSE );
#line 1512 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1513 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1517 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PlayLightAnim(INDEX iAnim,ULONG ulFlags) {
#line 1518 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 1519 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pl  . m_aoLightAnimation  . GetData  () != NULL ){
#line 1520 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_aoLightAnimation  . PlayAnim  (iAnim  , ulFlags );
#line 1521 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1522 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1526 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::SetCurrentWeaponModel(void) {
#line 1528 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 1529 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_NONE : 
#line 1530 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1532 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : 
#line 1533 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeapon  , MODEL_KNIFE  , TEXTURE_HAND  , 0 , 0 , 0);
#line 1534 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , KNIFE_ATTACHMENT_KNIFEITEM  , MODEL_KNIFEITEM  , 
#line 1535 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
TEXTURE_KNIFEITEM  , TEX_REFL_BWRIPLES02  , TEX_SPEC_WEAK  , 0);
#line 1536 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (KNIFE_ANIM_WAIT1  , 0);
#line 1537 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1539 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLECOLT : {
#line 1540 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeaponSecond  , MODEL_COLT  , TEXTURE_HAND  , 0 , 0 , 0);
#line 1541 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeaponSecond  , COLT_ATTACHMENT_BULLETS  , MODEL_COLTBULLETS  , TEXTURE_COLTBULLETS  , TEX_REFL_LIGHTBLUEMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1542 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeaponSecond  , COLT_ATTACHMENT_COCK  , MODEL_COLTCOCK  , TEXTURE_COLTCOCK  , TEX_REFL_LIGHTBLUEMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1543 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeaponSecond  , COLT_ATTACHMENT_COLT  , MODEL_COLTMAIN  , TEXTURE_COLTMAIN  , TEX_REFL_LIGHTBLUEMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1544 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject & mo  = m_moWeaponSecond  . GetAttachmentModel  (COLT_ATTACHMENT_COLT ) -> amo_moModelObject ;
#line 1545 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , mo  , COLTMAIN_ATTACHMENT_FLARE  , MODEL_FLARE01  , TEXTURE_FLARE01  , 0 , 0 , 0);}
#line 1546 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeaponSecond  . StretchModel  (FLOAT3D (- 1 , 1 , 1));
#line 1547 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeaponSecond  . PlayAnim  (COLT_ANIM_WAIT1  , 0);
#line 1548 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_COLT : {
#line 1549 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeapon  , MODEL_COLT  , TEXTURE_HAND  , 0 , 0 , 0);
#line 1550 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , COLT_ATTACHMENT_BULLETS  , MODEL_COLTBULLETS  , TEXTURE_COLTBULLETS  , TEX_REFL_LIGHTBLUEMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1551 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , COLT_ATTACHMENT_COCK  , MODEL_COLTCOCK  , TEXTURE_COLTCOCK  , TEX_REFL_LIGHTBLUEMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1552 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , COLT_ATTACHMENT_COLT  , MODEL_COLTMAIN  , TEXTURE_COLTMAIN  , TEX_REFL_LIGHTBLUEMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1553 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject & mo  = m_moWeapon  . GetAttachmentModel  (COLT_ATTACHMENT_COLT ) -> amo_moModelObject ;
#line 1554 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , mo  , COLTMAIN_ATTACHMENT_FLARE  , MODEL_FLARE01  , TEXTURE_FLARE01  , 0 , 0 , 0);
#line 1555 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (COLT_ANIM_WAIT1  , 0);
#line 1556 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;}
#line 1557 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : {
#line 1558 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeapon  , MODEL_SINGLESHOTGUN  , TEXTURE_HAND  , 0 , 0 , 0);
#line 1559 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , SINGLESHOTGUN_ATTACHMENT_BARRELS  , MODEL_SS_BARRELS  , TEXTURE_SS_BARRELS  , TEX_REFL_DARKMETAL  , TEX_SPEC_WEAK  , 0);
#line 1560 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , SINGLESHOTGUN_ATTACHMENT_HANDLE  , MODEL_SS_HANDLE  , TEXTURE_SS_HANDLE  , TEX_REFL_DARKMETAL  , TEX_SPEC_MEDIUM  , 0);
#line 1561 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , SINGLESHOTGUN_ATTACHMENT_SLIDER  , MODEL_SS_SLIDER  , TEXTURE_SS_BARRELS  , TEX_REFL_DARKMETAL  , TEX_SPEC_MEDIUM  , 0);
#line 1562 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject & mo  = m_moWeapon  . GetAttachmentModel  (SINGLESHOTGUN_ATTACHMENT_BARRELS ) -> amo_moModelObject ;
#line 1563 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , mo  , BARRELS_ATTACHMENT_FLARE  , MODEL_FLARE01  , TEXTURE_FLARE01  , 0 , 0 , 0);
#line 1564 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (SINGLESHOTGUN_ANIM_WAIT1  , 0);
#line 1565 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;}
#line 1566 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLESHOTGUN : {
#line 1567 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeapon  , MODEL_DOUBLESHOTGUN  , TEXTURE_HAND  , 0 , 0 , 0);
#line 1568 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , DOUBLESHOTGUN_ATTACHMENT_BARRELS  , MODEL_DS_BARRELS  , TEXTURE_DS_BARRELS  , TEX_REFL_BWRIPLES01  , TEX_SPEC_MEDIUM  , 0);
#line 1569 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , DOUBLESHOTGUN_ATTACHMENT_HANDLE  , MODEL_DS_HANDLE  , TEXTURE_DS_HANDLE  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1570 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , DOUBLESHOTGUN_ATTACHMENT_SWITCH  , MODEL_DS_SWITCH  , TEXTURE_DS_SWITCH  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1571 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , DOUBLESHOTGUN_ATTACHMENT_AMMO  , MODEL_DS_AMMO  , TEXTURE_DS_AMMO  , 0 , 0 , 0);
#line 1572 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeaponSecond  , MODEL_DS_HANDWITHAMMO  , TEXTURE_HAND  , 0 , 0 , 0);
#line 1573 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject & mo  = m_moWeapon  . GetAttachmentModel  (DOUBLESHOTGUN_ATTACHMENT_BARRELS ) -> amo_moModelObject ;
#line 1574 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , mo  , DSHOTGUNBARRELS_ATTACHMENT_FLARE  , MODEL_FLARE01  , TEXTURE_FLARE01  , 0 , 0 , 0);
#line 1575 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeaponSecond  . StretchModel  (FLOAT3D (1 , 1 , 1));
#line 1576 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (DOUBLESHOTGUN_ANIM_WAIT1  , 0);
#line 1577 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;}
#line 1578 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : {
#line 1579 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeapon  , MODEL_TOMMYGUN  , TEXTURE_HAND  , 0 , 0 , 0);
#line 1580 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , TOMMYGUN_ATTACHMENT_BODY  , MODEL_TG_BODY  , TEXTURE_TG_BODY  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1581 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , TOMMYGUN_ATTACHMENT_SLIDER  , MODEL_TG_SLIDER  , TEXTURE_TG_BODY  , 0 , TEX_SPEC_MEDIUM  , 0);
#line 1582 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject & mo  = m_moWeapon  . GetAttachmentModel  (TOMMYGUN_ATTACHMENT_BODY ) -> amo_moModelObject ;
#line 1583 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , mo  , BODY_ATTACHMENT_FLARE  , MODEL_FLARE01  , TEXTURE_FLARE01  , 0 , 0 , 0);
#line 1584 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;}
#line 1585 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SNIPER : {
#line 1586 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeapon  , MODEL_SNIPER  , TEXTURE_SNIPER_BODY  , 0 , 0 , 0);
#line 1587 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , SNIPER_ATTACHMENT_BODY  , MODEL_SNIPER_BODY  , TEXTURE_SNIPER_BODY  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1588 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject & mo  = m_moWeapon  . GetAttachmentModel  (SNIPER_ATTACHMENT_BODY ) -> amo_moModelObject ;
#line 1589 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , mo  , BODY_ATTACHMENT_FLARE  , MODEL_FLARE01  , TEXTURE_FLARE01  , 0 , 0 , 0);
#line 1590 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;}
#line 1591 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_MINIGUN : {
#line 1592 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeapon  , MODEL_MINIGUN  , TEXTURE_HAND  , 0 , 0 , 0);
#line 1593 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , MINIGUN_ATTACHMENT_BARRELS  , MODEL_MG_BARRELS  , TEXTURE_MG_BARRELS  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1594 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , MINIGUN_ATTACHMENT_BODY  , MODEL_MG_BODY  , TEXTURE_MG_BODY  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1595 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , MINIGUN_ATTACHMENT_ENGINE  , MODEL_MG_ENGINE  , TEXTURE_MG_BARRELS  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1596 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject & mo  = m_moWeapon  . GetAttachmentModel  (MINIGUN_ATTACHMENT_BODY ) -> amo_moModelObject ;
#line 1597 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , mo  , BODY_ATTACHMENT_FLARE  , MODEL_FLARE01  , TEXTURE_FLARE01  , 0 , 0 , 0);
#line 1598 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;}
#line 1599 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_ROCKETLAUNCHER : 
#line 1600 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeapon  , MODEL_ROCKETLAUNCHER  , TEXTURE_RL_BODY  , 0 , 0 , 0);
#line 1601 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , ROCKETLAUNCHER_ATTACHMENT_BODY  , MODEL_RL_BODY  , TEXTURE_RL_BODY  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1602 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , ROCKETLAUNCHER_ATTACHMENT_ROTATINGPART  , MODEL_RL_ROTATINGPART  , TEXTURE_RL_ROTATINGPART  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1603 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , ROCKETLAUNCHER_ATTACHMENT_ROCKET1  , MODEL_RL_ROCKET  , TEXTURE_RL_ROCKET  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1604 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , ROCKETLAUNCHER_ATTACHMENT_ROCKET2  , MODEL_RL_ROCKET  , TEXTURE_RL_ROCKET  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1605 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , ROCKETLAUNCHER_ATTACHMENT_ROCKET3  , MODEL_RL_ROCKET  , TEXTURE_RL_ROCKET  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1606 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1607 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_GRENADELAUNCHER : 
#line 1608 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeapon  , MODEL_GRENADELAUNCHER  , TEXTURE_GL_BODY  , 0 , 0 , 0);
#line 1609 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , GRENADELAUNCHER_ATTACHMENT_BODY  , MODEL_GL_BODY  , TEXTURE_GL_BODY  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1610 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , GRENADELAUNCHER_ATTACHMENT_MOVING_PART  , MODEL_GL_MOVINGPART  , TEXTURE_GL_MOVINGPART  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1611 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , GRENADELAUNCHER_ATTACHMENT_GRENADE  , MODEL_GL_GRENADE  , TEXTURE_GL_MOVINGPART  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1612 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1624 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : 
#line 1625 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeapon  , MODEL_FLAMER  , TEXTURE_HAND  , 0 , 0 , 0);
#line 1626 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , FLAMER_ATTACHMENT_BODY  , MODEL_FL_BODY  , TEXTURE_FL_BODY  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1627 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , FLAMER_ATTACHMENT_FUEL  , MODEL_FL_RESERVOIR  , TEXTURE_FL_FUELRESERVOIR  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1628 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , FLAMER_ATTACHMENT_FLAME  , MODEL_FL_FLAME  , TEXTURE_FL_FLAME  , 0 , 0 , 0);
#line 1629 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1630 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : {
#line 1631 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeapon  , MODEL_CHAINSAW  , TEXTURE_HAND  , 0 , 0 , 0);
#line 1632 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , CHAINSAW_ATTACHMENT_CHAINSAW  , MODEL_CS_BODY  , TEXTURE_CS_BODY  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1633 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , CHAINSAW_ATTACHMENT_BLADE  , MODEL_CS_BLADE  , TEXTURE_CS_BLADE  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1634 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo ;
#line 1635 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmo  = & (m_moWeapon  . GetAttachmentModel  (CHAINSAW_ATTACHMENT_BLADE ) -> amo_moModelObject );
#line 1636 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , * pmo  , BLADE_ATTACHMENT_TEETH  , MODEL_CS_TEETH  , TEXTURE_CS_TEETH  , 0 , 0 , 0);
#line 1637 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;}
#line 1638 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : 
#line 1639 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeapon  , MODEL_LASER  , TEXTURE_HAND  , 0 , 0 , 0);
#line 1640 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , LASER_ATTACHMENT_BODY  , MODEL_LS_BODY  , TEXTURE_LS_BODY  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1641 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , LASER_ATTACHMENT_LEFTUP  , MODEL_LS_BARREL  , TEXTURE_LS_BARREL  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1642 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , LASER_ATTACHMENT_LEFTDOWN  , MODEL_LS_BARREL  , TEXTURE_LS_BARREL  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1643 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , LASER_ATTACHMENT_RIGHTUP  , MODEL_LS_BARREL  , TEXTURE_LS_BARREL  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1644 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , LASER_ATTACHMENT_RIGHTDOWN  , MODEL_LS_BARREL  , TEXTURE_LS_BARREL  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1645 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1666 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_IRONCANNON : 
#line 1668 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetComponents  (this  , m_moWeapon  , MODEL_CANNON  , TEXTURE_CANNON  , 0 , 0 , 0);
#line 1669 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddAttachmentToModel  (this  , m_moWeapon  , CANNON_ATTACHMENT_BODY  , MODEL_CN_BODY  , TEXTURE_CANNON  , TEX_REFL_LIGHTMETAL01  , TEX_SPEC_MEDIUM  , 0);
#line 1672 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1673 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1674 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1681 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::RotateMinigun(void) {
#line 1682 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ANGLE aAngle  = Lerp  (m_aMiniGunLast  , m_aMiniGun  , _pTimer  -> GetLerpFactor  ());
#line 1684 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * amo  = m_moWeapon  . GetAttachmentModel  (MINIGUN_ATTACHMENT_BARRELS );
#line 1685 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
amo  -> amo_plRelative  . pl_OrientationAngle  (3) = aAngle ;
#line 1686 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1695 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CalcWeaponPosition3rdPersonView(FLOAT3D vPos,CPlacement3D & plPos,BOOL bResetZ) {
#line 1696 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_OrientationAngle  = ANGLE3D (0 , 0 , 0);
#line 1698 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 1699 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 1700 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 1701 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 1702 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (- wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 1703 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 1704 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1706 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 1707 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 1708 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 1709 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 1710 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1711 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (1) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 1712 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (2) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 1713 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 1715 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(bResetZ ){
#line 1716 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) = 0.0f;
#line 1717 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1720 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plView  = ((CPlayer  &) * m_penPlayer ) . en_plViewpoint ;
#line 1721 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plView  . pl_PositionVector  (2) = 1.25118f;
#line 1722 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (plView );
#line 1723 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (m_penPlayer  -> GetPlacement  ());
#line 1724 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1727 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CalcWeaponPosition(FLOAT3D vPos,CPlacement3D & plPos,BOOL bResetZ) {
#line 1728 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_OrientationAngle  = ANGLE3D (0 , 0 , 0);
#line 1730 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 1731 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 1732 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 1733 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_bSniping ){
#line 1734 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (0.0f , 0.0f , 0.0f);
#line 1735 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1736 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 1737 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (- wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 1738 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 1739 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1741 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 1742 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 1743 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 1744 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 1745 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1746 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (1) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 1747 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (2) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 1748 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 1750 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(bResetZ ){
#line 1751 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) = 0.0f;
#line 1752 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1755 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plView  = ((CPlayer  &) * m_penPlayer ) . en_plViewpoint ;
#line 1756 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plView  . pl_PositionVector  (2) += ((CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ) . 
#line 1757 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fEyesYOffset ;
#line 1758 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (plView );
#line 1759 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (m_penPlayer  -> GetPlacement  ());
#line 1760 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1763 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CalcLerpedWeaponPosition(FLOAT3D vPos,CPlacement3D & plPos,BOOL bResetZ) 
#line 1764 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1765 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_OrientationAngle  = ANGLE3D (0 , 0 , 0);
#line 1767 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 1768 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 1769 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 1770 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_bSniping ){
#line 1771 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (0.0f , 0.0f , 0.0f);
#line 1772 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1773 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 1774 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (- wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 1775 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 1776 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1778 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 1779 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 1780 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 1781 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 1782 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1783 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (1) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 1784 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (2) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 1785 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 1787 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(bResetZ ){
#line 1788 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) = 0.0f;
#line 1789 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1792 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plRes ;
#line 1793 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetPlayer  () -> GetLerpedWeaponPosition  (plPos  . pl_PositionVector  , plRes );
#line 1794 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  = plRes ;
#line 1795 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1798 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CalcWeaponPositionImprecise(FLOAT3D vPos,CPlacement3D & plPos,BOOL bResetZ,FLOAT fImprecissionAngle) {
#line 1799 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_OrientationAngle  = ANGLE3D ((FRnd  () - 0.5f) * fImprecissionAngle  , (FRnd  () - 0.5f) * fImprecissionAngle  , 0);
#line 1801 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 1802 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 1803 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 1804 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_bSniping ){
#line 1805 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (0.0f , 0.0f , 0.0f);
#line 1806 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1807 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 1808 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  = FLOAT3D (- wpn_fX  [ m_iCurrentWeapon  ] , wpn_fY  [ m_iCurrentWeapon  ] , 
#line 1809 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wpn_fZ  [ m_iCurrentWeapon  ]);
#line 1810 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1812 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! m_bMirrorFire ){
#line 1813 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 1814 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 1815 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (CPlacement3D (vPos  , ANGLE3D (0 , 0 , 0)));
#line 1816 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1817 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (1) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 1818 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (2) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 1819 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) *= SinFast  (wpn_fFOV  [ m_iCurrentWeapon  ] / 2) / SinFast  (90.0f / 2);
#line 1821 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(bResetZ ){
#line 1822 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . pl_PositionVector  (3) = 0.0f;
#line 1823 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1826 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plView  = ((CPlayer  &) * m_penPlayer ) . en_plViewpoint ;
#line 1827 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plView  . pl_PositionVector  (2) += ((CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ) . 
#line 1828 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fEyesYOffset ;
#line 1829 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (plView );
#line 1830 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plPos  . RelativeToAbsoluteSmooth  (m_penPlayer  -> GetPlacement  ());
#line 1831 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1834 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::Setup3DSoundParameters(void) {
#line 1835 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 1838 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 1839 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon1  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 1840 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon2  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 1841 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon3  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 1842 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeaponAmbient  . Set3DParameters  (30.0f , 3.0f , 0.0f , 1.0f);
#line 1843 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1851 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::CutWithKnife(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fWide,FLOAT fThickness,FLOAT fDamage) 
#line 1852 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1854 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plKnife ;
#line 1855 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fX  , fY  , 0) , plKnife  , TRUE );
#line 1858 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT3D & vBase  = plKnife  . pl_PositionVector ;
#line 1859 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D m ;
#line 1860 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (m  , plKnife  . pl_OrientationAngle );
#line 1861 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vRight  = m  . GetColumn  (1) * fWide ;
#line 1862 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  = m  . GetColumn  (2) * fWide ;
#line 1863 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vFront  = - m  . GetColumn  (3) * fRange ;
#line 1865 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vDest  [ 5 ];
#line 1866 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vDest  [ 0 ] = vBase  + vFront ;
#line 1867 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vDest  [ 1 ] = vBase  + vFront  + vUp ;
#line 1868 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vDest  [ 2 ] = vBase  + vFront  - vUp ;
#line 1869 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vDest  [ 3 ] = vBase  + vFront  + vRight ;
#line 1870 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vDest  [ 4 ] = vBase  + vFront  - vRight ;
#line 1872 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CEntity  * penClosest  = NULL ;
#line 1873 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fDistance  = UpperLimit  (0.0f);
#line 1874 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vHit ;
#line 1875 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vDir ;
#line 1877 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
for(INDEX i  = 0;i  < 5;i  ++){
#line 1879 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (m_penPlayer  , vBase  , vDest  [ i  ]);
#line 1880 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bHitTranslucentPortals  = FALSE ;
#line 1881 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
crRay  . cr_fTestR  = fThickness ;
#line 1882 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_COLLISIONBOX ;
#line 1883 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 1886 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  != NULL  && crRay  . cr_fHitDistance  < fDistance ){
#line 1887 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penClosest  = crRay  . cr_penHit ;
#line 1888 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fDistance  = crRay  . cr_fHitDistance ;
#line 1889 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vDir  = vDest  [ i  ] - vBase ;
#line 1890 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vHit  = crRay  . cr_vHit ;
#line 1892 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(i  == 0){
#line 1893 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  -> GetRenderType  () == RT_BRUSH )
#line 1894 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1895 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iSurfaceType  = crRay  . cr_pbpoBrushPolygon  -> bpo_bppProperties  . bpp_ubSurfaceType ;
#line 1896 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EffectParticlesType  eptType  = GetParticleEffectTypeForSurface  (iSurfaceType );
#line 1898 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vNormal  = crRay  . cr_pbpoBrushPolygon  -> bpo_pbplPlane  -> bpl_plAbsolute ;
#line 1899 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vReflected  = vDir  - vNormal  * (2.0f * (vNormal  % vDir ));
#line 1900 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . AddBulletSpray  (vBase  + vFront  , eptType  , vReflected );
#line 1901 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1902 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else if(crRay  . cr_penHit  -> GetRenderType  () == RT_MODEL )
#line 1903 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1904 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL bRender  = TRUE ;
#line 1905 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpillDir  = - ((CPlayer  &) * m_penPlayer ) . en_vGravityDir  * 0.5f;
#line 1906 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SprayParticlesType  sptType  = SPT_NONE ;
#line 1907 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
COLOR colParticles  = C_WHITE  | CT_OPAQUE ;
#line 1908 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fPower  = 4.0f;
#line 1909 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , "ModelHolder2"))
#line 1910 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1911 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
bRender  = FALSE ;
#line 1912 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelDestruction  * penDestruction  = ((CModelHolder2  &) * crRay  . cr_penHit ) . GetDestruction  ();
#line 1913 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(penDestruction  != NULL )
#line 1914 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1915 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
bRender  = TRUE ;
#line 1916 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sptType  = penDestruction  -> m_sptType ;
#line 1917 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1918 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelHolder2  * pmh2  = (CModelHolder2  *) crRay  . cr_penHit ;
#line 1919 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
colParticles  = pmh2  -> m_colBurning ;
#line 1920 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1921 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATaabbox3D boxCutted  = FLOATaabbox3D (FLOAT3D (0 , 0 , 0) , FLOAT3D (1 , 1 , 1));
#line 1922 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(bRender )
#line 1923 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1924 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
crRay  . cr_penHit  -> en_pmoModelObject  -> GetCurrentFrameBBox  (boxCutted );
#line 1925 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . AddGoreSpray  (vBase  + vFront  , vHit  , sptType  , 
#line 1926 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vSpillDir  , boxCutted  , fPower  , colParticles );
#line 1927 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1928 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1930 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 1931 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1932 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1933 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1935 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(penClosest  != NULL ){
#line 1937 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! (GetSP  () -> sp_bCooperative ) && IsOfClass  (penClosest  , "Player")){
#line 1938 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vToTarget  = penClosest  -> GetPlacement  () . pl_PositionVector  - m_penPlayer  -> GetPlacement  () . pl_PositionVector ;
#line 1939 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vTargetHeading  = FLOAT3D (0.0 , 0.0 , - 1.0f) * penClosest  -> GetRotationMatrix  ();
#line 1940 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vToTarget  . Normalize  ();vTargetHeading  . Normalize  ();
#line 1941 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(vToTarget  % vTargetHeading  > 0.64279)
#line 1942 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1943 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PrintCenterMessage  (this  , m_penPlayer  , TRANS  ("Backstab!") , 4.0f , MSS_NONE );
#line 1944 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fDamage  *= 4.0f;
#line 1945 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1946 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1947 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT fDamageMul  = GetSeriousDamageMultiplier  (m_penPlayer );
#line 1948 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
InflictDirectDamage  (penClosest  , m_penPlayer  , DMT_CLOSERANGE  , fDamage  * fDamageMul  , vHit  , vDir );
#line 1949 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 1950 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 1951 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return FALSE ;
#line 1952 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 1956 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::CutWithChainsaw(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fWide,FLOAT fThickness,FLOAT fDamage) 
#line 1957 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1959 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plKnife ;
#line 1960 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fX  , fY  , 0) , plKnife  , TRUE );
#line 1963 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOAT3D & vBase  = plKnife  . pl_PositionVector ;
#line 1964 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D m ;
#line 1965 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (m  , plKnife  . pl_OrientationAngle );
#line 1966 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vRight  = m  . GetColumn  (1) * fWide ;
#line 1967 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  = m  . GetColumn  (2) * fWide ;
#line 1968 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vFront  = - m  . GetColumn  (3) * fRange ;
#line 1970 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vDest  [ 3 ];
#line 1971 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vDest  [ 0 ] = vBase  + vFront ;
#line 1972 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vDest  [ 1 ] = vBase  + vFront  + vRight ;
#line 1973 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vDest  [ 2 ] = vBase  + vFront  - vRight ;
#line 1975 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CEntity  * penClosest  = NULL ;
#line 1976 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fDistance  = UpperLimit  (0.0f);
#line 1977 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vHit ;
#line 1978 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vDir ;
#line 1980 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
for(INDEX i  = 0;i  < 3;i  ++){
#line 1982 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CCastRay  crRay  (m_penPlayer  , vBase  , vDest  [ i  ]);
#line 1983 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
crRay  . cr_bHitTranslucentPortals  = FALSE ;
#line 1984 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
crRay  . cr_fTestR  = fThickness ;
#line 1985 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
crRay  . cr_ttHitModels  = CCastRay  :: TT_COLLISIONBOX ;
#line 1986 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetWorld  () -> CastRay  (crRay );
#line 1989 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  != NULL )
#line 1990 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1991 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penClosest  = crRay  . cr_penHit ;
#line 1992 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fDistance  = crRay  . cr_fHitDistance ;
#line 1993 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vDir  = vDest  [ i  ] - vBase ;
#line 1994 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vDir  . Normalize  ();
#line 1995 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vHit  = crRay  . cr_vHit ;
#line 1997 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(i  == 0)
#line 1998 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 1999 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  -> GetRenderType  () == RT_BRUSH )
#line 2000 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2001 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iSurfaceType  = crRay  . cr_pbpoBrushPolygon  -> bpo_bppProperties  . bpp_ubSurfaceType ;
#line 2002 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EffectParticlesType  eptType  = GetParticleEffectTypeForSurface  (iSurfaceType );
#line 2004 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vNormal  = crRay  . cr_pbpoBrushPolygon  -> bpo_pbplPlane  -> bpl_plAbsolute ;
#line 2005 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vReflected  = vDir  - vNormal  * (2.0f * (vNormal  % vDir ));
#line 2006 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . AddBulletSpray  (vBase  + vFront  , eptType  , vReflected );
#line 2009 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeStrength  = 0.85f;
#line 2010 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeFreqMod  = 1.0f;
#line 2011 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_tmChainShakeEnd  = _pTimer  -> CurrentTick  () + CHAINSAW_UPDATETIME  * 1.5f;
#line 2013 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2014 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else if(crRay  . cr_penHit  -> GetRenderType  () == RT_MODEL )
#line 2015 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2016 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL bRender  = TRUE ;
#line 2017 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpillDir  = - ((CPlayer  &) * m_penPlayer ) . en_vGravityDir  * 0.5f;
#line 2018 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SprayParticlesType  sptType  = SPT_BLOOD ;
#line 2019 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
COLOR colParticles  = C_WHITE  | CT_OPAQUE ;
#line 2020 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! IsDerivedFromClass  (crRay  . cr_penHit  , "Enemy Base")){
#line 2021 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sptType  = SPT_NONE ;
#line 2022 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2023 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fPower  = 4.0f;
#line 2024 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , "Boneman")){sptType  = SPT_BONES ;fPower  = 6.0f;}
#line 2025 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , "Gizmo") || 
#line 2026 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
IsOfClass  (crRay  . cr_penHit  , "Beast")){sptType  = SPT_SLIME ;fPower  = 4.0f;}
#line 2027 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , "Woman")){sptType  = SPT_FEATHER ;fPower  = 3.0f;}
#line 2028 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , "Elemental")){sptType  = SPT_LAVA_STONES ;fPower  = 3.0f;}
#line 2029 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , "Walker")){sptType  = SPT_ELECTRICITY_SPARKS ;fPower  = 30.0f;}
#line 2030 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , "AirElemental")){sptType  = SPT_AIRSPOUTS ;fPower  = 6.0f;}
#line 2031 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , "CannonRotating") || 
#line 2032 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
IsOfClass  (crRay  . cr_penHit  , "CannonStatic")){sptType  = SPT_WOOD ;}
#line 2033 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (crRay  . cr_penHit  , "ModelHolder2"))
#line 2034 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2035 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
bRender  = FALSE ;
#line 2036 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelDestruction  * penDestruction  = ((CModelHolder2  &) * crRay  . cr_penHit ) . GetDestruction  ();
#line 2037 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelHolder2  * pmh2  = (CModelHolder2  *) crRay  . cr_penHit ;
#line 2038 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
colParticles  = pmh2  -> m_colBurning ;
#line 2039 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(penDestruction  != NULL )
#line 2040 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2041 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
bRender  = TRUE ;
#line 2042 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sptType  = penDestruction  -> m_sptType ;
#line 2043 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(sptType  == SPT_COLOREDSTONE )
#line 2044 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2045 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
colParticles  = MulColors  (colParticles  , penDestruction  -> m_colParticles );
#line 2046 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2047 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2048 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2049 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATaabbox3D boxCutted  = FLOATaabbox3D (FLOAT3D (0 , 0 , 0) , FLOAT3D (1 , 1 , 1));
#line 2050 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(bRender  && m_tmLastChainsawSpray  + 0.2f < _pTimer  -> CurrentTick  ())
#line 2051 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2052 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
crRay  . cr_penHit  -> en_pmoModelObject  -> GetCurrentFrameBBox  (boxCutted );
#line 2053 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . AddGoreSpray  (vBase  + vFront  , vHit  , sptType  , 
#line 2054 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vSpillDir  , boxCutted  , fPower  , colParticles );
#line 2055 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmLastChainsawSpray  = _pTimer  -> CurrentTick  ();
#line 2056 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2059 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeStrength  = 1.1f;
#line 2060 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeFreqMod  = 1.0f;
#line 2061 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_tmChainShakeEnd  = _pTimer  -> CurrentTick  () + CHAINSAW_UPDATETIME  * 1.5f;
#line 2063 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2064 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2066 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(crRay  . cr_penHit  -> GetRenderType  () == RT_MODEL  && crRay  . cr_fHitDistance  <= fDistance )
#line 2067 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2069 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(i  == 0)
#line 2070 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2072 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2073 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2074 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2075 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 2077 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeStrength  = 0.1f;
#line 2078 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fChainShakeFreqMod  = 1.0f;
#line 2079 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_tmChainShakeEnd  = _pTimer  -> CurrentTick  () + CHAINSAW_UPDATETIME  * 1.5f;
#line 2080 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2081 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2083 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(penClosest  != NULL ){
#line 2084 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
InflictDirectDamage  (penClosest  , m_penPlayer  , DMT_CHAINSAW  , fDamage  , vHit  , vDir );
#line 2085 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 2086 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2087 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return FALSE ;
#line 2088 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2091 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PrepareSniperBullet(FLOAT fX,FLOAT fY,FLOAT fDamage,FLOAT fImprecission) {
#line 2093 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPositionImprecise  (FLOAT3D (fX  , fY  , 0) , plBullet  , TRUE  , fImprecission );
#line 2095 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penBullet  = CreateEntity  (plBullet  , CLASS_BULLET );
#line 2096 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_vBulletSource  = plBullet  . pl_PositionVector ;
#line 2098 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EBulletInit  eInit ;
#line 2099 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eInit  . penOwner  = m_penPlayer ;
#line 2100 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eInit  . fDamage  = fDamage ;
#line 2101 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penBullet  -> Initialize  (eInit );
#line 2102 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2105 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PrepareBullet(FLOAT fX,FLOAT fY,FLOAT fDamage) {
#line 2107 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fX  , fY  , 0) , plBullet  , TRUE );
#line 2109 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penBullet  = CreateEntity  (plBullet  , CLASS_BULLET );
#line 2111 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EBulletInit  eInit ;
#line 2112 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eInit  . penOwner  = m_penPlayer ;
#line 2113 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eInit  . fDamage  = fDamage ;
#line 2114 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penBullet  -> Initialize  (eInit );
#line 2115 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2118 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireSniperBullet(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fDamage,FLOAT fImprecission) {
#line 2119 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PrepareSniperBullet  (fX  , fY  , fDamage  , fImprecission );
#line 2120 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcTarget  (fRange );
#line 2121 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . m_fBulletSize  = 0.1f;
#line 2123 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . LaunchBullet  (TRUE  , FALSE  , TRUE );
#line 2125 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(((CBullet  &) * penBullet ) . m_vHitPoint  != FLOAT3D (0.0f , 0.0f , 0.0f)){
#line 2126 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_vBulletTarget  = ((CBullet  &) * penBullet ) . m_vHitPoint ;
#line 2127 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(TRUE ){
#line 2128 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_vBulletTarget  = m_vBulletSource  + FLOAT3D (0.0f , 0.0f , - 500.0f) * ((CBullet  &) * penBullet ) . GetRotationMatrix  ();
#line 2130 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2144 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . DestroyBullet  ();
#line 2145 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2148 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireOneBullet(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fDamage) {
#line 2149 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PrepareBullet  (fX  , fY  , fDamage );
#line 2150 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcTarget  (fRange );
#line 2151 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . m_fBulletSize  = 0.1f;
#line 2153 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . LaunchBullet  (TRUE  , FALSE  , TRUE );
#line 2154 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . DestroyBullet  ();
#line 2155 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2158 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireBullets(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fDamage,INDEX iBullets,
#line 2159 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT * afPositions,FLOAT fStretch,FLOAT fJitter) {
#line 2160 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PrepareBullet  (fX  , fY  , fDamage );
#line 2161 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcTarget  (fRange );
#line 2162 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . m_fBulletSize  = GetSP  () -> sp_bCooperative  ? 0.1f : 0.3f;
#line 2164 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iSlug ;
#line 2165 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
for(iSlug  = 0;iSlug  < iBullets ;iSlug  ++){
#line 2167 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcJitterTargetFixed  (
#line 2168 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
afPositions  [ iSlug  * 2 + 0 ] * fRange  * fStretch  , afPositions  [ iSlug  * 2 + 1 ] * fRange  * fStretch  , 
#line 2169 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fJitter  * fRange  * fStretch );
#line 2170 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . LaunchBullet  (iSlug  < 2 , FALSE  , TRUE );
#line 2171 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2172 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . DestroyBullet  ();
#line 2173 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2176 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireMachineBullet(FLOAT fX,FLOAT fY,FLOAT fRange,FLOAT fDamage,
#line 2177 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fJitter,FLOAT fBulletSize) 
#line 2178 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2179 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fJitter  *= fRange ;
#line 2180 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PrepareBullet  (fX  , fY  , fDamage );
#line 2181 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcTarget  (fRange );
#line 2182 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . m_fBulletSize  = fBulletSize ;
#line 2183 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . CalcJitterTarget  (fJitter );
#line 2184 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . LaunchBullet  (TRUE  , FALSE  , TRUE );
#line 2185 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CBullet  &) * penBullet ) . DestroyBullet  ();
#line 2186 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2189 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireGrenade(INDEX iPower) {
#line 2191 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plGrenade ;
#line 2192 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (
#line 2193 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D (wpn_fFX  [ WEAPON_GRENADELAUNCHER  ] , wpn_fFY  [ WEAPON_GRENADELAUNCHER  ] , 0) , 
#line 2194 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plGrenade  , TRUE );
#line 2196 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CEntityPointer penGrenade  = CreateEntity  (plGrenade  , CLASS_PROJECTILE );
#line 2198 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ELaunchProjectile  eLaunch ;
#line 2199 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eLaunch  . penLauncher  = m_penPlayer ;
#line 2200 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eLaunch  . prtType  = PRT_GRENADE ;
#line 2201 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eLaunch  . fSpeed  = 20.0f + iPower  * 5.0f;
#line 2202 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penGrenade  -> Initialize  (eLaunch );
#line 2203 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2206 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireRocket(void) {
#line 2208 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plRocket ;
#line 2209 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (
#line 2210 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D (wpn_fFX  [ WEAPON_ROCKETLAUNCHER  ] , wpn_fFY  [ WEAPON_ROCKETLAUNCHER  ] , 0) , 
#line 2211 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plRocket  , TRUE );
#line 2213 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CEntityPointer penRocket  = CreateEntity  (plRocket  , CLASS_PROJECTILE );
#line 2215 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ELaunchProjectile  eLaunch ;
#line 2216 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eLaunch  . penLauncher  = m_penPlayer ;
#line 2217 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eLaunch  . prtType  = PRT_ROCKET ;
#line 2218 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penRocket  -> Initialize  (eLaunch );
#line 2219 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2246 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::GetFlamerSourcePlacement(CPlacement3D & plSource,CPlacement3D & plInFrontOfPipe) {
#line 2247 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcLerpedWeaponPosition  (
#line 2248 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D (wpn_fFX  [ WEAPON_FLAMER  ] , wpn_fFY  [ WEAPON_FLAMER  ] , - 0.15f) , 
#line 2249 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plSource  , FALSE );
#line 2250 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plInFrontOfPipe  = plSource ;
#line 2251 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vFront ;
#line 2252 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AnglesToDirectionVector  (plSource  . pl_OrientationAngle  , vFront );
#line 2253 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plInFrontOfPipe  . pl_PositionVector  = plSource  . pl_PositionVector  + vFront  * 1.0f;
#line 2254 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2257 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireFlame(void) {
#line 2259 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plFlame ;
#line 2261 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (wpn_fFX  [ WEAPON_FLAMER  ] , wpn_fFY  [ WEAPON_FLAMER  ] , - 0.15f) , plFlame  , TRUE );
#line 2264 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CEntityPointer penFlame  = CreateEntity  (plFlame  , CLASS_PROJECTILE );
#line 2266 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ELaunchProjectile  eLaunch ;
#line 2267 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eLaunch  . penLauncher  = m_penPlayer ;
#line 2268 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eLaunch  . prtType  = PRT_FLAME ;
#line 2269 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penFlame  -> Initialize  (eLaunch );
#line 2271 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_penFlame  != NULL  && ! (m_penFlame  -> GetFlags  () & ENF_DELETED )){
#line 2272 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CProjectile  &) * m_penFlame ) . m_penParticles  = penFlame ;
#line 2273 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2275 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CProjectile  &) * penFlame ) . m_penParticles  = this ;
#line 2277 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_penFlame  = penFlame ;
#line 2278 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2281 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireLaserRay(void) {
#line 2283 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plLaserRay ;
#line 2284 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fFX  = wpn_fFX  [ WEAPON_LASER  ];
#line 2285 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fFY  = wpn_fFY  [ WEAPON_LASER  ];
#line 2286 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fLUX  = 0.0f;
#line 2287 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fRUX  = 0.8f;
#line 2288 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fLUY  = 0.0f;
#line 2289 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fRUY  = 0.0f;
#line 2290 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fLDX  = - 0.1f;
#line 2291 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fRDX  = 0.9f;
#line 2292 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fLDY  = - 0.3f;
#line 2293 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fRDY  = - 0.3f;
#line 2294 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(((CPlayer  *) & * m_penPlayer ) -> m_pstState  == PST_CROUCH ){
#line 2295 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fLDY  = - 0.1f;
#line 2296 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fRDY  = - 0.1f;
#line 2297 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2299 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iLaserBarrel ){
#line 2300 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: 
#line 2301 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fFX  + fLUX  , fFY  + fLUY  , 0) , plLaserRay  , TRUE );
#line 2302 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2303 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: 
#line 2304 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fFX  + fLDX  , fFY  + fLDY  , 0) , plLaserRay  , TRUE );
#line 2305 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2306 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 2: 
#line 2307 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fFX  + fRUX  , fFY  + fRUY  , 0) , plLaserRay  , TRUE );
#line 2308 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2309 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 3: 
#line 2310 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (fFX  + fRDX  , fFY  + fRDY  , 0) , plLaserRay  , TRUE );
#line 2311 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2312 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2314 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CEntityPointer penLaser  = CreateEntity  (plLaserRay  , CLASS_PROJECTILE );
#line 2316 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ELaunchProjectile  eLaunch ;
#line 2317 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eLaunch  . penLauncher  = m_penPlayer ;
#line 2318 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eLaunch  . prtType  = PRT_LASER_RAY ;
#line 2319 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penLaser  -> Initialize  (eLaunch );
#line 2320 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2341 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::FireCannonBall(INDEX iPower) 
#line 2342 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2344 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plBall ;
#line 2345 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (
#line 2346 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D (wpn_fFX  [ WEAPON_IRONCANNON  ] , wpn_fFY  [ WEAPON_IRONCANNON  ] , 0) , 
#line 2347 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plBall  , TRUE );
#line 2349 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CEntityPointer penBall  = CreateEntity  (plBall  , CLASS_CANNONBALL );
#line 2351 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ELaunchCannonBall  eLaunch ;
#line 2352 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eLaunch  . penLauncher  = m_penPlayer ;
#line 2353 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eLaunch  . fLaunchPower  = 60.0f + iPower  * 4.0f;
#line 2354 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eLaunch  . fSize  = 3.0f;
#line 2362 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eLaunch  . cbtType  = CBT_IRON ;
#line 2364 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penBall  -> Initialize  (eLaunch );
#line 2365 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2368 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::SpawnRangeSound(FLOAT fRange) 
#line 2369 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2370 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pTimer  -> CurrentTick  () > m_tmRangeSoundSpawned  + 0.5f){
#line 2371 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmRangeSoundSpawned  = _pTimer  -> CurrentTick  ();
#line 2372 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
:: SpawnRangeSound  (m_penPlayer  , m_penPlayer  , SNDT_PLAYER  , fRange );
#line 2373 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2374 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2381 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::ClearWeapons(void) {
#line 2383 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  = 0x03;
#line 2384 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iColtBullets  = 6;
#line 2385 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iBullets  = 0;
#line 2386 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iShells  = 0;
#line 2387 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iRockets  = 0;
#line 2388 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iGrenades  = 0;
#line 2389 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iNapalm  = 0;
#line 2390 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iElectricity  = 0;
#line 2391 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iIronBalls  = 0;
#line 2393 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iSniperBullets  = 0;
#line 2394 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2396 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::ResetWeaponMovingOffset(void) 
#line 2397 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2399 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPowerOld  = m_fWeaponDrawPower  = m_tmDrawStartTime  = 0;
#line 2400 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2403 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::InitializeWeapons(INDEX iGiveWeapons,INDEX iTakeWeapons,INDEX iTakeAmmo,FLOAT fMaxAmmoRatio) 
#line 2404 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2405 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ResetWeaponMovingOffset  ();
#line 2407 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ULONG  ulOldWeapons  = m_iAvailableWeapons ;
#line 2409 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  &= ~ iTakeWeapons ;
#line 2410 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  |= 0x03 | iGiveWeapons ;
#line 2411 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  &= WEAPONS_ALLAVAILABLEMASK ;
#line 2414 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ULONG  ulNewWeapons  = m_iAvailableWeapons  & ~ ulOldWeapons ;
#line 2416 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
for(INDEX iWeapon  = WEAPON_KNIFE ;iWeapon  < WEAPON_LAST ;iWeapon  ++){
#line 2417 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(ulNewWeapons  & (1 << (iWeapon  - 1))){
#line 2419 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddDefaultAmmoForWeapon  (iWeapon  , fMaxAmmoRatio );
#line 2420 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2421 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2424 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fModifier  = ClampDn  (GetSP  () -> sp_fAmmoQuantity  , 1.0f);
#line 2425 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iMaxBullets  = ClampUp  ((INDEX) ceil  (MAX_BULLETS  * fModifier ) , INDEX (999));
#line 2426 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iMaxShells  = ClampUp  ((INDEX) ceil  (MAX_SHELLS  * fModifier ) , INDEX (999));
#line 2427 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iMaxRockets  = ClampUp  ((INDEX) ceil  (MAX_ROCKETS  * fModifier ) , INDEX (999));
#line 2428 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iMaxGrenades  = ClampUp  ((INDEX) ceil  (MAX_GRENADES  * fModifier ) , INDEX (999));
#line 2429 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iMaxNapalm  = ClampUp  ((INDEX) ceil  (MAX_NAPALM  * fModifier ) , INDEX (999));
#line 2430 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iMaxElectricity  = ClampUp  ((INDEX) ceil  (MAX_ELECTRICITY  * fModifier ) , INDEX (999));
#line 2432 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iMaxIronBalls  = ClampUp  ((INDEX) ceil  (MAX_IRONBALLS  * fModifier ) , INDEX (999));
#line 2433 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iMaxSniperBullets  = ClampUp  ((INDEX) ceil  (MAX_SNIPERBULLETS  * fModifier ) , INDEX (999));
#line 2436 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_BULLETS )){m_iBullets  = 0;}
#line 2437 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_SHELLS )){m_iShells  = 0;}
#line 2438 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_ROCKETS )){m_iRockets  = 0;}
#line 2439 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_GRENADES )){m_iGrenades  = 0;}
#line 2440 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_NAPALM )){m_iNapalm  = 0;}
#line 2441 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_ELECTRICITY )){m_iElectricity  = 0;}
#line 2443 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_IRONBALLS )){m_iIronBalls  = 0;}
#line 2444 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iTakeAmmo  & (1 << AMMO_SNIPERBULLETS )){m_iSniperBullets  = 0;}
#line 2447 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Precache  ();
#line 2450 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGun  = 0;
#line 2451 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGunLast  = 0;
#line 2452 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGunSpeed  = 0;
#line 2455 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SelectNewWeapon  ();
#line 2456 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iCurrentWeapon  = m_iWantedWeapon ;
#line 2457 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wpn_iCurrent  = m_iCurrentWeapon ;
#line 2458 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bChangeWeapon  = FALSE ;
#line 2460 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetCurrentWeaponModel  ();
#line 2461 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayDefaultAnim  ();
#line 2463 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ) . RemoveWeapon  ();
#line 2465 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ) . SetWeapon  ();
#line 2466 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2469 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX CPlayerWeapons::GetAmmo(void) 
#line 2470 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2471 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 2472 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : return 0;
#line 2473 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_COLT : return m_iColtBullets ;
#line 2474 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLECOLT : return m_iColtBullets ;
#line 2475 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : return m_iShells ;
#line 2476 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLESHOTGUN : return m_iShells ;
#line 2477 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : return m_iBullets ;
#line 2478 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_MINIGUN : return m_iBullets ;
#line 2479 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_ROCKETLAUNCHER : return m_iRockets ;
#line 2480 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_GRENADELAUNCHER : return m_iGrenades ;
#line 2481 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SNIPER : return m_iSniperBullets ;
#line 2482 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : return m_iNapalm ;
#line 2483 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : return 0;
#line 2484 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : return m_iElectricity ;
#line 2485 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_IRONCANNON : return m_iIronBalls ;
#line 2486 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2487 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return 0;
#line 2488 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2491 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX CPlayerWeapons::GetMaxAmmo(void) 
#line 2492 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2493 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 2494 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : return 0;
#line 2495 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_COLT : return 6;
#line 2496 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLECOLT : return 6;
#line 2497 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : return m_iMaxShells ;
#line 2498 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLESHOTGUN : return m_iMaxShells ;
#line 2499 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : return m_iMaxBullets ;
#line 2500 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_MINIGUN : return m_iMaxBullets ;
#line 2501 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_ROCKETLAUNCHER : return m_iMaxRockets ;
#line 2502 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_GRENADELAUNCHER : return m_iMaxGrenades ;
#line 2503 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SNIPER : return m_iMaxSniperBullets ;
#line 2504 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : return m_iMaxNapalm ;
#line 2505 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : return m_iMaxNapalm ;
#line 2506 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : return m_iMaxElectricity ;
#line 2507 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_IRONCANNON : return m_iMaxIronBalls ;
#line 2508 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2509 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return 0;
#line 2510 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2512 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CheatOpen(void) 
#line 2513 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2514 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IsOfClass  (m_penRayHit  , "Moving Brush")){
#line 2515 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_penRayHit  -> SendEvent  (ETrigger  ());
#line 2516 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2517 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2520 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::CheatGiveAll(void) {
#line 2522 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  = WEAPONS_ALLAVAILABLEMASK ;
#line 2525 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iBullets  = m_iMaxBullets ;
#line 2526 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iShells  = m_iMaxShells ;
#line 2527 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iRockets  = m_iMaxRockets ;
#line 2528 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iGrenades  = m_iMaxGrenades ;
#line 2529 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iNapalm  = m_iMaxNapalm ;
#line 2530 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iElectricity  = m_iMaxElectricity ;
#line 2531 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iIronBalls  = m_iMaxIronBalls ;
#line 2534 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iSniperBullets  = m_iMaxSniperBullets ;
#line 2535 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Precache  ();
#line 2536 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2539 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::AddManaToPlayer(INDEX iMana) 
#line 2540 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2541 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_iMana  += iMana ;
#line 2542 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . m_fPickedMana  += iMana ;
#line 2543 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2551 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::ClampAllAmmo(void) 
#line 2552 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2553 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iBullets  = ClampUp  (m_iBullets  , m_iMaxBullets );
#line 2554 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iShells  = ClampUp  (m_iShells  , m_iMaxShells );
#line 2555 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iRockets  = ClampUp  (m_iRockets  , m_iMaxRockets );
#line 2556 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iGrenades  = ClampUp  (m_iGrenades  , m_iMaxGrenades );
#line 2557 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iNapalm  = ClampUp  (m_iNapalm  , m_iMaxNapalm );
#line 2558 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iElectricity  = ClampUp  (m_iElectricity  , m_iMaxElectricity );
#line 2559 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iIronBalls  = ClampUp  (m_iIronBalls  , m_iMaxIronBalls );
#line 2561 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iSniperBullets  = ClampUp  (m_iSniperBullets  , m_iMaxSniperBullets );
#line 2562 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2565 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::AddDefaultAmmoForWeapon(INDEX iWeapon,FLOAT fMaxAmmoRatio) 
#line 2566 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2567 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAmmoPicked ;
#line 2569 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(iWeapon ){
#line 2571 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : 
#line 2572 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_COLT : 
#line 2573 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLECOLT : 
#line 2574 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2576 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : 
#line 2577 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iAmmoPicked  = Max  (10.0f , m_iMaxShells  * fMaxAmmoRatio );
#line 2578 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iShells  += iAmmoPicked ;
#line 2579 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (iAmmoPicked  * 70.0f * MANA_AMMO );
#line 2580 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2581 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLESHOTGUN : 
#line 2582 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iAmmoPicked  = Max  (20.0f , m_iMaxShells  * fMaxAmmoRatio );
#line 2583 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iShells  += iAmmoPicked ;
#line 2584 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (iAmmoPicked  * 70.0f * MANA_AMMO );
#line 2585 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2587 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : 
#line 2588 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iAmmoPicked  = Max  (50.0f , m_iMaxBullets  * fMaxAmmoRatio );
#line 2589 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iBullets  += iAmmoPicked ;
#line 2590 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (iAmmoPicked  * 10.0f * MANA_AMMO );
#line 2591 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2592 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SNIPER : 
#line 2593 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iAmmoPicked  = Max  (15.0f , m_iMaxSniperBullets  * fMaxAmmoRatio );
#line 2594 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iSniperBullets  += iAmmoPicked ;
#line 2595 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (iAmmoPicked  * 10.0f * MANA_AMMO );
#line 2596 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2597 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_MINIGUN : 
#line 2598 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iAmmoPicked  = Max  (100.0f , m_iMaxBullets  * fMaxAmmoRatio );
#line 2599 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iBullets  += iAmmoPicked ;
#line 2600 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (iAmmoPicked  * 10.0f * MANA_AMMO );
#line 2601 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2603 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_ROCKETLAUNCHER : 
#line 2604 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iAmmoPicked  = Max  (5.0f , m_iMaxRockets  * fMaxAmmoRatio );
#line 2605 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iRockets  += iAmmoPicked ;
#line 2606 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (iAmmoPicked  * 150.0f * MANA_AMMO );
#line 2607 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2609 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_GRENADELAUNCHER : 
#line 2610 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iAmmoPicked  = Max  (5.0f , m_iMaxGrenades  * fMaxAmmoRatio );
#line 2611 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iGrenades  += iAmmoPicked ;
#line 2612 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (iAmmoPicked  * 100.0f * MANA_AMMO );
#line 2613 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2627 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : 
#line 2628 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iAmmoPicked  = Max  (50.0f , m_iMaxElectricity  * fMaxAmmoRatio );
#line 2629 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iElectricity  += iAmmoPicked ;
#line 2630 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (iAmmoPicked  * 15.0f * MANA_AMMO );
#line 2631 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2633 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_IRONCANNON : 
#line 2635 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iAmmoPicked  = Max  (1.0f , m_iMaxIronBalls  * fMaxAmmoRatio );
#line 2636 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iIronBalls  += iAmmoPicked ;
#line 2637 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (iAmmoPicked  * 700.0f * MANA_AMMO );
#line 2638 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2646 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : 
#line 2647 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iAmmoPicked  = Max  (50.0f , m_iMaxNapalm  * fMaxAmmoRatio );
#line 2648 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iNapalm  += iAmmoPicked ;
#line 2649 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (iAmmoPicked  * 15.0f * MANA_AMMO );
#line 2650 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2651 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : 
#line 2655 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2657 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
default  : 
#line 2658 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("Uknown weapon type");
#line 2659 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2660 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2663 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ClampAllAmmo  ();
#line 2664 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2667 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::DropWeapon(void) 
#line 2668 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2669 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CEntityPointer penWeapon  = CreateEntity  (GetPlayer  () -> GetPlacement  () , CLASS_WEAPONITEM );
#line 2670 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CWeaponItem  * pwi  = (CWeaponItem  *) & * penWeapon ;
#line 2672 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponItemType  wit  = WIT_COLT ;
#line 2673 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 2674 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
default  : 
#line 2675 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERT  (FALSE );
#line 2676 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : 
#line 2677 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_COLT : 
#line 2678 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLECOLT : 
#line 2679 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
NOTHING ;break ;
#line 2680 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : wit  = WIT_SINGLESHOTGUN ;break ;
#line 2681 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLESHOTGUN : wit  = WIT_DOUBLESHOTGUN ;break ;
#line 2682 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : wit  = WIT_TOMMYGUN ;break ;
#line 2683 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SNIPER : wit  = WIT_SNIPER ;break ;
#line 2684 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_MINIGUN : wit  = WIT_MINIGUN ;break ;
#line 2685 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_ROCKETLAUNCHER : wit  = WIT_ROCKETLAUNCHER ;break ;
#line 2686 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_GRENADELAUNCHER : wit  = WIT_GRENADELAUNCHER ;break ;
#line 2687 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : wit  = WIT_FLAMER ;break ;
#line 2688 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : wit  = WIT_CHAINSAW ;break ;
#line 2689 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : wit  = WIT_LASER ;break ;
#line 2690 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_IRONCANNON : wit  = WIT_CANNON ;break ;
#line 2691 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2693 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pwi  -> m_EwitType  = wit ;
#line 2694 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pwi  -> m_bDropped  = TRUE ;
#line 2695 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pwi  -> CEntity  :: Initialize  ();
#line 2697 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOATmatrix3D & m  = GetPlayer  () -> GetRotationMatrix  ();
#line 2698 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpeed  = FLOAT3D (5.0f , 10.0f , - 7.5f);
#line 2699 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pwi  -> GiveImpulseTranslationAbsolute  (vSpeed  * m );
#line 2700 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2703 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::ReceiveWeapon(const CEntityEvent & ee) {
#line 2704 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERT  (ee  . ee_slEvent  == EVENTCODE_EWeaponItem );
#line 2706 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EWeaponItem  & Ewi  = (EWeaponItem  &) ee ;
#line 2707 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX wit  = Ewi  . iWeapon ;
#line 2708 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(Ewi  . iWeapon ){
#line 2709 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_COLT : Ewi  . iWeapon  = WEAPON_COLT ;break ;
#line 2710 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_SINGLESHOTGUN : Ewi  . iWeapon  = WEAPON_SINGLESHOTGUN ;break ;
#line 2711 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_DOUBLESHOTGUN : Ewi  . iWeapon  = WEAPON_DOUBLESHOTGUN ;break ;
#line 2712 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_TOMMYGUN : Ewi  . iWeapon  = WEAPON_TOMMYGUN ;break ;
#line 2713 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_SNIPER : Ewi  . iWeapon  = WEAPON_SNIPER ;break ;
#line 2714 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_MINIGUN : Ewi  . iWeapon  = WEAPON_MINIGUN ;break ;
#line 2715 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_ROCKETLAUNCHER : Ewi  . iWeapon  = WEAPON_ROCKETLAUNCHER ;break ;
#line 2716 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_GRENADELAUNCHER : Ewi  . iWeapon  = WEAPON_GRENADELAUNCHER ;break ;
#line 2717 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_FLAMER : Ewi  . iWeapon  = WEAPON_FLAMER ;break ;
#line 2718 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_CHAINSAW : Ewi  . iWeapon  = WEAPON_CHAINSAW ;break ;
#line 2719 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_LASER : Ewi  . iWeapon  = WEAPON_LASER ;break ;
#line 2720 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_CANNON : Ewi  . iWeapon  = WEAPON_IRONCANNON ;break ;
#line 2721 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
default  : 
#line 2722 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("Uknown weapon type");
#line 2723 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2726 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(Ewi  . iWeapon  == WEAPON_COLT  && (m_iAvailableWeapons  & (1 << (WEAPON_COLT  - 1)))){
#line 2727 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Ewi  . iWeapon  = WEAPON_DOUBLECOLT ;
#line 2728 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2730 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ULONG  ulOldWeapons  = m_iAvailableWeapons ;
#line 2731 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAvailableWeapons  |= 1 << (Ewi  . iWeapon  - 1);
#line 2743 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Precache  ();
#line 2745 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CTFileName fnmMsg ;
#line 2746 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(wit ){
#line 2747 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_COLT : 
#line 2748 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("Shofield .45 w/ TMAR") , 0);
#line 2749 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fnmMsg  = CTFILENAME  ("Data\\Messages\\Weapons\\colt.txt");
#line 2750 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2751 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_SINGLESHOTGUN : 
#line 2752 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("12 Gauge Pump Action Shotgun") , 0);
#line 2753 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fnmMsg  = CTFILENAME  ("Data\\Messages\\Weapons\\singleshotgun.txt");
#line 2754 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2755 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_DOUBLESHOTGUN : 
#line 2756 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("Double Barrel Coach Gun") , 0);
#line 2757 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fnmMsg  = CTFILENAME  ("Data\\Messages\\Weapons\\doubleshotgun.txt");
#line 2758 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2759 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_TOMMYGUN : 
#line 2760 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("M1-A2 Tommygun") , 0);
#line 2761 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fnmMsg  = CTFILENAME  ("Data\\Messages\\Weapons\\tommygun.txt");
#line 2762 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2763 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_SNIPER : 
#line 2764 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("RAPTOR 16mm Sniper") , 0);
#line 2765 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fnmMsg  = CTFILENAME  ("DataMP\\Messages\\Weapons\\sniper.txt");
#line 2766 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2767 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_MINIGUN : 
#line 2768 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("XM214-A Minigun") , 0);
#line 2769 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fnmMsg  = CTFILENAME  ("Data\\Messages\\Weapons\\minigun.txt");
#line 2770 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2771 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_ROCKETLAUNCHER : 
#line 2772 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("XPML21 Rocket Launcher") , 0);
#line 2773 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fnmMsg  = CTFILENAME  ("Data\\Messages\\Weapons\\rocketlauncher.txt");
#line 2774 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2775 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_GRENADELAUNCHER : 
#line 2776 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("MKIII Grenade Launcher") , 0);
#line 2777 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fnmMsg  = CTFILENAME  ("Data\\Messages\\Weapons\\grenadelauncher.txt");
#line 2778 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2782 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_FLAMER : 
#line 2783 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("XOP Flamethrower") , 0);
#line 2784 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fnmMsg  = CTFILENAME  ("DataMP\\Messages\\Weapons\\flamer.txt");
#line 2785 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2786 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_CHAINSAW : 
#line 2787 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("'Bonecracker' P-LAH Chainsaw") , 0);
#line 2788 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fnmMsg  = CTFILENAME  ("DataMP\\Messages\\Weapons\\chainsaw.txt");
#line 2789 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2790 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_LASER : 
#line 2791 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("XL2 Lasergun") , 0);
#line 2792 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fnmMsg  = CTFILENAME  ("Data\\Messages\\Weapons\\laser.txt");
#line 2793 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2797 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WIT_CANNON : 
#line 2798 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("SBC Cannon") , 0);
#line 2799 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fnmMsg  = CTFILENAME  ("Data\\Messages\\Weapons\\cannon.txt");
#line 2800 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2801 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
default  : 
#line 2802 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("Uknown weapon type");
#line 2803 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2805 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(GetSP  () -> sp_bCooperative ){
#line 2806 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EComputerMessage  eMsg ;
#line 2807 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
eMsg  . fnmMessage  = fnmMsg ;
#line 2808 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_penPlayer  -> SendEvent  (eMsg );
#line 2809 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2812 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERT  (Ewi  . iAmmo  == - 1);
#line 2814 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddDefaultAmmoForWeapon  (Ewi  . iWeapon  , 0);
#line 2817 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL bAutoSelect  = FALSE ;
#line 2818 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iSelectionSetting  = GetPlayer  () -> GetSettings  () -> ps_iWeaponAutoSelect ;
#line 2819 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iSelectionSetting  == PS_WAS_ALL ){
#line 2820 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
bAutoSelect  = TRUE ;
#line 2821 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(iSelectionSetting  == PS_WAS_ONLYNEW ){
#line 2822 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iAvailableWeapons  & ~ ulOldWeapons ){
#line 2823 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
bAutoSelect  = TRUE ;
#line 2824 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2825 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(iSelectionSetting  == PS_WAS_BETTER ){
#line 2826 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(FindRemapedPos  (m_iCurrentWeapon ) < FindRemapedPos  ((WeaponType ) Ewi  . iWeapon )){
#line 2827 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
bAutoSelect  = TRUE ;
#line 2828 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2829 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2830 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(bAutoSelect ){
#line 2832 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(WeaponSelectOk  ((WeaponType ) Ewi  . iWeapon )){
#line 2833 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SendEvent  (EBegin  ());
#line 2834 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2835 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2837 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 2838 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2841 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::ReceiveAmmo(const CEntityEvent & ee) {
#line 2842 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERT  (ee  . ee_slEvent  == EVENTCODE_EAmmoItem );
#line 2845 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(GetSP  () -> sp_bInfiniteAmmo ){
#line 2848 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 2849 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2852 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EAmmoItem  & Eai  = (EAmmoItem  &) ee ;
#line 2854 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(Eai  . EaitType ){
#line 2856 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case AIT_SHELLS : 
#line 2857 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iShells  >= m_iMaxShells ){m_iShells  = m_iMaxShells ;return FALSE ;}
#line 2858 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iShells  += Eai  . iQuantity ;
#line 2859 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("Shells") , Eai  . iQuantity );
#line 2860 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (Eai  . iQuantity  * AV_SHELLS  * MANA_AMMO );
#line 2861 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2863 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case AIT_BULLETS : 
#line 2864 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iBullets  >= m_iMaxBullets ){m_iBullets  = m_iMaxBullets ;return FALSE ;}
#line 2865 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iBullets  += Eai  . iQuantity ;
#line 2866 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("Bullets") , Eai  . iQuantity );
#line 2867 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (Eai  . iQuantity  * AV_BULLETS  * MANA_AMMO );
#line 2868 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2870 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case AIT_ROCKETS : 
#line 2871 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iRockets  >= m_iMaxRockets ){m_iRockets  = m_iMaxRockets ;return FALSE ;}
#line 2872 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iRockets  += Eai  . iQuantity ;
#line 2873 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("Rockets") , Eai  . iQuantity );
#line 2874 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (Eai  . iQuantity  * AV_ROCKETS  * MANA_AMMO );
#line 2875 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2877 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case AIT_GRENADES : 
#line 2878 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iGrenades  >= m_iMaxGrenades ){m_iGrenades  = m_iMaxGrenades ;return FALSE ;}
#line 2879 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iGrenades  += Eai  . iQuantity ;
#line 2880 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("Grenades") , Eai  . iQuantity );
#line 2881 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (Eai  . iQuantity  * AV_GRENADES  * MANA_AMMO );
#line 2882 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2884 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case AIT_ELECTRICITY : 
#line 2885 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iElectricity  >= m_iMaxElectricity ){m_iElectricity  = m_iMaxElectricity ;return FALSE ;}
#line 2886 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iElectricity  += Eai  . iQuantity ;
#line 2887 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("Cells") , Eai  . iQuantity );
#line 2888 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (Eai  . iQuantity  * AV_ELECTRICITY  * MANA_AMMO );
#line 2889 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2897 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case AIT_IRONBALLS : 
#line 2898 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iIronBalls  >= m_iMaxIronBalls ){m_iIronBalls  = m_iMaxIronBalls ;return FALSE ;}
#line 2899 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iIronBalls  += Eai  . iQuantity ;
#line 2900 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("Cannonballs") , Eai  . iQuantity );
#line 2901 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (Eai  . iQuantity  * AV_IRONBALLS  * MANA_AMMO );
#line 2902 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2903 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case AIT_NAPALM : 
#line 2904 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iNapalm  >= m_iMaxNapalm ){m_iNapalm  = m_iMaxNapalm ;return FALSE ;}
#line 2905 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iNapalm  += Eai  . iQuantity ;
#line 2906 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("Napalm") , Eai  . iQuantity );
#line 2907 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (Eai  . iQuantity  * AV_NAPALM  * MANA_AMMO );
#line 2908 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2909 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case AIT_BACKPACK : 
#line 2910 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iShells  += 20 * GetSP  () -> sp_fAmmoQuantity ;
#line 2911 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iBullets  += 200 * GetSP  () -> sp_fAmmoQuantity ;
#line 2912 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iRockets  += 5 * GetSP  () -> sp_fAmmoQuantity ;
#line 2913 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("Ammo pack") , 0);
#line 2914 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (100000000.0f * MANA_AMMO );
#line 2915 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2916 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case AIT_SERIOUSPACK : 
#line 2917 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iShells  += MAX_SHELLS  * GetSP  () -> sp_fAmmoQuantity ;
#line 2918 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iBullets  += MAX_BULLETS  * GetSP  () -> sp_fAmmoQuantity ;
#line 2919 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iGrenades  += MAX_GRENADES  * GetSP  () -> sp_fAmmoQuantity ;
#line 2920 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iRockets  += MAX_ROCKETS  * GetSP  () -> sp_fAmmoQuantity ;
#line 2921 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iElectricity  += MAX_ELECTRICITY  * GetSP  () -> sp_fAmmoQuantity ;
#line 2922 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iIronBalls  += MAX_IRONBALLS  * GetSP  () -> sp_fAmmoQuantity ;
#line 2924 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case AIT_SNIPERBULLETS : 
#line 2925 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iSniperBullets  >= m_iMaxSniperBullets ){m_iSniperBullets  = m_iMaxSniperBullets ;return FALSE ;}
#line 2926 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iSniperBullets  += Eai  . iQuantity ;
#line 2927 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("Sniper bullets") , Eai  . iQuantity );
#line 2928 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (Eai  . iQuantity  * AV_SNIPERBULLETS  * MANA_AMMO );
#line 2929 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2932 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (TRANS  ("All Ammo") , 0);
#line 2933 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
AddManaToPlayer  (100000000.0f * MANA_AMMO );
#line 2934 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 2936 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
default  : 
#line 2937 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("Uknown ammo type");
#line 2938 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2941 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ClampAllAmmo  ();
#line 2942 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 2943 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 2946 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::ReceivePackAmmo(const CEntityEvent & ee) 
#line 2947 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2949 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(GetSP  () -> sp_bInfiniteAmmo ){
#line 2952 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 2953 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 2955 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERT  (ee  . ee_slEvent  == EVENTCODE_EAmmoPackItem );
#line 2956 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EAmmoPackItem  & eapi  = (EAmmoPackItem  &) ee ;
#line 2957 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if((eapi  . iShells  > 0 && m_iShells  < m_iMaxShells ) || 
#line 2958 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
(eapi  . iBullets  > 0 && m_iBullets  < m_iMaxBullets ) || 
#line 2959 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
(eapi  . iRockets  > 0 && m_iRockets  < m_iMaxRockets ) || 
#line 2960 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
(eapi  . iGrenades  > 0 && m_iGrenades  < m_iMaxGrenades ) || 
#line 2961 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
(eapi  . iNapalm  > 0 && m_iNapalm  < m_iMaxNapalm ) || 
#line 2962 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
(eapi  . iElectricity  > 0 && m_iElectricity  < m_iMaxElectricity ) || 
#line 2963 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
(eapi  . iIronBalls  > 0 && m_iIronBalls  < m_iMaxIronBalls ) || 
#line 2964 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
(eapi  . iSniperBullets  > 0 && m_iSniperBullets  < m_iMaxSniperBullets ))
#line 2965 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2967 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iShells  += eapi  . iShells ;
#line 2968 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iBullets  += eapi  . iBullets ;
#line 2969 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iRockets  += eapi  . iRockets ;
#line 2970 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iGrenades  += eapi  . iGrenades ;
#line 2971 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iNapalm  += eapi  . iNapalm ;
#line 2972 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iElectricity  += eapi  . iElectricity ;
#line 2973 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iIronBalls  += eapi  . iIronBalls ;
#line 2974 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iSniperBullets  += eapi  . iSniperBullets ;
#line 2976 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ClampAllAmmo  ();
#line 2979 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAmmoTypes  = 0;
#line 2980 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CTString strMessage ;
#line 2981 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(eapi  . iShells  != 0){strMessage  . PrintF  ("%s %d %s," , strMessage  , eapi  . iShells  , TRANS  ("Shells"));iAmmoTypes  ++;}
#line 2982 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(eapi  . iBullets  != 0){strMessage  . PrintF  ("%s %d %s," , strMessage  , eapi  . iBullets  , TRANS  ("Bullets"));iAmmoTypes  ++;}
#line 2983 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(eapi  . iRockets  != 0){strMessage  . PrintF  ("%s %d %s," , strMessage  , eapi  . iRockets  , TRANS  ("Rockets"));iAmmoTypes  ++;}
#line 2984 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(eapi  . iGrenades  != 0){strMessage  . PrintF  ("%s %d %s," , strMessage  , eapi  . iGrenades  , TRANS  ("Grenades"));iAmmoTypes  ++;}
#line 2985 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(eapi  . iNapalm  != 0){strMessage  . PrintF  ("%s %d %s," , strMessage  , eapi  . iNapalm  , TRANS  ("Napalm"));iAmmoTypes  ++;}
#line 2986 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(eapi  . iElectricity  != 0){strMessage  . PrintF  ("%s %d %s," , strMessage  , eapi  . iElectricity  , TRANS  ("Cells"));iAmmoTypes  ++;}
#line 2987 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(eapi  . iIronBalls  != 0){strMessage  . PrintF  ("%s %d %s," , strMessage  , eapi  . iIronBalls  , TRANS  ("Cannonballs"));iAmmoTypes  ++;}
#line 2988 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(eapi  . iSniperBullets  != 0){strMessage  . PrintF  ("%s %d %s," , strMessage  , eapi  . iSniperBullets  , TRANS  ("Sniper bullets"));iAmmoTypes  ++;}
#line 2990 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iLen  = strlen  (strMessage );
#line 2991 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iLen  > 0 && strMessage  [ iLen  - 1 ] == ',')
#line 2992 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 2993 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
strMessage  . DeleteChar  (iLen  - 1);
#line 2994 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
};
#line 2995 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iAmmoTypes  > 4){
#line 2996 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
strMessage  . PrintF  (TRANS  ("Ammo pack"));
#line 2997 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
};
#line 2999 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayer  &) * m_penPlayer ) . ItemPicked  (strMessage  , 0);
#line 3000 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 3001 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3002 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return FALSE ;
#line 3003 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3009 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponType CPlayerWeapons::GetStrongerWeapon(INDEX iWeapon) {
#line 3010 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(iWeapon ){
#line 3011 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: return WEAPON_CHAINSAW ;
#line 3012 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 2: return WEAPON_DOUBLECOLT ;
#line 3013 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 3: return WEAPON_DOUBLESHOTGUN ;
#line 3014 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 4: return WEAPON_MINIGUN ;
#line 3015 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 5: return WEAPON_ROCKETLAUNCHER ;
#line 3016 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 6: return WEAPON_FLAMER ;
#line 3017 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 7: return WEAPON_LASER ;
#line 3018 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 8: return WEAPON_IRONCANNON ;
#line 3019 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3020 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return WEAPON_NONE ;
#line 3021 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3024 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX CPlayerWeapons::GetSelectedWeapon(WeaponType EwtSelectedWeapon) {
#line 3025 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(EwtSelectedWeapon ){
#line 3026 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : case WEAPON_CHAINSAW : return 1;
#line 3027 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_COLT : case WEAPON_DOUBLECOLT : return 2;
#line 3028 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : case WEAPON_DOUBLESHOTGUN : return 3;
#line 3029 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : case WEAPON_MINIGUN : return 4;
#line 3030 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_ROCKETLAUNCHER : case WEAPON_GRENADELAUNCHER : return 5;
#line 3031 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : case WEAPON_SNIPER : return 6;
#line 3032 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : return 7;
#line 3033 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_IRONCANNON : return 8;
#line 3034 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3035 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return 0;
#line 3036 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3039 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponType CPlayerWeapons::GetAltWeapon(WeaponType EwtWeapon) {
#line 3040 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(EwtWeapon ){
#line 3041 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : return WEAPON_CHAINSAW ;
#line 3042 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : return WEAPON_KNIFE ;
#line 3043 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_COLT : return WEAPON_DOUBLECOLT ;
#line 3044 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLECOLT : return WEAPON_COLT ;
#line 3045 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : return WEAPON_DOUBLESHOTGUN ;
#line 3046 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLESHOTGUN : return WEAPON_SINGLESHOTGUN ;
#line 3047 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : return WEAPON_MINIGUN ;
#line 3048 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_MINIGUN : return WEAPON_TOMMYGUN ;
#line 3049 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_ROCKETLAUNCHER : return WEAPON_GRENADELAUNCHER ;
#line 3050 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_GRENADELAUNCHER : return WEAPON_ROCKETLAUNCHER ;
#line 3051 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : return WEAPON_SNIPER ;
#line 3052 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SNIPER : return WEAPON_FLAMER ;
#line 3053 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : return WEAPON_LASER ;
#line 3054 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_IRONCANNON : return WEAPON_IRONCANNON ;
#line 3055 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3056 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return WEAPON_NONE ;
#line 3057 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3060 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::WeaponSelectOk(WeaponType wtToTry) 
#line 3061 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3063 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(((1 << (INDEX (wtToTry ) - 1)) & m_iAvailableWeapons ) 
#line 3064 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
&& HasAmmo  (wtToTry )){
#line 3066 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(wtToTry  != m_iCurrentWeapon ){
#line 3069 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iWantedWeapon  = wtToTry ;
#line 3070 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bChangeWeapon  = TRUE ;
#line 3071 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3073 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE ;
#line 3075 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 3077 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return FALSE ;
#line 3078 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3079 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3081 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::SelectNewWeapon() 
#line 3082 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3083 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 3084 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_NONE : 
#line 3085 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : case WEAPON_COLT : case WEAPON_DOUBLECOLT : 
#line 3086 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : case WEAPON_DOUBLESHOTGUN : 
#line 3087 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : case WEAPON_MINIGUN : case WEAPON_SNIPER : 
#line 3088 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_MINIGUN ) || 
#line 3089 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_TOMMYGUN ) || 
#line 3090 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_DOUBLESHOTGUN ) || 
#line 3091 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_SINGLESHOTGUN ) || 
#line 3092 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_DOUBLECOLT ) || 
#line 3093 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_COLT ) || 
#line 3094 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_KNIFE );
#line 3095 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3096 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_IRONCANNON : 
#line 3097 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_ROCKETLAUNCHER ) || 
#line 3098 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_GRENADELAUNCHER ) || 
#line 3099 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_MINIGUN ) || 
#line 3100 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_TOMMYGUN ) || 
#line 3101 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_DOUBLESHOTGUN ) || 
#line 3102 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_SINGLESHOTGUN ) || 
#line 3103 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_DOUBLECOLT ) || 
#line 3104 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_COLT ) || 
#line 3105 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_KNIFE );
#line 3106 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3107 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_ROCKETLAUNCHER : 
#line 3108 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_GRENADELAUNCHER : 
#line 3109 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_ROCKETLAUNCHER ) || 
#line 3110 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_GRENADELAUNCHER ) || 
#line 3111 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_MINIGUN ) || 
#line 3112 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_TOMMYGUN ) || 
#line 3113 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_DOUBLESHOTGUN ) || 
#line 3114 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_SINGLESHOTGUN ) || 
#line 3115 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_DOUBLECOLT ) || 
#line 3116 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_COLT ) || 
#line 3117 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_KNIFE );
#line 3118 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3119 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : case WEAPON_FLAMER : case WEAPON_CHAINSAW : 
#line 3120 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_LASER ) || 
#line 3121 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_FLAMER ) || 
#line 3122 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_MINIGUN ) || 
#line 3123 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_TOMMYGUN ) || 
#line 3124 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_DOUBLESHOTGUN ) || 
#line 3125 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_SINGLESHOTGUN ) || 
#line 3126 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_DOUBLECOLT ) || 
#line 3127 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_COLT ) || 
#line 3128 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_KNIFE );
#line 3129 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3130 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
default  : 
#line 3131 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponSelectOk  (WEAPON_KNIFE );
#line 3132 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERT  (FALSE );
#line 3133 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3134 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3137 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::HasAmmo(WeaponType EwtWeapon) {
#line 3138 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(EwtWeapon ){
#line 3139 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : case WEAPON_COLT : case WEAPON_DOUBLECOLT : return TRUE ;
#line 3140 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : return (m_iShells  > 0);
#line 3141 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLESHOTGUN : return (m_iShells  > 1);
#line 3142 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : return (m_iBullets  > 0);
#line 3143 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SNIPER : return (m_iSniperBullets  > 0);
#line 3144 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_MINIGUN : return (m_iBullets  > 0);
#line 3145 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_ROCKETLAUNCHER : return (m_iRockets  > 0);
#line 3146 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_GRENADELAUNCHER : return (m_iGrenades  > 0);
#line 3147 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : return (m_iNapalm  > 0);
#line 3148 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : return TRUE ;
#line 3149 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : return (m_iElectricity  > 0);
#line 3150 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_IRONCANNON : return (m_iIronBalls  > 0);
#line 3151 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3152 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return FALSE ;
#line 3153 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3158 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::PlayDefaultAnim(void) {
#line 3159 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 3160 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_NONE : 
#line 3161 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3162 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : 
#line 3163 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iKnifeStand ){
#line 3164 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: m_moWeapon  . PlayAnim  (KNIFE_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3165 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 3: m_moWeapon  . PlayAnim  (KNIFE_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3166 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
default  : ASSERTALWAYS  ("Unknown knife stand.");
#line 3167 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3168 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3169 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLECOLT : 
#line 3170 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeaponSecond  . PlayAnim  (COLT_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );
#line 3171 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_COLT : 
#line 3172 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (COLT_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3173 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : 
#line 3174 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (SINGLESHOTGUN_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3175 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLESHOTGUN : 
#line 3176 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (DOUBLESHOTGUN_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3177 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : 
#line 3178 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (TOMMYGUN_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3179 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SNIPER : 
#line 3180 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (SNIPER_ANIM_WAIT01  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3181 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_MINIGUN : 
#line 3182 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (MINIGUN_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3183 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_ROCKETLAUNCHER : 
#line 3184 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (ROCKETLAUNCHER_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3185 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_GRENADELAUNCHER : 
#line 3186 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (GRENADELAUNCHER_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3195 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : 
#line 3196 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (FLAMER_ANIM_WAIT01  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3197 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : 
#line 3198 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CHAINSAW_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3199 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : 
#line 3200 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (LASER_ANIM_WAIT01  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3205 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_IRONCANNON : 
#line 3207 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CANNON_ANIM_WAIT01  , AOF_LOOPING  | AOF_NORESTART  | AOF_SMOOTHCHANGE );break ;
#line 3208 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
default  : 
#line 3209 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("Unknown weapon.");
#line 3210 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3211 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3216 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::KnifeBoring(void) {
#line 3218 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 3219 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iKnifeStand ){
#line 3220 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: iAnim  = KNIFE_ANIM_WAIT1 ;break ;
#line 3221 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 3: iAnim  = KNIFE_ANIM_WAIT1 ;break ;
#line 3222 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3223 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3224 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (iAnim );
#line 3225 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3227 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::ColtBoring(void) {
#line 3229 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 3230 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(IRnd  () % 2){
#line 3231 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: iAnim  = COLT_ANIM_WAIT3 ;break ;
#line 3232 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: iAnim  = COLT_ANIM_WAIT4 ;break ;
#line 3233 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3234 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3235 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (iAnim );
#line 3236 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3238 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::DoubleColtBoring(void) {
#line 3240 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 3241 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(IRnd  () % 2){
#line 3242 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: iAnim  = COLT_ANIM_WAIT3 ;break ;
#line 3243 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: iAnim  = COLT_ANIM_WAIT4 ;break ;
#line 3244 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3245 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(IRnd  () & 1){
#line 3246 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3247 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (iAnim );
#line 3248 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 3249 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeaponSecond  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3250 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeaponSecond  . GetAnimLength  (iAnim );
#line 3251 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3252 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3254 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::SingleShotgunBoring(void) {
#line 3256 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 3257 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(IRnd  () % 2){
#line 3258 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: iAnim  = SINGLESHOTGUN_ANIM_WAIT2 ;break ;
#line 3259 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: iAnim  = SINGLESHOTGUN_ANIM_WAIT3 ;break ;
#line 3260 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3261 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3262 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (iAnim );
#line 3263 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3265 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::DoubleShotgunBoring(void) {
#line 3267 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 3268 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(IRnd  () % 3){
#line 3269 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: iAnim  = DOUBLESHOTGUN_ANIM_WAIT2 ;break ;
#line 3270 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: iAnim  = DOUBLESHOTGUN_ANIM_WAIT3 ;break ;
#line 3271 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 2: iAnim  = DOUBLESHOTGUN_ANIM_WAIT4 ;break ;
#line 3272 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3273 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3274 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (iAnim );
#line 3275 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3277 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::TommyGunBoring(void) {
#line 3279 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 3280 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(IRnd  () % 2){
#line 3281 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: iAnim  = TOMMYGUN_ANIM_WAIT2 ;break ;
#line 3282 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: iAnim  = TOMMYGUN_ANIM_WAIT3 ;break ;
#line 3283 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3284 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3285 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (iAnim );
#line 3286 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3288 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::SniperBoring(void) {
#line 3290 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 3291 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iAnim  = SNIPER_ANIM_WAIT01 ;
#line 3292 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3293 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (iAnim );
#line 3294 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3296 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::MiniGunBoring(void) {
#line 3298 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 3299 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(IRnd  () % 3){
#line 3300 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: iAnim  = MINIGUN_ANIM_WAIT2 ;break ;
#line 3301 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: iAnim  = MINIGUN_ANIM_WAIT3 ;break ;
#line 3302 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 2: iAnim  = MINIGUN_ANIM_WAIT4 ;break ;
#line 3303 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3304 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3305 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (iAnim );
#line 3306 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3308 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::RocketLauncherBoring(void) {
#line 3310 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (ROCKETLAUNCHER_ANIM_WAIT2  , AOF_SMOOTHCHANGE );
#line 3311 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (ROCKETLAUNCHER_ANIM_WAIT2 );
#line 3312 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3314 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::GrenadeLauncherBoring(void) {
#line 3316 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (GRENADELAUNCHER_ANIM_WAIT2  , AOF_SMOOTHCHANGE );
#line 3317 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (GRENADELAUNCHER_ANIM_WAIT2 );
#line 3318 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3353 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::FlamerBoring(void) {
#line 3355 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 3356 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(IRnd  () % 4){
#line 3357 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: iAnim  = FLAMER_ANIM_WAIT02 ;break ;
#line 3358 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: iAnim  = FLAMER_ANIM_WAIT03 ;break ;
#line 3359 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 2: iAnim  = FLAMER_ANIM_WAIT04 ;break ;
#line 3360 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 3: iAnim  = FLAMER_ANIM_WAIT05 ;break ;
#line 3361 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3362 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3363 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (iAnim );
#line 3364 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3366 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::ChainsawBoring(void) {
#line 3368 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 3369 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(IRnd  () % 3){
#line 3370 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: iAnim  = CHAINSAW_ANIM_WAIT2 ;break ;
#line 3371 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: iAnim  = CHAINSAW_ANIM_WAIT3 ;break ;
#line 3372 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 2: iAnim  = CHAINSAW_ANIM_WAIT4 ;break ;
#line 3373 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3374 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3375 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (iAnim );
#line 3376 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3378 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::LaserBoring(void) {
#line 3380 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 3381 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iAnim  = LASER_ANIM_WAIT02 ;
#line 3382 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3383 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (iAnim );
#line 3384 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3400 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT CPlayerWeapons::CannonBoring(void) {
#line 3402 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 3403 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(IRnd  () % 3){
#line 3404 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: iAnim  = CANNON_ANIM_WAIT02 ;break ;
#line 3405 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: iAnim  = CANNON_ANIM_WAIT03 ;break ;
#line 3406 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 2: iAnim  = CANNON_ANIM_WAIT04 ;break ;
#line 3407 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3408 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , AOF_SMOOTHCHANGE );
#line 3409 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_moWeapon  . GetAnimLength  (iAnim );
#line 3410 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3413 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponType CPlayerWeapons::FindRemapedPos(WeaponType wt) 
#line 3414 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3415 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
for(INDEX i  = 0;i  < 18;i  ++)
#line 3416 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3417 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(aiWeaponsRemap  [ i  ] == wt ){
#line 3418 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return (WeaponType ) i ;
#line 3419 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3420 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3421 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERT  ("Non-existant weapon in remap array!");
#line 3422 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return (WeaponType ) 0;
#line 3423 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3426 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponType CPlayerWeapons::PrimaryToSecondary(WeaponType wt) 
#line 3427 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3428 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(wt  == WEAPON_CHAINSAW ){
#line 3429 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return WEAPON_KNIFE ;
#line 3430 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(wt  == WEAPON_DOUBLECOLT ){
#line 3431 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return WEAPON_COLT ;
#line 3432 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(wt  == WEAPON_DOUBLESHOTGUN ){
#line 3433 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return WEAPON_SINGLESHOTGUN ;
#line 3434 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(wt  == WEAPON_MINIGUN ){
#line 3435 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return WEAPON_TOMMYGUN ;
#line 3436 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(wt  == WEAPON_ROCKETLAUNCHER ){
#line 3437 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return WEAPON_GRENADELAUNCHER ;
#line 3438 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(wt  == WEAPON_SNIPER ){
#line 3439 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return WEAPON_FLAMER ;
#line 3440 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 3441 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return wt ;
#line 3442 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3443 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3445 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponType CPlayerWeapons::SecondaryToPrimary(WeaponType wt) 
#line 3446 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3447 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(wt  == WEAPON_KNIFE ){
#line 3448 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return WEAPON_CHAINSAW ;
#line 3449 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(wt  == WEAPON_COLT ){
#line 3450 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return WEAPON_DOUBLECOLT ;
#line 3451 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(wt  == WEAPON_SINGLESHOTGUN ){
#line 3452 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return WEAPON_DOUBLESHOTGUN ;
#line 3453 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(wt  == WEAPON_TOMMYGUN ){
#line 3454 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return WEAPON_MINIGUN ;
#line 3455 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(wt  == WEAPON_GRENADELAUNCHER ){
#line 3456 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return WEAPON_ROCKETLAUNCHER ;
#line 3457 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(wt  == WEAPON_FLAMER ){
#line 3458 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return WEAPON_SNIPER ;
#line 3459 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 3460 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return wt ;
#line 3461 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3462 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3492 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponType CPlayerWeapons::FindWeaponInDirection(INDEX iDir) 
#line 3493 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3494 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX wtOrg  = FindRemapedPos  (m_iWantedWeapon );
#line 3495 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX wti  = wtOrg ;
#line 3496 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FOREVER {
#line 3497 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
(INDEX &) wti  += iDir ;
#line 3498 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(wti  < 1){
#line 3499 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wti  = WEAPON_IRONCANNON ;
#line 3500 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3501 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(wti  > 14){
#line 3502 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wti  = WEAPON_KNIFE ;
#line 3503 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3504 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(wti  == wtOrg ){
#line 3505 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3506 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3507 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponType  wt  = (WeaponType ) aiWeaponsRemap  [ wti  ];
#line 3508 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if((((1 << (wt  - 1)) & m_iAvailableWeapons ) && HasAmmo  (wt ))){
#line 3509 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return wt ;
#line 3510 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3511 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3512 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_iWantedWeapon ;
#line 3513 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3516 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::SelectWeaponChange(INDEX iSelect) 
#line 3517 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3518 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
WeaponType  EwtTemp ;
#line 3520 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmWeaponChangeRequired  = _pTimer  -> CurrentTick  ();
#line 3523 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iSelect  == 0){
#line 3524 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bChangeWeapon  = TRUE ;
#line 3525 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iWantedWeapon  = WEAPON_NONE ;
#line 3526 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return ;
#line 3527 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3530 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iSelect  == - 4){
#line 3531 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SelectNewWeapon  ();
#line 3532 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return ;
#line 3533 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3536 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iSelect  == - 3){
#line 3537 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EwtTemp  = GetAltWeapon  (m_iWantedWeapon );
#line 3540 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(iSelect  == - 2){
#line 3541 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EwtTemp  = FindWeaponInDirection  (- 1);
#line 3544 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(iSelect  == - 1){
#line 3545 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EwtTemp  = FindWeaponInDirection  (+ 1);
#line 3548 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 3550 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iSelect  == GetSelectedWeapon  (m_iWantedWeapon )){
#line 3551 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EwtTemp  = GetAltWeapon  (m_iWantedWeapon );
#line 3554 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 3555 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EwtTemp  = GetStrongerWeapon  (iSelect );
#line 3558 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! ((1 << (EwtTemp  - 1)) & m_iAvailableWeapons ) || ! HasAmmo  (EwtTemp )){
#line 3559 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
EwtTemp  = GetAltWeapon  (EwtTemp );
#line 3560 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3561 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3562 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3565 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL bChange  = (((1 << (EwtTemp  - 1)) & m_iAvailableWeapons ) && HasAmmo  (EwtTemp ));
#line 3566 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(bChange ){
#line 3567 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iWantedWeapon  = EwtTemp ;
#line 3568 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bChangeWeapon  = TRUE ;
#line 3569 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3570 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3574 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
void CPlayerWeapons::MinigunSmoke() 
#line 3575 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3576 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! hud_bShowWeapon )
#line 3577 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3578 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return ;
#line 3579 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3581 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 3582 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pl  . m_pstState  != PST_DIVE )
#line 3583 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3584 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL b3rdPersonView  = TRUE ;
#line 3585 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pl  . m_penCamera  == NULL  && pl  . m_pen3rdPersonView  == NULL )
#line 3586 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3587 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
b3rdPersonView  = FALSE ;
#line 3588 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3590 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX ctBulletsFired  = ClampUp  (m_iBulletsOnFireStart  - m_iBullets  , INDEX (200));
#line 3591 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
for(INDEX iSmoke  = 0;iSmoke  < ctBulletsFired  / 10;iSmoke  ++)
#line 3592 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3593 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  * psldSmoke  = & pl  . m_asldData  [ pl  . m_iFirstEmptySLD  ];
#line 3594 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plPipe ;
#line 3595 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(b3rdPersonView )
#line 3596 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3597 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition3rdPersonView  (FLOAT3D (afMinigunPipe3rdView  [ 0 ] , 
#line 3598 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
afMinigunPipe3rdView  [ 1 ] , afMinigunPipe3rdView  [ 2 ]) , plPipe  , FALSE );
#line 3599 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3600 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else 
#line 3601 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3602 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (afMinigunPipe  [ 0 ] , afMinigunPipe  [ 1 ] , afMinigunPipe  [ 2 ]) , plPipe  , FALSE );
#line 3603 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3604 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D m ;
#line 3605 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (m  , plPipe  . pl_OrientationAngle );
#line 3606 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
psldSmoke  -> sld_vPos  = plPipe  . pl_PositionVector  + pl  . en_vCurrentTranslationAbsolute  * iSmoke  * _pTimer  -> TickQuantum ;
#line 3607 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  (m  (1 , 2) , m  (2 , 2) , m  (3 , 2));
#line 3608 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
psldSmoke  -> sld_vUp  = vUp ;
#line 3609 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
psldSmoke  -> sld_tmLaunch  = _pTimer  -> CurrentTick  () + iSmoke  * _pTimer  -> TickQuantum ;
#line 3610 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
psldSmoke  -> sld_estType  = ESL_BULLET_SMOKE ;
#line 3611 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
psldSmoke  -> sld_fSize  = 0.75f + ctBulletsFired  / 50.0f;
#line 3612 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpeedRelative  = FLOAT3D (- 0.06f , FRnd  () / 4.0f , - 0.06f);
#line 3613 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
psldSmoke  -> sld_vSpeed  = vSpeedRelative  * m  + pl  . en_vCurrentTranslationAbsolute ;
#line 3614 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_iFirstEmptySLD  = (pl  . m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 3615 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3616 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3617 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
  
#line 3619 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL CPlayerWeapons::SniperZoomDiscrete(INDEX iDirection,BOOL & bZoomChanged) 
#line 3620 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 3621 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
bZoomChanged  = FALSE ;
#line 3623 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(iDirection  > 0){
#line 3624 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
for(INDEX i  = 0;i  < iSniperDiscreteZoomLevels ;i  ++){
#line 3625 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(afSniperZoom  [ 2 * i  ] < m_fSniperFOV ){
#line 3626 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fSniperFOV  = afSniperZoom  [ 2 * i  ];
#line 3627 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fSniperFOVlast  = m_fSniperFOV ;
#line 3628 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
bZoomChanged  = TRUE ;
#line 3629 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3630 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3631 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3633 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 3634 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
for(INDEX i  = iSniperDiscreteZoomLevels ;i  > 0;i  --){
#line 3635 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(afSniperZoom  [ 2 * i  ] > m_fSniperFOV ){
#line 3636 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fSniperFOV  = afSniperZoom  [ 2 * i  ];
#line 3637 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fSniperFOVlast  = m_fSniperFOV ;
#line 3638 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
bZoomChanged  = TRUE ;
#line 3639 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3640 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3641 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3642 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3643 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_fSniperFOV  < 90.0f){
#line 3644 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bSniping  = TRUE ;
#line 3645 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3646 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else {
#line 3647 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bSniping  = FALSE ;
#line 3648 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3649 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return m_bSniping ;
#line 3650 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
BOOL CPlayerWeapons::
#line 3656 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ChangeWeapon(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_ChangeWeapon
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::ChangeWeapon expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 3658 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iCurrentWeapon  != m_iWantedWeapon ){
#line 3659 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fSniperFOV  = m_fSniperFOVlast  = m_fSniperMaxFOV ;
#line 3660 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bSniping  = FALSE ;
#line 3661 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_penPlayer  -> SendEvent  (EWeaponChanged  ());
#line 3662 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3664 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bChangeWeapon  = FALSE ;
#line 3666 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_iCurrentWeapon  != m_iWantedWeapon )){ Jump(STATE_CURRENT,0x01920010, FALSE, EInternal());return TRUE;}
#line 3686 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iPreviousWeapon  = m_iCurrentWeapon ;
#line 3687 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
STATE_CPlayerWeapons_PutDown, TRUE;
Jump(STATE_CURRENT, 0x01920008, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920008_ChangeWeapon_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920008
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: Call(STATE_CURRENT, STATE_CPlayerWeapons_PutDown, TRUE, EVoid());return TRUE;case EVENTCODE_EEnd: Jump(STATE_CURRENT,0x01920009, FALSE, __eeInput); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920009_ChangeWeapon_02(const CEntityEvent &__eeInput){
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920009
const EEnd&__e= (EEnd&)__eeInput;
;
#line 3689 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iCurrentWeapon  = m_iWantedWeapon ;
#line 3691 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
wpn_iCurrent  = m_iCurrentWeapon ;
#line 3692 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
STATE_CPlayerWeapons_BringUp, TRUE;
Jump(STATE_CURRENT, 0x0192000a, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192000a_ChangeWeapon_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192000a
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: Call(STATE_CURRENT, STATE_CPlayerWeapons_BringUp, TRUE, EVoid());return TRUE;case EVENTCODE_EEnd: Jump(STATE_CURRENT,0x0192000b, FALSE, __eeInput); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192000b_ChangeWeapon_04(const CEntityEvent &__eeInput){
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192000b
const EEnd&__e= (EEnd&)__eeInput;
;
#line 3694 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iCurrentWeapon  == WEAPON_CHAINSAW ){
#line 3695 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 3696 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeaponAmbient  . Set3DParameters  (30.0f , 3.0f , 1.0f , 1.0f);
#line 3697 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeaponAmbient  , SOUND_CS_IDLE  , SOF_3D  | SOF_VOLUMETRIC  | SOF_LOOP  | SOF_SMOOTHCHANGE );
#line 3698 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("ChainsawIdle");}
#line 3699 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x0192000f, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920010_ChangeWeapon_09(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920010
if(!(m_iWantedWeapon  == WEAPON_KNIFE )){ Jump(STATE_CURRENT,0x0192000e, FALSE, EInternal());return TRUE;}
#line 3704 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmWeaponChangeRequired  = 0.0f;
#line 3705 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
STATE_CPlayerWeapons_ChangeKnifeStand, TRUE;
Jump(STATE_CURRENT, 0x0192000c, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192000c_ChangeWeapon_05(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192000c
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: Call(STATE_CURRENT, STATE_CPlayerWeapons_ChangeKnifeStand, TRUE, EVoid());return TRUE;case EVENTCODE_EEnd: Jump(STATE_CURRENT,0x0192000d, FALSE, __eeInput); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192000d_ChangeWeapon_06(const CEntityEvent &__eeInput){
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192000d
const EEnd&__e= (EEnd&)__eeInput;
;Jump(STATE_CURRENT,0x0192000e, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192000e_ChangeWeapon_07(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192000e
Jump(STATE_CURRENT,0x0192000f, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x0192000f_ChangeWeapon_08(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192000f

#line 3713 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 3718 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PutDown(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_PutDown
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::PutDown expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 3720 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 3721 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_NONE : 
#line 3722 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3724 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : 
#line 3725 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iKnifeStand  == 1){
#line 3726 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = KNIFE_ANIM_PULLOUT ;
#line 3727 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(m_iKnifeStand  == 3){
#line 3728 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = KNIFE_ANIM_PULLOUT ;
#line 3729 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3730 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3731 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLECOLT : case WEAPON_COLT : 
#line 3732 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = COLT_ANIM_DEACTIVATE ;
#line 3733 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3734 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : 
#line 3735 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = SINGLESHOTGUN_ANIM_DEACTIVATE ;
#line 3736 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3737 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLESHOTGUN : 
#line 3738 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = DOUBLESHOTGUN_ANIM_DEACTIVATE ;
#line 3739 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3740 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : 
#line 3741 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = TOMMYGUN_ANIM_DEACTIVATE ;
#line 3742 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3743 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SNIPER : 
#line 3744 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = SNIPER_ANIM_DEACTIVATE ;
#line 3745 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3746 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_MINIGUN : 
#line 3747 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = MINIGUN_ANIM_DEACTIVATE ;
#line 3748 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3749 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_ROCKETLAUNCHER : 
#line 3750 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = ROCKETLAUNCHER_ANIM_DEACTIVATE ;
#line 3751 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3752 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_GRENADELAUNCHER : 
#line 3753 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = GRENADELAUNCHER_ANIM_DEACTIVATE ;
#line 3754 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3758 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : 
#line 3759 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = FLAMER_ANIM_DEACTIVATE ;
#line 3760 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3761 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : {
#line 3762 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 3763 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeaponAmbient  , SOUND_CS_BRINGDOWN  , SOF_3D  | SOF_VOLUMETRIC  | SOF_SMOOTHCHANGE );
#line 3764 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_StopEffect  ("ChainsawIdle");}
#line 3765 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = CHAINSAW_ANIM_DEACTIVATE ;
#line 3766 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;}
#line 3767 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : 
#line 3768 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = LASER_ANIM_DEACTIVATE ;
#line 3769 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3775 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_IRONCANNON : 
#line 3777 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = CANNON_ANIM_DEACTIVATE ;
#line 3778 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3779 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
default  : ASSERTALWAYS  ("Unknown weapon.");
#line 3780 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3782 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayerAnimator  & plan  = (CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ;
#line 3783 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plan  . BodyPushAnimation  ();
#line 3784 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iCurrentWeapon  == WEAPON_NONE ){
#line 3785 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 3785 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 3786 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3789 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iCurrentWeapon  == WEAPON_COLT  && m_iWantedWeapon  == WEAPON_DOUBLECOLT ){
#line 3790 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 3790 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 3791 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3794 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iCurrentWeapon  == WEAPON_DOUBLECOLT ){
#line 3795 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeaponSecond  . PlayAnim  (m_iAnim  , 0);
#line 3796 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3799 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_iCurrentWeapon  == WEAPON_DOUBLECOLT  && m_iWantedWeapon  == WEAPON_COLT )){ Jump(STATE_CURRENT,0x01920014, FALSE, EInternal());return TRUE;}
#line 3800 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (m_iAnim ));
Jump(STATE_CURRENT, 0x01920012, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920012_PutDown_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920012
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920013, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920013_PutDown_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920013
;
#line 3801 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 3801 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;Jump(STATE_CURRENT,0x01920014, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920014_PutDown_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920014

#line 3815 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL bNowColt  = m_iCurrentWeapon  == WEAPON_COLT  || m_iCurrentWeapon  == WEAPON_DOUBLECOLT ;
#line 3816 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BOOL bWantedColt  = m_iWantedWeapon  == WEAPON_COLT  || m_iWantedWeapon  == WEAPON_DOUBLECOLT ;
#line 3817 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(bNowColt  && ! bWantedColt ){
#line 3818 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iColtBullets  = 6;
#line 3819 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3821 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (m_iAnim  , 0);
#line 3822 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (m_iAnim ));
Jump(STATE_CURRENT, 0x01920015, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920015_PutDown_04(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920015
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920016, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920016_PutDown_05(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920016
;
#line 3823 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 3823 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 3827 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BringUp(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_BringUp
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::BringUp expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 3829 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ResetWeaponMovingOffset  ();
#line 3831 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetCurrentWeaponModel  ();
#line 3833 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 3834 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : 
#line 3835 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = KNIFE_ANIM_PULL ;
#line 3836 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iKnifeStand  = 1;
#line 3837 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3838 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_COLT : case WEAPON_DOUBLECOLT : 
#line 3839 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = COLT_ANIM_ACTIVATE ;
#line 3840 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlare  (0 , FLARE_REMOVE );
#line 3841 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlare  (1 , FLARE_REMOVE );
#line 3842 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3843 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : 
#line 3844 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = SINGLESHOTGUN_ANIM_ACTIVATE ;
#line 3845 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlare  (0 , FLARE_REMOVE );
#line 3846 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3847 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLESHOTGUN : 
#line 3848 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = DOUBLESHOTGUN_ANIM_ACTIVATE ;
#line 3849 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlare  (0 , FLARE_REMOVE );
#line 3850 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3851 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : 
#line 3852 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = TOMMYGUN_ANIM_ACTIVATE ;
#line 3853 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlare  (0 , FLARE_REMOVE );
#line 3854 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3855 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SNIPER : 
#line 3856 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = SNIPER_ANIM_ACTIVATE ;
#line 3857 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlare  (0 , FLARE_REMOVE );
#line 3858 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3859 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_MINIGUN : {
#line 3860 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CAttachmentModelObject  * amo  = m_moWeapon  . GetAttachmentModel  (MINIGUN_ATTACHMENT_BARRELS );
#line 3861 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGunLast  = m_aMiniGun  = amo  -> amo_plRelative  . pl_OrientationAngle  (3);
#line 3862 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = MINIGUN_ANIM_ACTIVATE ;
#line 3863 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlare  (0 , FLARE_REMOVE );
#line 3864 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;}
#line 3865 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_ROCKETLAUNCHER : 
#line 3866 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = ROCKETLAUNCHER_ANIM_ACTIVATE ;
#line 3867 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3868 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_GRENADELAUNCHER : 
#line 3869 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = GRENADELAUNCHER_ANIM_ACTIVATE ;
#line 3870 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3874 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : 
#line 3875 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = FLAMER_ANIM_ACTIVATE ;
#line 3876 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3877 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : {
#line 3878 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = CHAINSAW_ANIM_ACTIVATE ;
#line 3879 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 3880 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeaponAmbient  . Set3DParameters  (30.0f , 3.0f , 1.0f , 1.0f);
#line 3881 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeaponAmbient  , SOUND_CS_BRINGUP  , SOF_3D  | SOF_VOLUMETRIC  | SOF_LOOP );
#line 3882 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;}
#line 3883 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : 
#line 3884 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = LASER_ANIM_ACTIVATE ;
#line 3885 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3890 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_IRONCANNON : 
#line 3892 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iAnim  = CANNON_ANIM_ACTIVATE ;
#line 3893 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3894 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_NONE : 
#line 3895 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 3896 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
default  : ASSERTALWAYS  ("Unknown weapon.");
#line 3897 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3899 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayerAnimator  & plan  = (CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ;
#line 3900 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
plan  . BodyPullAnimation  ();
#line 3903 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iPreviousWeapon  == WEAPON_DOUBLECOLT  && m_iCurrentWeapon  == WEAPON_COLT ){
#line 3905 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmWeaponChangeRequired  -= hud_tmWeaponsOnScreen  / 2;
#line 3906 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 3906 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 3907 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3910 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iCurrentWeapon  == WEAPON_DOUBLECOLT ){
#line 3911 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeaponSecond  . PlayAnim  (m_iAnim  , 0);
#line 3912 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3915 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_iPreviousWeapon  == WEAPON_COLT  && m_iCurrentWeapon  == WEAPON_DOUBLECOLT )){ Jump(STATE_CURRENT,0x0192001a, FALSE, EInternal());return TRUE;}
#line 3916 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (m_iAnim ));
Jump(STATE_CURRENT, 0x01920018, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920018_BringUp_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920018
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920019, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920019_BringUp_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920019
;
#line 3918 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmWeaponChangeRequired  -= hud_tmWeaponsOnScreen  / 2;
#line 3919 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 3919 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;Jump(STATE_CURRENT,0x0192001a, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192001a_BringUp_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001a

#line 3935 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (m_iAnim  , 0);
#line 3936 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (m_iAnim ));
Jump(STATE_CURRENT, 0x0192001b, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192001b_BringUp_04(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001b
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192001c, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192001c_BringUp_05(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001c
;
#line 3946 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmWeaponChangeRequired  -= hud_tmWeaponsOnScreen  / 2;
#line 3948 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 3948 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 3955 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Fire(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Fire
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::Fire expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 3957 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 3958 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_SILENCE  , SOF_3D  | SOF_VOLUMETRIC );
#line 3960 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmWeaponChangeRequired  = 0;
#line 3962 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = TRUE ;
#line 3963 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bHasAmmo  = HasAmmo  (m_iCurrentWeapon );
#line 3966 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! m_bHasAmmo ){
#line 3967 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SelectNewWeapon  ();
#line 3968 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE;
#line 3969 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 3972 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Setup3DSoundParameters  ();
#line 3975 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_iCurrentWeapon  == WEAPON_MINIGUN )){ Jump(STATE_CURRENT,0x01920029, FALSE, EInternal());return TRUE;}
#line 3976 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_MiniGunSpinUp, TRUE, EVoid());return TRUE;Jump(STATE_CURRENT,0x01920028, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920029_Fire_12(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920029
if(!(m_iCurrentWeapon  == WEAPON_FLAMER )){ Jump(STATE_CURRENT,0x01920027, FALSE, EInternal());return TRUE;}
#line 3978 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_FlamerStart, TRUE, EVoid());return TRUE;Jump(STATE_CURRENT,0x01920026, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920027_Fire_10(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920027
if(!(m_iCurrentWeapon  == WEAPON_CHAINSAW )){ Jump(STATE_CURRENT,0x01920025, FALSE, EInternal());return TRUE;}
#line 3980 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_ChainsawFire, TRUE, EVoid());return TRUE;Jump(STATE_CURRENT,0x01920024, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920025_Fire_08(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920025
if(!(m_iCurrentWeapon  == WEAPON_LASER )){ Jump(STATE_CURRENT,0x01920023, FALSE, EInternal());return TRUE;}
#line 3984 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_SHOTGUN_FIRESHORT  , AOF_LOOPING );Jump(STATE_CURRENT,0x01920022, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920023_Fire_06(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920023
if(!(m_iCurrentWeapon  == WEAPON_TOMMYGUN )){ Jump(STATE_CURRENT,0x01920021, FALSE, EInternal());return TRUE;}
#line 3986 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
STATE_CPlayerWeapons_TommyGunStart, TRUE;
Jump(STATE_CURRENT, 0x0192001e, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192001e_Fire_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001e
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: Call(STATE_CURRENT, STATE_CPlayerWeapons_TommyGunStart, TRUE, EVoid());return TRUE;case EVENTCODE_EEnd: Jump(STATE_CURRENT,0x0192001f, FALSE, __eeInput); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192001f_Fire_02(const CEntityEvent &__eeInput){
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192001f
const EEnd&__e= (EEnd&)__eeInput;
;Jump(STATE_CURRENT,0x01920020, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920021_Fire_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920021
if((m_iCurrentWeapon  == WEAPON_IRONCANNON )){
#line 3988 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_CannonFireStart, TRUE, EVoid());return TRUE;
#line 3989 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x01920020, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x01920020_Fire_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920020
Jump(STATE_CURRENT,0x01920022, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x01920022_Fire_05(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920022
Jump(STATE_CURRENT,0x01920024, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x01920024_Fire_07(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920024
Jump(STATE_CURRENT,0x01920026, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x01920026_Fire_09(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920026
Jump(STATE_CURRENT,0x01920028, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x01920028_Fire_11(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920028

#line 3992 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iLastBulletPosition  = FLOAT3D (32000.0f , 32000.0f , 32000.0f);
#line 3995 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iLaserBarrel  = 0;
#line 3997 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x0192002c, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192002c_Fire_15(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192002c
if(!(HoldingFire  () && m_bHasAmmo )){ Jump(STATE_CURRENT,0x0192002d, FALSE, EInternal());return TRUE;}
#line 3999 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ) . m_fLastActionTime  = _pTimer  -> CurrentTick  ();
#line 4000 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x0192002a, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192002a_Fire_13(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192002a
switch(__eeInput.ee_slEvent){case(EVENTCODE_EBegin):{const EBegin&e= (EBegin&)__eeInput;

#line 4003 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 4004 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : Call(STATE_CURRENT, STATE_CPlayerWeapons_SwingKnife, TRUE, EVoid());return TRUE;break ;
#line 4005 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_COLT : Call(STATE_CURRENT, STATE_CPlayerWeapons_FireColt, TRUE, EVoid());return TRUE;break ;
#line 4006 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLECOLT : Call(STATE_CURRENT, STATE_CPlayerWeapons_FireDoubleColt, TRUE, EVoid());return TRUE;break ;
#line 4007 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : Call(STATE_CURRENT, STATE_CPlayerWeapons_FireSingleShotgun, TRUE, EVoid());return TRUE;break ;
#line 4008 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLESHOTGUN : Call(STATE_CURRENT, STATE_CPlayerWeapons_FireDoubleShotgun, TRUE, EVoid());return TRUE;break ;
#line 4009 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : Call(STATE_CURRENT, STATE_CPlayerWeapons_FireTommyGun, TRUE, EVoid());return TRUE;break ;
#line 4010 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SNIPER : Call(STATE_CURRENT, STATE_CPlayerWeapons_FireSniper, TRUE, EVoid());return TRUE;break ;
#line 4011 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_ROCKETLAUNCHER : Call(STATE_CURRENT, STATE_CPlayerWeapons_FireRocketLauncher, TRUE, EVoid());return TRUE;break ;
#line 4012 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_GRENADELAUNCHER : Call(STATE_CURRENT, STATE_CPlayerWeapons_FireGrenadeLauncher, TRUE, EVoid());return TRUE;break ;
#line 4013 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : Call(STATE_CURRENT, STATE_CPlayerWeapons_FireLaser, TRUE, EVoid());return TRUE;break ;
#line 4014 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
default  : ASSERTALWAYS  ("Unknown weapon.");
#line 4015 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4016 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 4017 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EEnd):{const EEnd&e= (EEnd&)__eeInput;

#line 4019 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
UnsetTimer();Jump(STATE_CURRENT,0x0192002b, FALSE, EInternal());return TRUE;
#line 4020 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;default: return FALSE; break;
#line 4021 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}return TRUE;}BOOL CPlayerWeapons::H0x0192002b_Fire_14(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192002b
Jump(STATE_CURRENT,0x0192002c, FALSE, EInternal());return TRUE;
#line 4022 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x0192002d_Fire_16(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192002d

#line 4025 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 4026 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : {Jump(STATE_CURRENT, STATE_CPlayerWeapons_TommyGunStop, TRUE, EVoid());return TRUE;break ;}
#line 4027 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_MINIGUN : {Jump(STATE_CURRENT, STATE_CPlayerWeapons_MiniGunSpinDown, TRUE, EVoid());return TRUE;break ;}
#line 4028 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : {Jump(STATE_CURRENT, STATE_CPlayerWeapons_FlamerStop, TRUE, EVoid());return TRUE;break ;}
#line 4030 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : {
#line 4031 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimationOff  ();
#line 4032 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE;
#line 4033 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4034 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
default  :{Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE;}
#line 4035 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
} ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4040 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SwingKnife(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_SwingKnife
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::SwingKnife expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4041 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iSwing ;
#line 4044 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_KNIFE_ATTACK  , 0);
#line 4046 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4048 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iKnifeStand ){
#line 4049 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: 
#line 4050 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iSwing  = IRnd  () % 2;
#line 4051 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(iSwing ){
#line 4052 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: m_iAnim  = KNIFE_ANIM_ATTACK01 ;m_fAnimWaitTime  = 0.25f;
#line 4053 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_KNIFE_BACK  , SOF_3D  | SOF_VOLUMETRIC );
#line 4054 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Knife_back");}
#line 4055 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 4056 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: m_iAnim  = KNIFE_ANIM_ATTACK02 ;m_fAnimWaitTime  = 0.35f;
#line 4057 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon1  , SOUND_KNIFE_BACK  , SOF_3D  | SOF_VOLUMETRIC );
#line 4058 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Knife_back");}
#line 4059 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 4060 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4061 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 4062 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 3: 
#line 4063 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
iSwing  = IRnd  () % 2;
#line 4064 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(iSwing ){
#line 4065 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: m_iAnim  = KNIFE_ANIM_ATTACK01 ;m_fAnimWaitTime  = 0.50f;
#line 4066 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon1  , SOUND_KNIFE_BACK  , SOF_3D  | SOF_VOLUMETRIC );
#line 4067 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Knife_back");}
#line 4068 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 4069 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: m_iAnim  = KNIFE_ANIM_ATTACK02 ;m_fAnimWaitTime  = 0.50f;
#line 4070 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon3  , SOUND_KNIFE_BACK  , SOF_3D  | SOF_VOLUMETRIC );
#line 4071 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Knife_back");}
#line 4072 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 4073 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4074 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;
#line 4075 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4076 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (m_iAnim  , 0);
#line 4077 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(CutWithKnife  (0 , 0 , 3.0f , 2.0f , 0.5f , ((GetSP  () -> sp_bCooperative ) ? 100.0f : 50.0f)))){ Jump(STATE_CURRENT,0x01920037, FALSE, EInternal());return TRUE;}
#line 4078 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_fAnimWaitTime );
Jump(STATE_CURRENT, 0x0192002f, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192002f_SwingKnife_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192002f
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920030, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920030_SwingKnife_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920030
;Jump(STATE_CURRENT,0x01920036, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920037_SwingKnife_09(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920037
if(!(TRUE )){ Jump(STATE_CURRENT,0x01920035, FALSE, EInternal());return TRUE;}
#line 4080 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_fAnimWaitTime  / 2);
Jump(STATE_CURRENT, 0x01920031, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920031_SwingKnife_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920031
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920032, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920032_SwingKnife_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920032
;
#line 4081 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CutWithKnife  (0 , 0 , 3.0f , 2.0f , 0.5f , ((GetSP  () -> sp_bCooperative ) ? 100.0f : 50.0f));
#line 4082 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_fAnimWaitTime  / 2);
Jump(STATE_CURRENT, 0x01920033, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920033_SwingKnife_05(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920033
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920034, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920034_SwingKnife_06(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920034
;Jump(STATE_CURRENT,0x01920035, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920035_SwingKnife_07(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920035
Jump(STATE_CURRENT,0x01920036, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x01920036_SwingKnife_08(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920036

#line 4085 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_moWeapon  . GetAnimLength  (m_iAnim ) - m_fAnimWaitTime  >= _pTimer  -> TickQuantum )){ Jump(STATE_CURRENT,0x0192003a, FALSE, EInternal());return TRUE;}
#line 4086 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (m_iAnim ) - m_fAnimWaitTime );
Jump(STATE_CURRENT, 0x01920038, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920038_SwingKnife_10(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920038
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920039, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920039_SwingKnife_11(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920039
;Jump(STATE_CURRENT,0x0192003a, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192003a_SwingKnife_12(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192003a

#line 4088 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4088 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4092 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireColt(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_FireColt
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::FireColt expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4093 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_COLT_FIRERIGHT  , 0);
#line 4096 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireOneBullet  (wpn_fFX  [ WEAPON_COLT  ] , wpn_fFY  [ WEAPON_COLT  ] , 500.0f , 
#line 4097 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((GetSP  () -> sp_bCooperative ) ? 10.0f : 20.0f));
#line 4100 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Colt_fire");}
#line 4101 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DoRecoil  ();
#line 4102 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SpawnRangeSound  (40.0f);
#line 4103 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iColtBullets  --;
#line 4104 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlare  (0 , FLARE_ADD );
#line 4105 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_COLT_SHOTGUN  , 0);
#line 4108 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4109 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_COLT_FIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 4124 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iAnim ;
#line 4125 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(IRnd  () % 3){
#line 4126 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: iAnim  = COLT_ANIM_FIRE1 ;break ;
#line 4127 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: iAnim  = COLT_ANIM_FIRE2 ;break ;
#line 4128 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 2: iAnim  = COLT_ANIM_FIRE3 ;break ;
#line 4129 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4130 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (iAnim  , 0);
#line 4131 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (iAnim ) - 0.05f);
Jump(STATE_CURRENT, 0x0192003c, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192003c_FireColt_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192003c
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192003d, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192003d_FireColt_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192003d
;
#line 4132 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (COLT_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART );
#line 4135 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iColtBullets  == 0){
#line 4136 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_ReloadColt, TRUE, EVoid());return TRUE;
#line 4137 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4138 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4138 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4142 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ReloadColt(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_ReloadColt
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::ReloadColt expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4143 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iColtBullets  >= 6){
#line 4144 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4144 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 4145 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4147 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4148 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon1  , SOUND_COLT_RELOAD  , SOF_3D  | SOF_VOLUMETRIC );
#line 4150 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (COLT_ANIM_RELOAD  , 0);
#line 4151 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Colt_reload");}
#line 4152 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (COLT_ANIM_RELOAD ));
Jump(STATE_CURRENT, 0x0192003f, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192003f_ReloadColt_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192003f
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920040, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920040_ReloadColt_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920040
;
#line 4153 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iColtBullets  = 6;
#line 4154 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4154 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4158 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireDoubleColt(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_FireDoubleColt
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::FireDoubleColt expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4160 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_COLT_FIRERIGHT  , 0);
#line 4161 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireOneBullet  (wpn_fFX  [ WEAPON_DOUBLECOLT  ] , wpn_fFY  [ WEAPON_DOUBLECOLT  ] , 500.0f , 10.0f);
#line 4162 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Colt_fire");}
#line 4177 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DoRecoil  ();
#line 4178 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SpawnRangeSound  (50.0f);
#line 4179 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iColtBullets  --;
#line 4180 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlare  (0 , FLARE_ADD );
#line 4181 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_COLT_SHOTGUN  , 0);
#line 4183 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & plSnd  = (CPlayer  &) * m_penPlayer ;
#line 4184 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (plSnd  . m_soWeapon0  , SOUND_COLT_FIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 4187 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(IRnd  () % 3){
#line 4188 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: m_iAnim  = COLT_ANIM_FIRE1 ;break ;
#line 4189 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: m_iAnim  = COLT_ANIM_FIRE2 ;break ;
#line 4190 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 2: m_iAnim  = COLT_ANIM_FIRE3 ;break ;
#line 4191 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4192 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (m_iAnim  , 0);
#line 4193 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (m_iAnim ) / 2);
Jump(STATE_CURRENT, 0x01920042, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920042_FireDoubleColt_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920042
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920043, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920043_FireDoubleColt_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920043
;
#line 4196 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_COLT_FIRELEFT  , 0);
#line 4197 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bMirrorFire  = TRUE ;
#line 4198 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireOneBullet  (wpn_fFX  [ WEAPON_DOUBLECOLT  ] , wpn_fFY  [ WEAPON_DOUBLECOLT  ] , 500.0f , 10.0f);
#line 4199 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Colt_fire");}
#line 4214 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DoRecoil  ();
#line 4215 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iSecondFlare  = FLARE_ADD ;
#line 4216 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ) . m_iSecondFlare  = FLARE_ADD ;
#line 4217 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_COLT_SHOTGUN  , 0);
#line 4218 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bMirrorFire  = FALSE ;
#line 4220 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4221 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon1  , SOUND_COLT_FIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 4223 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeaponSecond  . PlayAnim  (m_iAnim  , 0);
#line 4224 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (m_iAnim ) / 2);
Jump(STATE_CURRENT, 0x01920044, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920044_FireDoubleColt_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920044
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920045, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920045_FireDoubleColt_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920045
;
#line 4227 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iColtBullets  == 0){
#line 4228 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_ReloadDoubleColt, TRUE, EVoid());return TRUE;
#line 4229 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4230 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4230 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4234 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ReloadDoubleColt(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_ReloadDoubleColt
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::ReloadDoubleColt expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4235 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iColtBullets  >= 6){
#line 4236 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4236 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 4237 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4238 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (COLT_ANIM_RELOAD  , 0);
#line 4240 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4241 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon2  , SOUND_COLT_RELOAD  , SOF_3D  | SOF_VOLUMETRIC );
#line 4243 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (COLT_ANIM_RELOAD ) / 2);
Jump(STATE_CURRENT, 0x01920047, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920047_ReloadDoubleColt_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920047
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920048, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920048_ReloadDoubleColt_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920048
;
#line 4245 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeaponSecond  . PlayAnim  (COLT_ANIM_RELOAD  , 0);
#line 4247 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4248 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon3  , SOUND_COLT_RELOAD  , SOF_3D  | SOF_VOLUMETRIC );
#line 4249 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Colt_reload");}
#line 4252 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (COLT_ANIM_RELOAD ) - 0.25f);
Jump(STATE_CURRENT, 0x01920049, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920049_ReloadDoubleColt_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920049
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192004a, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192004a_ReloadDoubleColt_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192004a
;
#line 4254 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iColtBullets  = 6;
#line 4255 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4255 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4259 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireSingleShotgun(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_FireSingleShotgun
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::FireSingleShotgun expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4261 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_iShells  > 0)){ Jump(STATE_CURRENT,0x01920051, FALSE, EInternal());return TRUE;}
#line 4262 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_SHOTGUN_FIRELONG  , 0);
#line 4263 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireBullets  (wpn_fFX  [ WEAPON_SINGLESHOTGUN  ] , wpn_fFY  [ WEAPON_SINGLESHOTGUN  ] , 
#line 4264 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
500.0f , 10.0f , 7 , afSingleShotgunPellets  , 0.2f , 0.03f);
#line 4265 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DoRecoil  ();
#line 4266 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SpawnRangeSound  (60.0f);
#line 4267 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Snglshotgun_fire");}
#line 4268 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DecAmmo  (m_iShells  , 1);
#line 4269 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlare  (0 , FLARE_ADD );
#line 4270 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_COLT_SHOTGUN  , 0);
#line 4271 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (GetSP  () -> sp_bCooperative  ? SINGLESHOTGUN_ANIM_FIRE1  : SINGLESHOTGUN_ANIM_FIRE1FAST  , 0);
#line 4273 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4274 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_SINGLESHOTGUN_FIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 4276 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(hud_bShowWeapon )
#line 4277 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4278 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pl  . m_pstState  == PST_DIVE )
#line 4279 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4281 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  & sldBubble  = pl  . m_asldData  [ pl  . m_iFirstEmptySLD  ];
#line 4282 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plShell ;
#line 4283 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (afSingleShotgunShellPos  [ 0 ] , 
#line 4284 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
afSingleShotgunShellPos  [ 1 ] , afSingleShotgunShellPos  [ 2 ]) , plShell  , FALSE );
#line 4285 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D m ;
#line 4286 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (m  , plShell  . pl_OrientationAngle );
#line 4287 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  (m  (1 , 2) , m  (2 , 2) , m  (3 , 2));
#line 4288 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_vPos  = plShell  . pl_PositionVector ;
#line 4289 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_vUp  = vUp ;
#line 4290 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_tmLaunch  = _pTimer  -> CurrentTick  ();
#line 4291 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_estType  = ESL_BUBBLE ;
#line 4292 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpeedRelative  = FLOAT3D (0.3f , 0.0f , 0.0f);
#line 4293 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_vSpeed  = vSpeedRelative  * m ;
#line 4294 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_iFirstEmptySLD  = (pl  . m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 4295 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4296 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else 
#line 4297 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4299 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  & sldPipe1  = pl  . m_asldData  [ pl  . m_iFirstEmptySLD  ];
#line 4300 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plPipe ;
#line 4301 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (afSingleShotgunPipe  [ 0 ] , afSingleShotgunPipe  [ 1 ] , afSingleShotgunPipe  [ 2 ]) , plPipe  , FALSE );
#line 4302 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D m ;
#line 4303 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (m  , plPipe  . pl_OrientationAngle );
#line 4304 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  (m  (1 , 2) , m  (2 , 2) , m  (3 , 2));
#line 4305 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldPipe1  . sld_vPos  = plPipe  . pl_PositionVector ;
#line 4306 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldPipe1  . sld_vUp  = vUp ;
#line 4307 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldPipe1  . sld_tmLaunch  = _pTimer  -> CurrentTick  ();
#line 4308 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldPipe1  . sld_estType  = ESL_SHOTGUN_SMOKE ;
#line 4309 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpeedRelative  = FLOAT3D (0 , 0.0f , - 12.5f);
#line 4310 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldPipe1  . sld_vSpeed  = vSpeedRelative  * m ;
#line 4311 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_iFirstEmptySLD  = (pl  . m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 4312 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4313 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4315 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(GetSP  () -> sp_bCooperative  ? 0.5f : 0.375);
Jump(STATE_CURRENT, 0x0192004c, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192004c_FireSingleShotgun_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192004c
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192004d, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192004d_FireSingleShotgun_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192004d
;
#line 4319 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plShell ;
#line 4320 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (afSingleShotgunShellPos  [ 0 ] , afSingleShotgunShellPos  [ 1 ] , afSingleShotgunShellPos  [ 2 ]) , plShell  , FALSE );
#line 4322 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D mRot ;
#line 4323 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (mRot  , plShell  . pl_OrientationAngle );
#line 4325 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(hud_bShowWeapon )
#line 4326 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4327 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  * penPlayer  = GetPlayer  ();
#line 4328 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  & sld  = penPlayer  -> m_asldData  [ penPlayer  -> m_iFirstEmptySLD  ];
#line 4329 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_vPos  = plShell  . pl_PositionVector ;
#line 4330 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpeedRelative  = FLOAT3D (FRnd  () + 2.0f , FRnd  () + 5.0f , - FRnd  () - 2.0f);
#line 4331 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_vSpeed  = vSpeedRelative  * mRot ;
#line 4333 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOATmatrix3D & m  = penPlayer  -> GetRotationMatrix  ();
#line 4334 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  (m  (1 , 2) , m  (2 , 2) , m  (3 , 2));
#line 4335 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_vUp  = vUp ;
#line 4336 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_tmLaunch  = _pTimer  -> CurrentTick  ();
#line 4337 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_estType  = ESL_SHOTGUN ;
#line 4339 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penPlayer  -> m_iFirstEmptySLD  = (penPlayer  -> m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 4340 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4343 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (
#line 4344 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
(GetSP  () -> sp_bCooperative  ? SINGLESHOTGUN_ANIM_FIRE1  : SINGLESHOTGUN_ANIM_FIRE1FAST )) - 
#line 4345 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
(GetSP  () -> sp_bCooperative  ? 0.5f : 0.375f));
Jump(STATE_CURRENT, 0x0192004e, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192004e_FireSingleShotgun_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192004e
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192004f, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192004f_FireSingleShotgun_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192004f
;
#line 4347 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iShells  <= 0){SelectNewWeapon  ();}Jump(STATE_CURRENT,0x01920050, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920051_FireSingleShotgun_06(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920051
{
#line 4349 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("SingleShotgun - Auto weapon change not working.");
#line 4350 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = m_bHasAmmo  = FALSE ;
#line 4351 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x01920050, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x01920050_FireSingleShotgun_05(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920050

#line 4352 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4352 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4356 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireDoubleShotgun(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_FireDoubleShotgun
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::FireDoubleShotgun expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4358 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_iShells  > 1)){ Jump(STATE_CURRENT,0x01920058, FALSE, EInternal());return TRUE;}
#line 4359 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_SHOTGUN_FIRELONG  , 0);
#line 4360 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireBullets  (wpn_fFX  [ WEAPON_DOUBLESHOTGUN  ] , wpn_fFY  [ WEAPON_DOUBLESHOTGUN  ] , 
#line 4361 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
500.0f , 10.0f , 14 , afDoubleShotgunPellets  , 0.3f , 0.03f);
#line 4362 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DoRecoil  ();
#line 4363 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SpawnRangeSound  (70.0f);
#line 4364 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Dblshotgun_fire");}
#line 4365 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DecAmmo  (m_iShells  , 2);
#line 4366 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlare  (0 , FLARE_ADD );
#line 4367 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_COLT_SHOTGUN  , 0);
#line 4368 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (GetSP  () -> sp_bCooperative  ? DOUBLESHOTGUN_ANIM_FIRE  : DOUBLESHOTGUN_ANIM_FIREFAST  , 0);
#line 4369 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeaponSecond  . PlayAnim  (GetSP  () -> sp_bCooperative  ? HANDWITHAMMO_ANIM_FIRE  : HANDWITHAMMO_ANIM_FIREFAST  , 0);
#line 4371 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4372 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 1.5f , 1.0f);
#line 4373 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_DOUBLESHOTGUN_FIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 4375 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(hud_bShowWeapon )
#line 4376 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4377 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pl  . m_pstState  == PST_DIVE )
#line 4378 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4380 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  & sldBubble1  = pl  . m_asldData  [ pl  . m_iFirstEmptySLD  ];
#line 4381 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plShell ;
#line 4382 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (- 0.11f , 0.1f , - 0.3f) , plShell  , FALSE );
#line 4385 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D m ;
#line 4386 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (m  , plShell  . pl_OrientationAngle );
#line 4387 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  (m  (1 , 2) , m  (2 , 2) , m  (3 , 2));
#line 4388 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble1  . sld_vPos  = plShell  . pl_PositionVector ;
#line 4389 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble1  . sld_vUp  = vUp ;
#line 4390 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble1  . sld_tmLaunch  = _pTimer  -> CurrentTick  ();
#line 4391 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble1  . sld_estType  = ESL_BUBBLE ;
#line 4392 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpeedRelative  = FLOAT3D (- 0.1f , 0.0f , 0.01f);
#line 4393 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble1  . sld_vSpeed  = vSpeedRelative  * m ;
#line 4394 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_iFirstEmptySLD  = (pl  . m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 4395 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  & sldBubble2  = pl  . m_asldData  [ pl  . m_iFirstEmptySLD  ];
#line 4397 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble2  = sldBubble1 ;
#line 4398 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vSpeedRelative  = FLOAT3D (0.1f , 0.0f , - 0.2f);
#line 4399 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble2  . sld_vSpeed  = vSpeedRelative  * m ;
#line 4400 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_iFirstEmptySLD  = (pl  . m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 4401 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4402 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else 
#line 4403 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4405 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  & sldPipe1  = pl  . m_asldData  [ pl  . m_iFirstEmptySLD  ];
#line 4406 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plPipe ;
#line 4407 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (afDoubleShotgunPipe  [ 0 ] , afDoubleShotgunPipe  [ 1 ] , afDoubleShotgunPipe  [ 2 ]) , plPipe  , FALSE );
#line 4408 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D m ;
#line 4409 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (m  , plPipe  . pl_OrientationAngle );
#line 4410 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  (m  (1 , 2) , m  (2 , 2) , m  (3 , 2));
#line 4411 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldPipe1  . sld_vPos  = plPipe  . pl_PositionVector ;
#line 4412 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldPipe1  . sld_vUp  = vUp ;
#line 4413 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldPipe1  . sld_tmLaunch  = _pTimer  -> CurrentTick  ();
#line 4414 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldPipe1  . sld_estType  = ESL_SHOTGUN_SMOKE ;
#line 4415 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpeedRelative  = FLOAT3D (- 1 , 0.0f , - 12.5f);
#line 4416 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldPipe1  . sld_vSpeed  = vSpeedRelative  * m ;
#line 4417 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_iFirstEmptySLD  = (pl  . m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 4419 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  & sldPipe2  = pl  . m_asldData  [ pl  . m_iFirstEmptySLD  ];
#line 4420 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldPipe2  = sldPipe1 ;
#line 4421 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vSpeedRelative  = FLOAT3D (1 , 0.0f , - 12.5f);
#line 4422 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldPipe2  . sld_vSpeed  = vSpeedRelative  * m ;
#line 4423 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_iFirstEmptySLD  = (pl  . m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 4424 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4425 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4427 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(GetSP  () -> sp_bCooperative  ? 0.25f : 0.15f);
Jump(STATE_CURRENT, 0x01920053, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920053_FireDoubleShotgun_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920053
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920054, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920054_FireDoubleShotgun_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920054
;
#line 4428 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iShells  >= 2){
#line 4429 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4430 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon1  , SOUND_DOUBLESHOTGUN_RELOAD  , SOF_3D  | SOF_VOLUMETRIC );
#line 4431 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4432 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (
#line 4433 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
(GetSP  () -> sp_bCooperative  ? DOUBLESHOTGUN_ANIM_FIRE  : DOUBLESHOTGUN_ANIM_FIREFAST )) - 
#line 4434 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
(GetSP  () -> sp_bCooperative  ? 0.25f : 0.15f));
Jump(STATE_CURRENT, 0x01920055, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920055_FireDoubleShotgun_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920055
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920056, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920056_FireDoubleShotgun_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920056
;
#line 4436 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iShells  <= 1){SelectNewWeapon  ();}Jump(STATE_CURRENT,0x01920057, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920058_FireDoubleShotgun_06(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920058
{
#line 4438 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("DoubleShotgun - Auto weapon change not working.");
#line 4439 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = m_bHasAmmo  = FALSE ;
#line 4440 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x01920057, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x01920057_FireDoubleShotgun_05(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920057

#line 4441 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4441 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4445 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
TommyGunStart(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_TommyGunStart
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::TommyGunStart expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4446 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iBulletsOnFireStart  = m_iBullets ;
#line 4447 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4448 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_SILENCE  , SOF_3D  | SOF_VOLUMETRIC );
#line 4449 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 1.5f , 1.0f);
#line 4450 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_TOMMYGUN_FIRE  , SOF_LOOP  | SOF_3D  | SOF_VOLUMETRIC );
#line 4451 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_TOMMYGUN  , AOF_LOOPING );
#line 4452 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_SHOTGUN_FIRESHORT  , AOF_LOOPING );
#line 4453 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4453 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4456 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
TommyGunStop(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_TommyGunStop
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::TommyGunStop expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4458 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4459 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pl  . m_pstState  != PST_DIVE  && hud_bShowWeapon )
#line 4460 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4461 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX ctBulletsFired  = ClampUp  (m_iBulletsOnFireStart  - m_iBullets  , INDEX (100));
#line 4462 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
for(INDEX iSmoke  = 0;iSmoke  < ctBulletsFired  / 6.0;iSmoke  ++)
#line 4463 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4464 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  * psldSmoke  = & pl  . m_asldData  [ pl  . m_iFirstEmptySLD  ];
#line 4465 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plPipe ;
#line 4466 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (afTommygunPipe  [ 0 ] , afTommygunPipe  [ 1 ] , afTommygunPipe  [ 2 ]) , plPipe  , FALSE );
#line 4467 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D m ;
#line 4468 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (m  , plPipe  . pl_OrientationAngle );
#line 4469 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
psldSmoke  -> sld_vPos  = plPipe  . pl_PositionVector  + pl  . en_vCurrentTranslationAbsolute  * iSmoke  * _pTimer  -> TickQuantum ;
#line 4470 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  (m  (1 , 2) , m  (2 , 2) , m  (3 , 2));
#line 4471 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
psldSmoke  -> sld_vUp  = vUp ;
#line 4472 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
psldSmoke  -> sld_tmLaunch  = _pTimer  -> CurrentTick  () + iSmoke  * _pTimer  -> TickQuantum ;
#line 4473 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
psldSmoke  -> sld_estType  = ESL_BULLET_SMOKE ;
#line 4474 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
psldSmoke  -> sld_fSize  = 0.5f + ctBulletsFired  / 75.0f;
#line 4475 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpeedRelative  = FLOAT3D (- 0.06f , 0.0f , - 0.06f);
#line 4476 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
psldSmoke  -> sld_vSpeed  = vSpeedRelative  * m  + pl  . en_vCurrentTranslationAbsolute ;
#line 4477 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_iFirstEmptySLD  = (pl  . m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 4478 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4479 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4481 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 0.0f , 1.0f);
#line 4482 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_NONE  , 0);
#line 4483 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimationOff  ();
#line 4484 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4487 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireTommyGun(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_FireTommyGun
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::FireTommyGun expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4489 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_iBullets  > 0)){ Jump(STATE_CURRENT,0x0192005f, FALSE, EInternal());return TRUE;}
#line 4490 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireMachineBullet  (wpn_fFX  [ WEAPON_TOMMYGUN  ] , wpn_fFY  [ WEAPON_TOMMYGUN  ] , 
#line 4491 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
500.0f , 10.0f , ((GetSP  () -> sp_bCooperative ) ? 0.01f : 0.03f) , 
#line 4492 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((GetSP  () -> sp_bCooperative ) ? 0.5f : 0.0f));
#line 4493 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SpawnRangeSound  (50.0f);
#line 4494 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Tommygun_fire");}
#line 4495 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DecAmmo  (m_iBullets  , 1);
#line 4496 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlare  (0 , FLARE_ADD );
#line 4497 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (TOMMYGUN_ANIM_FIRE  , AOF_LOOPING  | AOF_NORESTART );
#line 4500 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plShell ;
#line 4501 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (afTommygunShellPos  [ 0 ] , afTommygunShellPos  [ 1 ] , afTommygunShellPos  [ 2 ]) , plShell  , FALSE );
#line 4502 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D mRot ;
#line 4503 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (mRot  , plShell  . pl_OrientationAngle );
#line 4505 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(hud_bShowWeapon )
#line 4506 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4508 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = * GetPlayer  ();
#line 4509 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  & sld  = pl  . m_asldData  [ pl  . m_iFirstEmptySLD  ];
#line 4510 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_vPos  = plShell  . pl_PositionVector ;
#line 4511 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpeedRelative  = FLOAT3D (FRnd  () + 2.0f , FRnd  () + 5.0f , - FRnd  () - 2.0f);
#line 4512 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOATmatrix3D & m  = pl  . GetRotationMatrix  ();
#line 4513 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  (m  (1 , 2) , m  (2 , 2) , m  (3 , 2));
#line 4514 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_vUp  = vUp ;
#line 4515 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_vSpeed  = vSpeedRelative  * mRot ;
#line 4516 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_tmLaunch  = _pTimer  -> CurrentTick  ();
#line 4517 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_estType  = ESL_BULLET ;
#line 4518 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_iFirstEmptySLD  = (pl  . m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 4521 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pl  . m_pstState  == PST_DIVE )
#line 4522 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4523 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  & sldBubble  = pl  . m_asldData  [ pl  . m_iFirstEmptySLD  ];
#line 4524 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (afTommygunShellPos  [ 0 ] , afTommygunShellPos  [ 1 ] , afTommygunShellPos  [ 2 ]) , plShell  , FALSE );
#line 4525 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (mRot  , plShell  . pl_OrientationAngle );
#line 4526 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_vPos  = plShell  . pl_PositionVector ;
#line 4527 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_vUp  = vUp ;
#line 4528 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_tmLaunch  = _pTimer  -> CurrentTick  ();
#line 4529 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_estType  = ESL_BUBBLE ;
#line 4530 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vSpeedRelative  = FLOAT3D (0.3f , 0.0f , 0.0f);
#line 4531 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_vSpeed  = vSpeedRelative  * mRot ;
#line 4532 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_iFirstEmptySLD  = (pl  . m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 4533 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4534 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4536 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(0.1f);
Jump(STATE_CURRENT, 0x0192005c, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192005c_FireTommyGun_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192005c
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192005d, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192005d_FireTommyGun_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192005d
;
#line 4538 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iBullets  <= 0){SelectNewWeapon  ();}Jump(STATE_CURRENT,0x0192005e, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192005f_FireTommyGun_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192005f
{
#line 4540 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("TommyGun - Auto weapon change not working.");
#line 4541 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = m_bHasAmmo  = FALSE ;
#line 4542 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x0192005e, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x0192005e_FireTommyGun_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192005e

#line 4543 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4543 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4547 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireSniper(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_FireSniper
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::FireSniper expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4548 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_iSniperBullets  > 0)){ Jump(STATE_CURRENT,0x01920066, FALSE, EInternal());return TRUE;}
#line 4550 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_bSniping ){
#line 4551 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireSniperBullet  (0.0f , 0.0f , 1500.0f , 
#line 4552 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
(GetSP  () -> sp_bCooperative ) ? 300.0f : 90.0f , 0.0f);
#line 4553 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4554 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else {
#line 4555 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireSniperBullet  (wpn_fFX  [ WEAPON_SNIPER  ] , wpn_fFY  [ WEAPON_SNIPER  ] , 1000.0f , 
#line 4556 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
(GetSP  () -> sp_bCooperative ) ? 75.0f : 30.0f , 5.0f);
#line 4557 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4558 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmLastSniperFire  = _pTimer  -> CurrentTick  ();
#line 4560 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SpawnRangeSound  (50.0f);
#line 4561 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DecAmmo  (m_iSniperBullets  , 1);
#line 4562 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! m_bSniping ){
#line 4563 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlare  (0 , FLARE_ADD );
#line 4564 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4565 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_COLT_SHOTGUN  , 0);
#line 4568 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4569 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(GetSP  () -> sp_bCooperative ){
#line 4570 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 1.5f , 1.0f);
#line 4571 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(TRUE ){
#line 4572 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (250.0f , 75.0f , 1.5f , 1.0f);
#line 4573 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4574 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_SNIPER_FIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 4575 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("SniperFire");}
#line 4578 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (SNIPER_ANIM_FIRE  , 0);
#line 4580 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(1.0f);
Jump(STATE_CURRENT, 0x01920061, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920061_FireSniper_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920061
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920062, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920062_FireSniper_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920062
;
#line 4583 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plShell ;
#line 4584 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (afSniperShellPos  [ 0 ] , afSniperShellPos  [ 1 ] , afSniperShellPos  [ 2 ]) , plShell  , FALSE );
#line 4585 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D mRot ;
#line 4586 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (mRot  , plShell  . pl_OrientationAngle );
#line 4588 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(hud_bShowWeapon )
#line 4589 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4590 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  * penPlayer  = GetPlayer  ();
#line 4591 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  & sld  = penPlayer  -> m_asldData  [ penPlayer  -> m_iFirstEmptySLD  ];
#line 4592 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_vPos  = plShell  . pl_PositionVector ;
#line 4593 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpeedRelative  = FLOAT3D (FRnd  () + 2.0f , FRnd  () + 5.0f , - FRnd  () - 2.0f);
#line 4594 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_vSpeed  = vSpeedRelative  * mRot ;
#line 4596 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOATmatrix3D & m  = penPlayer  -> GetRotationMatrix  ();
#line 4597 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  (m  (1 , 2) , m  (2 , 2) , m  (3 , 2));
#line 4598 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_vUp  = vUp ;
#line 4599 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_tmLaunch  = _pTimer  -> CurrentTick  ();
#line 4600 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_estType  = ESL_BULLET ;
#line 4602 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penPlayer  -> m_iFirstEmptySLD  = (penPlayer  -> m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 4605 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(penPlayer  -> m_pstState  == PST_DIVE )
#line 4606 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4607 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  & sldBubble  = penPlayer  -> m_asldData  [ penPlayer  -> m_iFirstEmptySLD  ];
#line 4608 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (afTommygunShellPos  [ 0 ] , afTommygunShellPos  [ 1 ] , afTommygunShellPos  [ 2 ]) , plShell  , FALSE );
#line 4609 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (mRot  , plShell  . pl_OrientationAngle );
#line 4610 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_vPos  = plShell  . pl_PositionVector ;
#line 4611 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_vUp  = vUp ;
#line 4612 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_tmLaunch  = _pTimer  -> CurrentTick  ();
#line 4613 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_estType  = ESL_BUBBLE ;
#line 4614 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vSpeedRelative  = FLOAT3D (0.3f , 0.0f , 0.0f);
#line 4615 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_vSpeed  = vSpeedRelative  * mRot ;
#line 4616 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
penPlayer  -> m_iFirstEmptySLD  = (penPlayer  -> m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 4617 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4618 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4620 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(1.35f - 1.0f);
Jump(STATE_CURRENT, 0x01920063, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920063_FireSniper_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920063
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920064, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920064_FireSniper_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920064
;
#line 4623 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iSniperBullets  <= 0){SelectNewWeapon  ();}Jump(STATE_CURRENT,0x01920065, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920066_FireSniper_06(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920066
{
#line 4626 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("Sniper - Auto weapon change not working.");
#line 4627 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = m_bHasAmmo  = FALSE ;
#line 4628 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x01920065, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x01920065_FireSniper_05(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920065

#line 4629 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4629 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4634 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MiniGunSpinUp(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_MiniGunSpinUp
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::MiniGunSpinUp expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4636 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (MINIGUN_ANIM_WAIT1  , AOF_LOOPING  | AOF_NORESTART );
#line 4638 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ) . m_fLastActionTime  = _pTimer  -> CurrentTick  ();
#line 4640 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iLastBulletPosition  = FLOAT3D (32000.0f , 32000.0f , 32000.0f);
#line 4641 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4643 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_SILENCE  , SOF_3D  | SOF_VOLUMETRIC );
#line 4645 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 2.0f , 1.0f);
#line 4646 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon1  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 4647 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon2  . Set3DParameters  (50.0f , 5.0f , 1.0f , 1.0f);
#line 4650 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon2  , SOUND_MINIGUN_CLICK  , SOF_3D  | SOF_VOLUMETRIC );
#line 4651 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon1  , SOUND_MINIGUN_SPINUP  , SOF_3D  | SOF_VOLUMETRIC );
#line 4653 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Minigun_rotateup");}
#line 4655 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x0192006a, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192006a_MiniGunSpinUp_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192006a
if(!(m_aMiniGunSpeed  < MINIGUN_FULLSPEED  && HoldingFire  ())){ Jump(STATE_CURRENT,0x0192006b, FALSE, EInternal());return TRUE;}
#line 4657 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(MINIGUN_TICKTIME );
Jump(STATE_CURRENT, 0x01920068, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920068_MiniGunSpinUp_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920068
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920069, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920069_MiniGunSpinUp_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920069
;
#line 4659 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGunLast  = m_aMiniGun ;
#line 4660 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGun  += m_aMiniGunSpeed  * MINIGUN_TICKTIME ;
#line 4661 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGunSpeed  += MINIGUN_SPINUPACC  * MINIGUN_TICKTIME ;Jump(STATE_CURRENT,0x0192006a, FALSE, EInternal());return TRUE;
#line 4662 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x0192006b_MiniGunSpinUp_04(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192006b

#line 4664 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGunSpeed  = ClampUp  (m_aMiniGunSpeed  , MINIGUN_FULLSPEED );
#line 4667 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! HoldingFire  ()){
#line 4669 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_MiniGunSpinDown, TRUE, EVoid());return TRUE;
#line 4670 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4672 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_MiniGunFire, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4675 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MiniGunFire(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_MiniGunFire
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::MiniGunFire expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4677 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4678 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon1  , SOUND_MINIGUN_ROTATE  , SOF_3D  | SOF_LOOP  | SOF_VOLUMETRIC  | SOF_SMOOTHCHANGE );
#line 4679 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Minigun_rotate");}
#line 4681 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(HoldingFire  () && m_iBullets  > 0){
#line 4683 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_MINIGUN_FIRE  , SOF_3D  | SOF_LOOP  | SOF_VOLUMETRIC );
#line 4684 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_TOMMYGUN  , AOF_LOOPING );
#line 4685 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_MINIGUN_FIRESHORT  , AOF_LOOPING );
#line 4686 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4688 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iBulletsOnFireStart  = m_iBullets ;
#line 4690 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x0192006f, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192006f_MiniGunFire_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192006f
if(!(HoldingFire  ())){ Jump(STATE_CURRENT,0x01920070, FALSE, EInternal());return TRUE;}
#line 4692 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(! m_bHasAmmo  && m_iBullets  > 0){
#line 4693 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4694 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_MINIGUN_FIRE  , SOF_3D  | SOF_LOOP  | SOF_VOLUMETRIC );
#line 4695 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Minigun_fire");}
#line 4696 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_TOMMYGUN  , AOF_LOOPING );
#line 4697 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_MINIGUN_FIRESHORT  , AOF_LOOPING );
#line 4698 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bHasAmmo  = TRUE ;
#line 4699 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4702 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iBullets  > 0){
#line 4704 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireMachineBullet  (wpn_fFX  [ WEAPON_MINIGUN  ] , wpn_fFY  [ WEAPON_MINIGUN  ] , 
#line 4705 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
750.0f , 10.0f , (GetSP  () -> sp_bCooperative ) ? 0.01f : 0.03f , 
#line 4706 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((GetSP  () -> sp_bCooperative ) ? 0.5f : 0.0f));
#line 4707 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DoRecoil  ();
#line 4708 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SpawnRangeSound  (60.0f);
#line 4709 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DecAmmo  (m_iBullets  , 1);
#line 4710 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlare  (0 , FLARE_ADD );
#line 4713 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlacement3D plShell ;
#line 4716 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4717 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pl  . m_penCamera  == NULL  && pl  . m_pen3rdPersonView  == NULL )
#line 4718 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4719 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (afMinigunShellPos  [ 0 ] , afMinigunShellPos  [ 1 ] , afMinigunShellPos  [ 2 ]) , plShell  , FALSE );
#line 4720 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4722 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else 
#line 4723 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4725 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition3rdPersonView  (FLOAT3D (afMinigunShellPos3rdView  [ 0 ] , 
#line 4726 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
afMinigunShellPos3rdView  [ 1 ] , afMinigunShellPos3rdView  [ 2 ]) , plShell  , FALSE );
#line 4727 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4729 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOATmatrix3D mRot ;
#line 4730 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (mRot  , plShell  . pl_OrientationAngle );
#line 4732 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(hud_bShowWeapon )
#line 4733 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4734 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = * GetPlayer  ();
#line 4735 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  & sld  = pl  . m_asldData  [ pl  . m_iFirstEmptySLD  ];
#line 4736 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_vPos  = plShell  . pl_PositionVector ;
#line 4737 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vSpeedRelative  = FLOAT3D (FRnd  () + 2.0f , FRnd  () + 5.0f , - FRnd  () - 2.0f);
#line 4738 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
const FLOATmatrix3D & m  = pl  . GetRotationMatrix  ();
#line 4739 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT3D vUp  (m  (1 , 2) , m  (2 , 2) , m  (3 , 2));
#line 4740 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_vUp  = vUp ;
#line 4741 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_vSpeed  = vSpeedRelative  * mRot ;
#line 4742 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_tmLaunch  = _pTimer  -> CurrentTick  ();
#line 4743 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sld  . sld_estType  = ESL_BULLET ;
#line 4745 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_iFirstEmptySLD  = (pl  . m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 4748 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pl  . m_pstState  == PST_DIVE )
#line 4749 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4750 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ShellLaunchData  & sldBubble  = pl  . m_asldData  [ pl  . m_iFirstEmptySLD  ];
#line 4751 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CalcWeaponPosition  (FLOAT3D (afMinigunShellPos  [ 0 ] , afMinigunShellPos  [ 1 ] , afMinigunShellPos  [ 2 ]) , plShell  , FALSE );
#line 4752 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MakeRotationMatrixFast  (mRot  , plShell  . pl_OrientationAngle );
#line 4753 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_vPos  = plShell  . pl_PositionVector ;
#line 4754 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_vUp  = vUp ;
#line 4755 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_tmLaunch  = _pTimer  -> CurrentTick  ();
#line 4756 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_estType  = ESL_BUBBLE ;
#line 4757 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
vSpeedRelative  = FLOAT3D (0.3f , 0.0f , 0.0f);
#line 4758 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
sldBubble  . sld_vSpeed  = vSpeedRelative  * mRot ;
#line 4759 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_iFirstEmptySLD  = (pl  . m_iFirstEmptySLD  + 1) % MAX_FLYING_SHELLS ;
#line 4760 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4761 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4763 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else {
#line 4764 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_bHasAmmo )
#line 4765 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4766 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MinigunSmoke  ();
#line 4767 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4769 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bHasAmmo  = FALSE ;
#line 4770 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4771 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_SILENCE  , SOF_3D  | SOF_VOLUMETRIC );
#line 4772 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_NONE  , AOF_LOOPING );
#line 4773 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimationOff  ();
#line 4774 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4775 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(MINIGUN_TICKTIME );
Jump(STATE_CURRENT, 0x0192006d, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192006d_MiniGunFire_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192006d
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192006e, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192006e_MiniGunFire_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192006e
;
#line 4777 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGunLast  = m_aMiniGun ;
#line 4778 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGun  += m_aMiniGunSpeed  * MINIGUN_TICKTIME ;Jump(STATE_CURRENT,0x0192006f, FALSE, EInternal());return TRUE;
#line 4779 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x01920070_MiniGunFire_04(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920070

#line 4781 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_bHasAmmo )
#line 4782 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4783 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MinigunSmoke  ();
#line 4784 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4786 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimationOff  ();
#line 4788 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4789 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 0.0f , 1.0f);
#line 4790 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_NONE  , AOF_LOOPING );
#line 4792 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_MiniGunSpinDown, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4795 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
MiniGunSpinDown(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_MiniGunSpinDown
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::MiniGunSpinDown expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4796 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4798 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon3  , SOUND_MINIGUN_CLICK  , SOF_3D  | SOF_VOLUMETRIC );
#line 4799 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon1  , SOUND_MINIGUN_SPINDOWN  , SOF_3D  | SOF_VOLUMETRIC  | SOF_SMOOTHCHANGE );
#line 4800 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_StopEffect  ("Minigun_rotate");}
#line 4801 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Minigun_rotatedown");}
#line 4805 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x01920074, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920074_MiniGunSpinDown_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920074
if(!(m_aMiniGunSpeed  > 0 && (! HoldingFire  () || m_iBullets  <= 0))){ Jump(STATE_CURRENT,0x01920075, FALSE, EInternal());return TRUE;}
#line 4806 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(MINIGUN_TICKTIME );
Jump(STATE_CURRENT, 0x01920072, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920072_MiniGunSpinDown_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920072
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920073, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920073_MiniGunSpinDown_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920073
;
#line 4808 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGunLast  = m_aMiniGun ;
#line 4809 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGun  += m_aMiniGunSpeed  * MINIGUN_TICKTIME ;
#line 4810 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGunSpeed  -= MINIGUN_SPINDNACC  * MINIGUN_TICKTIME ;
#line 4812 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iBullets  <= 0){
#line 4813 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SelectNewWeapon  ();
#line 4814 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4817 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_bChangeWeapon ){
#line 4819 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGunSpeed  = 0.0f;
#line 4820 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGunLast  = m_aMiniGun ;
#line 4821 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimationOff  ();
#line 4822 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE;
#line 4823 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x01920074, FALSE, EInternal());return TRUE;
#line 4824 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x01920075_MiniGunSpinDown_04(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920075

#line 4826 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGunSpeed  = ClampDn  (m_aMiniGunSpeed  , 0.0f);
#line 4827 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_aMiniGunLast  = m_aMiniGun ;
#line 4830 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(HoldingFire  () && m_iBullets  > 0){
#line 4832 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_MiniGunSpinUp, TRUE, EVoid());return TRUE;
#line 4833 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4836 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CPlayerAnimator  &) * ((CPlayer  &) * m_penPlayer ) . m_penAnimator ) . m_fLastActionTime  = _pTimer  -> CurrentTick  ();
#line 4839 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_iBullets  <= 0)){ Jump(STATE_CURRENT,0x0192007a, FALSE, EInternal());return TRUE;}
#line 4841 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x01920078, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920078_MiniGunSpinDown_07(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920078
if(!(HoldingFire  () && m_iBullets  <= 0)){ Jump(STATE_CURRENT,0x01920079, FALSE, EInternal());return TRUE;}
#line 4842 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(0.1f);
Jump(STATE_CURRENT, 0x01920076, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920076_MiniGunSpinDown_05(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920076
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920077, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920077_MiniGunSpinDown_06(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920077
;Jump(STATE_CURRENT,0x01920078, FALSE, EInternal());return TRUE;
#line 4843 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x01920079_MiniGunSpinDown_08(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920079

#line 4844 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iBullets  <= 0){
#line 4846 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SelectNewWeapon  ();
#line 4847 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x0192007a, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192007a_MiniGunSpinDown_09(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192007a

#line 4849 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4853 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireRocketLauncher(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_FireRocketLauncher
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::FireRocketLauncher expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4855 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_iRockets  > 0)){ Jump(STATE_CURRENT,0x01920081, FALSE, EInternal());return TRUE;}
#line 4856 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_MINIGUN_FIRELONG  , 0);
#line 4857 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (ROCKETLAUNCHER_ANIM_FIRE  , 0);
#line 4858 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireRocket  ();
#line 4860 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DoRecoil  ();
#line 4861 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SpawnRangeSound  (20.0f);
#line 4862 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Rocketlauncher_fire");}
#line 4863 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DecAmmo  (m_iRockets  , 1);
#line 4865 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4866 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pl  . m_soWeapon0  . IsPlaying  ())
#line 4867 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4868 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon1  , SOUND_ROCKETLAUNCHER_FIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 4869 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4870 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else 
#line 4871 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 4872 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_ROCKETLAUNCHER_FIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 4873 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 4875 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(0.05f);
Jump(STATE_CURRENT, 0x0192007c, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192007c_FireRocketLauncher_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192007c
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192007d, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192007d_FireRocketLauncher_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192007d
;
#line 4877 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo  = & (m_moWeapon  . GetAttachmentModel  (ROCKETLAUNCHER_ATTACHMENT_ROCKET1 ) -> amo_moModelObject );
#line 4878 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmo  -> StretchModel  (FLOAT3D (0 , 0 , 0));
#line 4880 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (ROCKETLAUNCHER_ANIM_FIRE ) - 0.05f);
Jump(STATE_CURRENT, 0x0192007e, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192007e_FireRocketLauncher_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192007e
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192007f, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192007f_FireRocketLauncher_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192007f
;
#line 4882 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo  = & (m_moWeapon  . GetAttachmentModel  (ROCKETLAUNCHER_ATTACHMENT_ROCKET1 ) -> amo_moModelObject );
#line 4883 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmo  -> StretchModel  (FLOAT3D (1 , 1 , 1));
#line 4886 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iRockets  <= 0){SelectNewWeapon  ();}Jump(STATE_CURRENT,0x01920080, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920081_FireRocketLauncher_06(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920081
{
#line 4888 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("RocketLauncher - Auto weapon change not working.");
#line 4889 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = m_bHasAmmo  = FALSE ;
#line 4890 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x01920080, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x01920080_FireRocketLauncher_05(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920080

#line 4891 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4891 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 4895 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireGrenadeLauncher(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_FireGrenadeLauncher
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::FireGrenadeLauncher expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 4897 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
TM_START  = _pTimer  -> CurrentTick  ();
#line 4899 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
F_TEMP  = _pTimer  -> CurrentTick  ();
#line 4901 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
F_OFFSET_CHG  = 0.0f;
#line 4902 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPower  = 0.0f;
#line 4903 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmDrawStartTime  = _pTimer  -> CurrentTick  ();
#line 4904 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x01920085, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920085_FireGrenadeLauncher_03(const CEntityEvent &__eeInput)
#line 4905 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920085
if(!(HoldingFire  () && ((_pTimer  -> CurrentTick  () - TM_START ) < 0.75f))){ Jump(STATE_CURRENT,0x01920086, FALSE, EInternal());return TRUE;}
#line 4906 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(_pTimer  -> TickQuantum );
Jump(STATE_CURRENT, 0x01920083, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920083_FireGrenadeLauncher_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920083
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920084, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920084_FireGrenadeLauncher_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920084
;
#line 4907 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iPower  = INDEX ((_pTimer  -> CurrentTick  () - TM_START ) / _pTimer  -> TickQuantum );
#line 4908 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
F_OFFSET_CHG  = 0.125f / (iPower  + 2);
#line 4909 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPowerOld  = m_fWeaponDrawPower ;
#line 4910 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPower  += F_OFFSET_CHG ;Jump(STATE_CURRENT,0x01920085, FALSE, EInternal());return TRUE;
#line 4911 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x01920086_FireGrenadeLauncher_04(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920086

#line 4912 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmDrawStartTime  = 0.0f;
#line 4916 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_iGrenades  > 0)){ Jump(STATE_CURRENT,0x01920091, FALSE, EInternal());return TRUE;}
#line 4919 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iPower  = INDEX ((_pTimer  -> CurrentTick  () - F_TEMP ) / _pTimer  -> TickQuantum );
#line 4920 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireGrenade  (iPower );
#line 4921 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SpawnRangeSound  (10.0f);
#line 4922 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Gnadelauncher");}
#line 4923 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DecAmmo  (m_iGrenades  , 1);
#line 4925 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 4926 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_GRENADELAUNCHER_FIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 4927 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_MINIGUN_FIRELONG  , 0);
#line 4930 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
TM_START  = _pTimer  -> CurrentTick  ();
#line 4931 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPowerOld  = m_fWeaponDrawPower ;
#line 4932 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x01920089, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920089_FireGrenadeLauncher_07(const CEntityEvent &__eeInput)
#line 4933 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920089
if(!(m_fWeaponDrawPower  > 0.0f)){ Jump(STATE_CURRENT,0x0192008a, FALSE, EInternal());return TRUE;}
#line 4934 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(_pTimer  -> TickQuantum );
Jump(STATE_CURRENT, 0x01920087, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920087_FireGrenadeLauncher_05(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920087
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920088, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920088_FireGrenadeLauncher_06(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920088
;
#line 4935 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPowerOld  = m_fWeaponDrawPower ;
#line 4936 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPower  -= F_OFFSET_CHG ;
#line 4937 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPower  = ClampDn  (m_fWeaponDrawPower  , 0.0f);
#line 4938 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
F_OFFSET_CHG  = F_OFFSET_CHG  * 10;Jump(STATE_CURRENT,0x01920089, FALSE, EInternal());return TRUE;
#line 4939 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x0192008a_FireGrenadeLauncher_08(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192008a

#line 4942 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ResetWeaponMovingOffset  ();
#line 4945 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_iGrenades  <= 0)){ Jump(STATE_CURRENT,0x0192008f, FALSE, EInternal());return TRUE;}
#line 4947 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SelectNewWeapon  ();Jump(STATE_CURRENT,0x0192008e, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192008f_FireGrenadeLauncher_13(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192008f
if(!(TRUE )){ Jump(STATE_CURRENT,0x0192008d, FALSE, EInternal());return TRUE;}
#line 4951 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(0.25f);
Jump(STATE_CURRENT, 0x0192008b, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192008b_FireGrenadeLauncher_09(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192008b
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192008c, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192008c_FireGrenadeLauncher_10(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192008c
;Jump(STATE_CURRENT,0x0192008d, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192008d_FireGrenadeLauncher_11(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192008d
Jump(STATE_CURRENT,0x0192008e, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x0192008e_FireGrenadeLauncher_12(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192008e
Jump(STATE_CURRENT,0x01920090, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x01920091_FireGrenadeLauncher_15(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920091
{
#line 4954 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("GrenadeLauncher - Auto weapon change not working.");
#line 4955 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = m_bHasAmmo  = FALSE ;
#line 4956 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x01920090, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x01920090_FireGrenadeLauncher_14(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920090

#line 4958 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 4958 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5040 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FlamerStart(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_FlamerStart
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::FlamerStart expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5041 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmFlamerStart  = _pTimer  -> CurrentTick  ();
#line 5042 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmFlamerStop  = 1e9;
#line 5044 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (FLAMER_ANIM_FIRESTART  , 0);
#line 5045 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (FLAMER_ANIM_FIRESTART ));
Jump(STATE_CURRENT, 0x01920093, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920093_FlamerStart_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920093
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920094, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920094_FlamerStart_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920094
;
#line 5047 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5048 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 2.0f , 0.31f);
#line 5049 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon2  . Set3DParameters  (50.0f , 5.0f , 2.0f , 0.3f);
#line 5050 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_FL_FIRE  , SOF_3D  | SOF_LOOP  | SOF_VOLUMETRIC );
#line 5051 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("FlamethrowerFire");}
#line 5052 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon2  , SOUND_FL_START  , SOF_3D  | SOF_VOLUMETRIC );
#line 5053 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("FlamethrowerStart");}
#line 5054 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireFlame  ();
#line 5055 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DecAmmo  (m_iNapalm  , 1);
#line 5056 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(0.05f);
Jump(STATE_CURRENT, 0x01920095, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920095_FlamerStart_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920095
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920096, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920096_FlamerStart_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920096
;
#line 5057 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_FlamerFire, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5060 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FlamerFire(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_FlamerFire
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::FlamerFire expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5062 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x0192009a, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x0192009a_FlamerFire_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192009a
if(!(HoldingFire  () && m_iNapalm  > 0)){ Jump(STATE_CURRENT,0x0192009b, FALSE, EInternal());return TRUE;}
#line 5064 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireFlame  ();
#line 5065 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DecAmmo  (m_iNapalm  , 1);
#line 5066 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SpawnRangeSound  (30.0f);
#line 5067 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(0.1f);
Jump(STATE_CURRENT, 0x01920098, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x01920098_FlamerFire_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920098
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x01920099, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x01920099_FlamerFire_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x01920099
;Jump(STATE_CURRENT,0x0192009a, FALSE, EInternal());return TRUE;
#line 5068 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x0192009b_FlamerFire_04(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192009b

#line 5070 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iNapalm  <= 0){
#line 5071 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bHasAmmo  = FALSE ;
#line 5072 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5074 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_FlamerStop, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5077 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FlamerStop(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_FlamerStop
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::FlamerStop expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5078 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmFlamerStop  = _pTimer  -> CurrentTick  ();
#line 5079 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5080 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_FL_STOP  , SOF_3D  | SOF_VOLUMETRIC  | SOF_SMOOTHCHANGE );
#line 5081 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_StopEffect  ("FlamethrowerFire");}
#line 5082 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("FlamethrowerStop");}
#line 5084 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireFlame  ();
#line 5086 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_penFlame  != NULL  && ! (m_penFlame  -> GetFlags  () & ENF_DELETED )){
#line 5087 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((CProjectile  &) * m_penFlame ) . m_penParticles  = NULL ;
#line 5088 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_penFlame  = NULL ;
#line 5089 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5091 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (FLAMER_ANIM_FIREEND  , 0);
#line 5092 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (FLAMER_ANIM_FIREEND ));
Jump(STATE_CURRENT, 0x0192009d, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x0192009d_FlamerStop_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192009d
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x0192009e, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x0192009e_FlamerStop_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x0192009e
;
#line 5094 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iNapalm  <= 0){
#line 5096 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SelectNewWeapon  ();
#line 5097 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5098 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5102 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ChainsawFire(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_ChainsawFire
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::ChainsawFire expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5104 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5107 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 1.5f , 1.0f);
#line 5108 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_CS_BEGINFIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 5109 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("ChainsawBeginFire");}
#line 5113 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CHAINSAW_ANIM_WAIT2FIRE  , 0);
#line 5114 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (CHAINSAW_ANIM_WAIT2FIRE ) - 0.05f);
Jump(STATE_CURRENT, 0x019200a0, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x019200a0_ChainsawFire_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200a0
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x019200a1, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x019200a1_ChainsawFire_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200a1
;
#line 5116 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayerAnimator  & pa  = * GetAnimator  ();
#line 5117 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pa  . FireAnimation  (BODY_ANIM_MINIGUN_FIRELONG  , 0);
#line 5119 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmoTeeth  = GetChainSawTeeth  ();
#line 5120 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pmoTeeth  != NULL )
#line 5121 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 5122 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmoTeeth  -> PlayAnim  (TEETH_ANIM_ROTATE  , AOF_LOOPING  | AOF_NORESTART );
#line 5123 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5126 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5128 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeaponAmbient  . Set3DParameters  (30.0f , 3.0f , 0.5f , 1.0f);
#line 5130 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_CS_FIRE  , SOF_3D  | SOF_LOOP  | SOF_VOLUMETRIC  | SOF_SMOOTHCHANGE );
#line 5131 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_StopEffect  ("ChainsawIdle");}
#line 5132 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("ChainsawFire");}
#line 5134 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CHAINSAW_ANIM_FIRE  , AOF_LOOPING  | AOF_NORESTART );
#line 5137 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo1  = & (m_moWeapon  . GetAttachmentModel  (CHAINSAW_ATTACHMENT_BLADE ) -> amo_moModelObject );
#line 5138 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo2  = & (pmo1  -> GetAttachmentModel  (BLADE_ATTACHMENT_TEETH ) -> amo_moModelObject );
#line 5139 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmo2  -> PlayAnim  (TEETH_ANIM_ROTATE  , AOF_LOOPING );
#line 5141 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x019200a4, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x019200a4_ChainsawFire_05(const CEntityEvent &__eeInput)
#line 5142 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200a4
if(!(HoldingFire  ())){ Jump(STATE_CURRENT,0x019200a5, FALSE, EInternal());return TRUE;}
#line 5143 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(CHAINSAW_UPDATETIME );
Jump(STATE_CURRENT, 0x019200a2, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x019200a2_ChainsawFire_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200a2
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x019200a3, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x019200a3_ChainsawFire_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200a3
;
#line 5145 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CutWithChainsaw  (0 , 0 , 3.0f , 2.0f , 1.0f , 
#line 5146 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((GetSP  () -> sp_bCooperative ) ? 200.0f : 250.0f) * CHAINSAW_UPDATETIME );Jump(STATE_CURRENT,0x019200a4, FALSE, EInternal());return TRUE;
#line 5148 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x019200a5_ChainsawFire_06(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200a5

#line 5152 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5153 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_CS_ENDFIRE  , SOF_3D  | SOF_VOLUMETRIC  | SOF_SMOOTHCHANGE );
#line 5154 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_StopEffect  ("ChainsawFire");}
#line 5155 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("ChainsawEnd");}
#line 5156 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("ChainsawIdle");}
#line 5159 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeaponAmbient  . Set3DParameters  (30.0f , 3.0f , 1.0f , 1.0f);
#line 5161 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CHAINSAW_ANIM_FIRE2WAIT  , 0);
#line 5162 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (CHAINSAW_ANIM_FIRE2WAIT ));
Jump(STATE_CURRENT, 0x019200a6, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x019200a6_ChainsawFire_07(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200a6
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x019200a7, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x019200a7_ChainsawFire_08(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200a7
;
#line 5165 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo1  = & (m_moWeapon  . GetAttachmentModel  (CHAINSAW_ATTACHMENT_BLADE ) -> amo_moModelObject );
#line 5166 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo2  = & (pmo1  -> GetAttachmentModel  (BLADE_ATTACHMENT_TEETH ) -> amo_moModelObject );
#line 5167 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmo2  -> PlayAnim  (TEETH_ANIM_DEFAULT  , 0);
#line 5169 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmoTeeth  = GetChainSawTeeth  ();
#line 5170 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pmoTeeth  != NULL )
#line 5171 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 5172 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmoTeeth  -> PlayAnim  (TEETH_ANIM_DEFAULT  , 0);
#line 5173 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5175 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5178 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ChainsawBringUp(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_ChainsawBringUp
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::ChainsawBringUp expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5181 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CHAINSAW_ANIM_FIRE2WAIT  , 0);
#line 5182 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(m_moWeapon  . GetAnimLength  (CHAINSAW_ANIM_FIRE2WAIT ));
Jump(STATE_CURRENT, 0x019200a9, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x019200a9_ChainsawBringUp_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200a9
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x019200aa, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x019200aa_ChainsawBringUp_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200aa
;
#line 5183 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5187 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireLaser(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_FireLaser
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::FireLaser expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5189 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_iElectricity  > 0)){ Jump(STATE_CURRENT,0x019200af, FALSE, EInternal());return TRUE;}
#line 5190 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(0.1f);
Jump(STATE_CURRENT, 0x019200ac, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x019200ac_FireLaser_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200ac
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x019200ad, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x019200ad_FireLaser_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200ad
;
#line 5191 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (LASER_ANIM_FIRE  , AOF_LOOPING  | AOF_NORESTART );
#line 5192 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireLaserRay  ();
#line 5193 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Laser_fire");}
#line 5194 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DecAmmo  (m_iElectricity  , 1);
#line 5196 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SpawnRangeSound  (20.0f);
#line 5197 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5199 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iLaserBarrel ){
#line 5200 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 0: {
#line 5201 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo  = & (m_moWeapon  . GetAttachmentModel  (LASER_ATTACHMENT_LEFTUP ) -> amo_moModelObject );
#line 5202 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmo  -> PlayAnim  (BARREL_ANIM_FIRE  , 0);
#line 5203 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_LASER_FIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 5204 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;}
#line 5205 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 3: {
#line 5206 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo  = & (m_moWeapon  . GetAttachmentModel  (LASER_ATTACHMENT_RIGHTDOWN ) -> amo_moModelObject );
#line 5207 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmo  -> PlayAnim  (BARREL_ANIM_FIRE  , 0);
#line 5208 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon1  , SOUND_LASER_FIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 5209 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;}
#line 5210 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 1: {
#line 5211 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo  = & (m_moWeapon  . GetAttachmentModel  (LASER_ATTACHMENT_LEFTDOWN ) -> amo_moModelObject );
#line 5212 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmo  -> PlayAnim  (BARREL_ANIM_FIRE  , 0);
#line 5213 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon2  , SOUND_LASER_FIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 5214 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;}
#line 5215 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case 2: {
#line 5216 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo  = & (m_moWeapon  . GetAttachmentModel  (LASER_ATTACHMENT_RIGHTUP ) -> amo_moModelObject );
#line 5217 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pmo  -> PlayAnim  (BARREL_ANIM_FIRE  , 0);
#line 5218 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon3  , SOUND_LASER_FIRE  , SOF_3D  | SOF_VOLUMETRIC );
#line 5219 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
break ;}
#line 5220 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5222 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iLaserBarrel  = (m_iLaserBarrel  + 1) & 3;
#line 5224 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iElectricity  <= 0){SelectNewWeapon  ();}Jump(STATE_CURRENT,0x019200ae, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x019200af_FireLaser_04(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200af
{
#line 5226 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("Laser - Auto weapon change not working.");
#line 5227 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = m_bHasAmmo  = FALSE ;
#line 5228 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x019200ae, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x019200ae_FireLaser_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200ae

#line 5229 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 5229 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5278 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CannonFireStart(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_CannonFireStart
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::CannonFireStart expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5280 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmDrawStartTime  = _pTimer  -> CurrentTick  ();
#line 5281 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
TM_START  = _pTimer  -> CurrentTick  ();
#line 5282 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
F_OFFSET_CHG  = 0.0f;
#line 5283 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPower  = 0.0f;
#line 5284 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5285 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iIronBalls  & 1)
#line 5286 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 5287 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 3.0f , 1.0f);
#line 5288 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon0  , SOUND_CANNON_PREPARE  , SOF_3D  | SOF_VOLUMETRIC );
#line 5289 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5290 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else 
#line 5291 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 5292 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon1  . Set3DParameters  (50.0f , 5.0f , 3.0f , 1.0f);
#line 5293 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon1  , SOUND_CANNON_PREPARE  , SOF_3D  | SOF_VOLUMETRIC );
#line 5294 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5296 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Canon_prepare");}
#line 5297 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x019200b3, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x019200b3_CannonFireStart_03(const CEntityEvent &__eeInput)
#line 5298 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200b3
if(!(HoldingFire  () && ((_pTimer  -> CurrentTick  () - TM_START ) < 1.0f))){ Jump(STATE_CURRENT,0x019200b4, FALSE, EInternal());return TRUE;}
#line 5299 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(_pTimer  -> TickQuantum );
Jump(STATE_CURRENT, 0x019200b1, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x019200b1_CannonFireStart_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200b1
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x019200b2, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x019200b2_CannonFireStart_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200b2
;
#line 5300 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iPower  = INDEX ((_pTimer  -> CurrentTick  () - TM_START ) / _pTimer  -> TickQuantum );
#line 5301 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
F_OFFSET_CHG  = 0.25f / (iPower  + 2);
#line 5302 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPowerOld  = m_fWeaponDrawPower ;
#line 5303 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPower  += F_OFFSET_CHG ;Jump(STATE_CURRENT,0x019200b3, FALSE, EInternal());return TRUE;
#line 5304 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x019200b4_CannonFireStart_04(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200b4

#line 5305 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_tmDrawStartTime  = 0.0f;
#line 5306 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5307 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iIronBalls  & 1)
#line 5308 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 5310 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Set3DParameters  (50.0f , 5.0f , 0.0f , 1.0f);
#line 5311 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5312 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else 
#line 5313 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 5315 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon1  . Set3DParameters  (50.0f , 5.0f , 0.0f , 1.0f);
#line 5316 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5319 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(((m_iIronBalls  > 0) && (m_iCurrentWeapon  == WEAPON_IRONCANNON )))){ Jump(STATE_CURRENT,0x019200ba, FALSE, EInternal());return TRUE;}
#line 5321 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
INDEX iPower  = INDEX ((_pTimer  -> CurrentTick  () - TM_START ) / _pTimer  -> TickQuantum );
#line 5322 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
GetAnimator  () -> FireAnimation  (BODY_ANIM_MINIGUN_FIRELONG  , 0);
#line 5324 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fRange  , fFalloff ;
#line 5325 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(GetSP  () -> sp_bCooperative ){
#line 5326 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fRange  = 100.0f;
#line 5327 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fFalloff  = 25.0f;
#line 5328 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}else if(TRUE ){
#line 5329 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fRange  = 150.0f;
#line 5330 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
fFalloff  = 30.0f;
#line 5331 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5334 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iIronBalls  & 1)
#line 5335 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 5336 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon2  . Set3DParameters  (fRange  , fFalloff  , 2.0f + iPower  * 0.05f , 1.0f);
#line 5337 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon2  , SOUND_CANNON  , SOF_3D  | SOF_VOLUMETRIC );
#line 5338 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5339 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
else 
#line 5340 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 5341 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon3  . Set3DParameters  (fRange  , fFalloff  , 2.0f + iPower  * 0.05f , 1.0f);
#line 5342 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlaySound  (pl  . m_soWeapon3  , SOUND_CANNON  , SOF_3D  | SOF_VOLUMETRIC );
#line 5343 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5345 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_moWeapon  . PlayAnim  (CANNON_ANIM_FIRE  , 0);
#line 5346 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FireCannonBall  (iPower );
#line 5348 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(_pNetwork  -> IsPlayerLocal  (m_penPlayer )){IFeel_PlayEffect  ("Canon");}
#line 5349 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
DecAmmo  (m_iIronBalls  , 1);
#line 5351 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SpawnRangeSound  (30.0f);
#line 5353 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
TM_START  = _pTimer  -> CurrentTick  ();
#line 5354 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPowerOld  = m_fWeaponDrawPower ;
#line 5355 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT,0x019200b7, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x019200b7_CannonFireStart_07(const CEntityEvent &__eeInput)
#line 5357 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200b7
if(!(m_fWeaponDrawPower  > 0.0f || 
#line 5356 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
((_pTimer  -> CurrentTick  () - TM_START ) < m_moWeapon  . GetAnimLength  (CANNON_ANIM_FIRE )))){ Jump(STATE_CURRENT,0x019200b8, FALSE, EInternal());return TRUE;}
#line 5358 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAfter(_pTimer  -> TickQuantum );
Jump(STATE_CURRENT, 0x019200b5, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x019200b5_CannonFireStart_05(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200b5
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x019200b6, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x019200b6_CannonFireStart_06(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200b6
;
#line 5359 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPowerOld  = m_fWeaponDrawPower ;
#line 5360 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPower  -= F_OFFSET_CHG ;
#line 5361 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_fWeaponDrawPower  = ClampDn  (m_fWeaponDrawPower  , 0.0f);
#line 5362 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
F_OFFSET_CHG  = F_OFFSET_CHG  * 2;Jump(STATE_CURRENT,0x019200b7, FALSE, EInternal());return TRUE;
#line 5363 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}BOOL CPlayerWeapons::H0x019200b8_CannonFireStart_08(const CEntityEvent &__eeInput) {
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200b8

#line 5366 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ResetWeaponMovingOffset  ();
#line 5369 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(((m_iIronBalls  <= 0) && (m_iCurrentWeapon  == WEAPON_IRONCANNON ))
#line 5370 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
)
#line 5371 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 5372 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SelectNewWeapon  ();
#line 5373 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x019200b9, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x019200ba_CannonFireStart_10(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200ba

#line 5376 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
{
#line 5377 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERTALWAYS  ("Cannon - Auto weapon change not working.");
#line 5378 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = m_bHasAmmo  = FALSE ;
#line 5379 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}Jump(STATE_CURRENT,0x019200b9, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x019200b9_CannonFireStart_09(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200b9

#line 5380 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5387 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Reload(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Reload
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::Reload expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5388 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bReloadWeapon  = FALSE ;
#line 5391 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(m_iCurrentWeapon  == WEAPON_COLT )){ Jump(STATE_CURRENT,0x019200c2, FALSE, EInternal());return TRUE;}
#line 5392 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
STATE_CPlayerWeapons_ReloadColt, TRUE;
Jump(STATE_CURRENT, 0x019200bc, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x019200bc_Reload_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200bc
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: Call(STATE_CURRENT, STATE_CPlayerWeapons_ReloadColt, TRUE, EVoid());return TRUE;case EVENTCODE_EEnd: Jump(STATE_CURRENT,0x019200bd, FALSE, __eeInput); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x019200bd_Reload_02(const CEntityEvent &__eeInput){
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200bd
const EEnd&__e= (EEnd&)__eeInput;
;Jump(STATE_CURRENT,0x019200c1, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x019200c2_Reload_07(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200c2
if(!(m_iCurrentWeapon  == WEAPON_DOUBLECOLT )){ Jump(STATE_CURRENT,0x019200c0, FALSE, EInternal());return TRUE;}
#line 5394 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
STATE_CPlayerWeapons_ReloadDoubleColt, TRUE;
Jump(STATE_CURRENT, 0x019200be, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x019200be_Reload_03(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200be
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: Call(STATE_CURRENT, STATE_CPlayerWeapons_ReloadDoubleColt, TRUE, EVoid());return TRUE;case EVENTCODE_EEnd: Jump(STATE_CURRENT,0x019200bf, FALSE, __eeInput); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x019200bf_Reload_04(const CEntityEvent &__eeInput){
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200bf
const EEnd&__e= (EEnd&)__eeInput;
;Jump(STATE_CURRENT,0x019200c0, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x019200c0_Reload_05(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200c0
Jump(STATE_CURRENT,0x019200c1, FALSE, EInternal());return TRUE;}
BOOL CPlayerWeapons::H0x019200c1_Reload_06(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200c1

#line 5399 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5406 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ChangeKnifeStand(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_ChangeKnifeStand
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::ChangeKnifeStand expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5419 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 5419 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5422 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ChangeToIronCannon(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_ChangeToIronCannon
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::ChangeToIronCannon expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5433 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iPreviousWeapon  = m_iCurrentWeapon ;
#line 5434 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iCurrentWeapon  = WEAPON_IRONCANNON ;
#line 5435 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_iWantedWeapon  = m_iCurrentWeapon ;
#line 5437 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EEnd  ());
#line 5437 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5461 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
BoringWeaponAnimation(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_BoringWeaponAnimation
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::BoringWeaponAnimation expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5463 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
FLOAT fWait  = 0.0f;
#line 5464 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
switch(m_iCurrentWeapon ){
#line 5465 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_KNIFE : fWait  = KnifeBoring  ();break ;
#line 5466 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_COLT : fWait  = ColtBoring  ();break ;
#line 5467 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLECOLT : fWait  = DoubleColtBoring  ();break ;
#line 5468 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SINGLESHOTGUN : fWait  = SingleShotgunBoring  ();break ;
#line 5469 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_DOUBLESHOTGUN : fWait  = DoubleShotgunBoring  ();break ;
#line 5470 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_TOMMYGUN : fWait  = TommyGunBoring  ();break ;
#line 5471 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_SNIPER : fWait  = SniperBoring  ();break ;
#line 5472 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_MINIGUN : fWait  = MiniGunBoring  ();break ;
#line 5473 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_ROCKETLAUNCHER : fWait  = RocketLauncherBoring  ();break ;
#line 5474 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_GRENADELAUNCHER : fWait  = GrenadeLauncherBoring  ();break ;
#line 5475 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_FLAMER : fWait  = FlamerBoring  ();break ;
#line 5476 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_CHAINSAW : fWait  = ChainsawBoring  ();break ;
#line 5477 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_LASER : fWait  = LaserBoring  ();break ;
#line 5478 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
case WEAPON_IRONCANNON : fWait  = CannonBoring  ();break ;
#line 5479 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
default  : ASSERTALWAYS  ("Unknown weapon.");
#line 5480 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5481 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(!(fWait  > 0.0f)){ Jump(STATE_CURRENT,0x019200c8, FALSE, EInternal());return TRUE;}SetTimerAfter(fWait );
Jump(STATE_CURRENT, 0x019200c6, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x019200c6_BoringWeaponAnimation_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200c6
switch(__eeInput.ee_slEvent) {case EVENTCODE_EBegin: return TRUE;case EVENTCODE_ETimer: Jump(STATE_CURRENT,0x019200c7, FALSE, EInternal()); return TRUE;default: return FALSE; }}BOOL CPlayerWeapons::H0x019200c7_BoringWeaponAnimation_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200c7
;Jump(STATE_CURRENT,0x019200c8, FALSE, EInternal());return TRUE;}BOOL CPlayerWeapons::H0x019200c8_BoringWeaponAnimation_03(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200c8

#line 5483 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EBegin  ());
#line 5483 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5491 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Idle(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Idle
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::Idle expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5493 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x019200ca, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x019200ca_Idle_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200ca
switch(__eeInput.ee_slEvent){case(EVENTCODE_EBegin):{const EBegin&e= (EBegin&)__eeInput;

#line 5496 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayDefaultAnim  ();
#line 5499 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_bChangeWeapon ){
#line 5500 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_ChangeWeapon, TRUE, EVoid());return TRUE;
#line 5501 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5503 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_bFireWeapon ){
#line 5504 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Fire, TRUE, EVoid());return TRUE;
#line 5505 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5507 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_bReloadWeapon ){
#line 5508 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Reload, TRUE, EVoid());return TRUE;
#line 5509 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5510 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5511 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_ESelectWeapon):{const ESelectWeapon&eSelect= (ESelectWeapon&)__eeInput;

#line 5515 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SelectWeaponChange  (eSelect  . iWeapon );
#line 5516 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_bChangeWeapon ){
#line 5517 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_ChangeWeapon, TRUE, EVoid());return TRUE;
#line 5518 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5519 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5520 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EFireWeapon):{const EFireWeapon&e= (EFireWeapon&)__eeInput;

#line 5523 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Fire, TRUE, EVoid());return TRUE;
#line 5524 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EReloadWeapon):{const EReloadWeapon&e= (EReloadWeapon&)__eeInput;

#line 5527 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Jump(STATE_CURRENT, STATE_CPlayerWeapons_Reload, TRUE, EVoid());return TRUE;
#line 5528 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EBoringWeapon):{const EBoringWeapon&e= (EBoringWeapon&)__eeInput;

#line 5531 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Call(STATE_CURRENT, STATE_CPlayerWeapons_BoringWeaponAnimation, TRUE, EVoid());return TRUE;
#line 5532 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;default: return FALSE; break;
#line 5533 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}return TRUE;}BOOL CPlayerWeapons::H0x019200cb_Idle_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200cb
 ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5537 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Stopped(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Stopped
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EVoid, "CPlayerWeapons::Stopped expects 'EVoid' as input!");  const EVoid &e = (const EVoid &)__eeInput;
#line 5540 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(m_iCurrentWeapon  == WEAPON_ROCKETLAUNCHER ){
#line 5541 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CModelObject * pmo  = & (m_moWeapon  . GetAttachmentModel  (ROCKETLAUNCHER_ATTACHMENT_ROCKET1 ) -> amo_moModelObject );
#line 5542 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
if(pmo ){pmo  -> StretchModel  (FLOAT3D (1 , 1 , 1));}
#line 5543 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}
#line 5545 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ResetWeaponMovingOffset  ();
#line 5546 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
CPlayer  & pl  = (CPlayer  &) * m_penPlayer ;
#line 5547 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon0  . Stop  ();
#line 5548 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon1  . Stop  ();
#line 5549 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon2  . Stop  ();
#line 5550 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
pl  . m_soWeapon3  . Stop  ();
#line 5551 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayLightAnim  (LIGHT_ANIM_NONE  , 0);
#line 5552 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x019200cd, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x019200cd_Stopped_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200cd
switch(__eeInput.ee_slEvent){case(EVENTCODE_EPostLevelChange):{const EPostLevelChange&e= (EPostLevelChange&)__eeInput;
Return(STATE_CURRENT,EBegin  ());return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_EStart):{const EStart&e= (EStart&)__eeInput;
Return(STATE_CURRENT,EBegin  ());return TRUE;}ASSERT(FALSE);break;default:{return TRUE;}ASSERT(FALSE);break;
#line 5557 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}return TRUE;}BOOL CPlayerWeapons::H0x019200ce_Stopped_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200ce
 ASSERT(FALSE); return TRUE;};BOOL CPlayerWeapons::
#line 5565 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Main(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT STATE_CPlayerWeapons_Main
  ASSERTMSG(__eeInput.ee_slEvent==EVENTCODE_EWeaponsInit, "CPlayerWeapons::Main expects 'EWeaponsInit' as input!");  const EWeaponsInit &eInit = (const EWeaponsInit &)__eeInput;
#line 5567 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
ASSERT  (eInit  . penOwner  != NULL );
#line 5568 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_penPlayer  = eInit  . penOwner ;
#line 5571 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
InitAsVoid  ();
#line 5572 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetFlags  (GetFlags  () | ENF_CROSSESLEVELS  | ENF_NOTIFYLEVELCHANGE );
#line 5573 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetPhysicsFlags  (EPF_MODEL_IMMATERIAL );
#line 5574 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetCollisionFlags  (ECF_IMMATERIAL );
#line 5577 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetCurrentWeaponModel  ();
#line 5580 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
PlayDefaultAnim  ();
#line 5582 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SetTimerAt(THINKTIME_NEVER);
Jump(STATE_CURRENT, 0x019200cf, FALSE, EBegin());return TRUE;}BOOL CPlayerWeapons::H0x019200cf_Main_01(const CEntityEvent &__eeInput) {
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200cf
switch(__eeInput.ee_slEvent){case(EVENTCODE_EBegin):{const EBegin&e= (EBegin&)__eeInput;
Call(STATE_CURRENT, STATE_CPlayerWeapons_Idle, TRUE, EVoid());return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_ESelectWeapon):{const ESelectWeapon&eSelect= (ESelectWeapon&)__eeInput;

#line 5586 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
SelectWeaponChange  (eSelect  . iWeapon );
#line 5587 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5588 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EPreLevelChange):{const EPreLevelChange&e= (EPreLevelChange&)__eeInput;

#line 5592 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = FALSE ;
#line 5593 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Call(STATE_CURRENT, STATE_CPlayerWeapons_Stopped, TRUE, EVoid());return TRUE;
#line 5594 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5595 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EFireWeapon):{const EFireWeapon&e= (EFireWeapon&)__eeInput;

#line 5598 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = TRUE ;
#line 5599 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5600 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EReleaseWeapon):{const EReleaseWeapon&e= (EReleaseWeapon&)__eeInput;

#line 5603 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bFireWeapon  = FALSE ;
#line 5604 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5605 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EReloadWeapon):{const EReloadWeapon&e= (EReloadWeapon&)__eeInput;

#line 5608 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
m_bReloadWeapon  = TRUE ;
#line 5609 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE;
#line 5610 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}ASSERT(FALSE);break;case(EVENTCODE_EStop):{const EStop&e= (EStop&)__eeInput;
Call(STATE_CURRENT, STATE_CPlayerWeapons_Stopped, TRUE, EVoid());return TRUE;}ASSERT(FALSE);break;case(EVENTCODE_EEnd):{const EEnd&e= (EEnd&)__eeInput;
UnsetTimer();Jump(STATE_CURRENT,0x019200d0, FALSE, EInternal());return TRUE;}ASSERT(FALSE);break;default: return FALSE; break;
#line 5613 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
}return TRUE;}BOOL CPlayerWeapons::H0x019200d0_Main_02(const CEntityEvent &__eeInput){
ASSERT(__eeInput.ee_slEvent==EVENTCODE_EInternal);
#undef STATE_CURRENT
#define STATE_CURRENT 0x019200d0

#line 5616 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Destroy  ();
#line 5617 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
Return(STATE_CURRENT,EVoid());
#line 5617 "C:/MyMod/Sources/EntitiesMP/PlayerWeapons.es"
return TRUE; ASSERT(FALSE); return TRUE;};